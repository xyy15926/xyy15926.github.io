<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>UBeaRLy</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="UBeaRLy&#039;s Proxy"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="UBeaRLy&#039;s Proxy"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="UBeaRLy"><meta property="og:url" content="https://xyy15926.github.io/"><meta property="og:site_name" content="UBeaRLy"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://xyy15926.github.io/img/og_image.png"><meta property="article:author" content="UBeaRLy"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://xyy15926.github.io"},"headline":"UBeaRLy","image":["https://xyy15926.github.io/img/og_image.png"],"author":{"@type":"Person","name":"UBeaRLy"},"publisher":{"@type":"Organization","name":"UBeaRLy","logo":{"@type":"ImageObject","url":"https://xyy15926.github.io/img/logo.svg"}},"description":""}</script><link rel="alternate" href="/atom.xml" title="UBeaRLy" type="application/atom+xml"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/darcula.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oxanium:wght@300;400;600&amp;family=Roboto+Mono"><link rel="stylesheet" href="/css/cyberpunk.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-5385776267343559" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="UBeaRLy" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Visit on GitHub" href="https://github.com/xyy15926/proxy"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:15.000Z" title="3/21/2019, 5:27:15 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:08.000Z" title="2/17/2019, 11:57:08 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Math-Mixin/">Math Mixin</a><span> / </span><a class="link-muted" href="/categories/Math-Mixin/Time-Series/">Time Series</a></span><span class="level-item">a minute read (About 207 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Math-Mixin/Time-Series/models_garch.html">GARCH波动性建模</a></h1><div class="content"><h2 id="白噪声检验"><a href="#白噪声检验" class="headerlink" title="白噪声检验"></a>白噪声检验</h2><p>进行ARIMA模型拟合时，通过检验查询序列是否通过LB检验（白噪声
检验）判断模型显著性，但是实际上</p>
<ul>
<li>LB检验只检验了白噪声序列的纯随机性</li>
<li>对于方差齐性没有进行检验</li>
<li>至于零均值，可以在建模时通过拟合常数项解决</li>
</ul>
<h2 id="方差齐性变换"><a href="#方差齐性变换" class="headerlink" title="方差齐性变换"></a>方差齐性变换</h2><p>如果已知异方差函数的具体形式，找到其转换函数，进行方差齐性
变换</p>
<script type="math/tex; mode=display">
若异方差形式为：\sigma_t^2 = h(\mu_t)，寻找转换函数g(x) \\
\Rightarrow g(x) \approx g(\mu_t) + (x_t - \mu_t)g'(\mu_t) \\
\Rightarrow Var[g(x_t) \approx [g'(\mu_t)^2]Var(x_t) \\
\Rightarrow [g'(mu_t)]^2 h(\mu_t) = \sigma^2 \\
\Rightarorw Var[g(x_t)] = \sigma^2 \\</script><h2 id="拟合条件异方差模型"><a href="#拟合条件异方差模型" class="headerlink" title="拟合条件异方差模型"></a>拟合条件异方差模型</h2></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:15.000Z" title="3/21/2019, 5:27:15 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-19T00:57:20.000Z" title="7/19/2021, 8:57:20 AM">2021-07-19</time></span><span class="level-item"><a class="link-muted" href="/categories/RLang/">RLang</a></span><span class="level-item">a minute read (About 181 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/RLang/ggplot.html">GGPLOT</a></h1><div class="content"><h2 id="GGPlot-绘图"><a href="#GGPlot-绘图" class="headerlink" title="GGPlot 绘图"></a>GGPlot 绘图</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">p &lt;- ggplot(data=mtcars, aes(x=wt, y=mpg))</span><br><span class="line"></span><br><span class="line">geom_bar(color, fill, alpha)</span><br><span class="line">geom_histogram(color, fill, alpha, linetype, binwidth)</span><br><span class="line">geom_boxplot(color, fill, alpha, notch, width)</span><br><span class="line">geom_violin(color, fill, alpha, linetype)</span><br><span class="line">geom_density(color, fill, alpha, linetype)</span><br><span class="line"></span><br><span class="line">geom_rug(color, side)</span><br><span class="line">geom_smooth(method, formula, color, fill, linetype, size)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">geom_hline(color, alpha, linetype, size)</span><br><span class="line">geom_gitter(color, size, alpha, shape)</span><br><span class="line">geom_line(color, alpha, linetype, size)</span><br><span class="line">geom_point(color, alpha, shape, size)</span><br><span class="line">geom_vline(color, alpha, linetype, size)</span><br><span class="line"></span><br><span class="line">geom_text()</span><br></pre></td></tr></table></figure>
<ul>
<li><code>color</code>：点、线、填充区域着色</li>
<li><code>fill</code>：对填充区域着色，如：条形、密度区域</li>
<li><code>alpha</code>：颜色透明度，0~1逐渐不透明</li>
<li><code>linetype</code>：图案线条<ul>
<li>1：实线</li>
<li>2：虚线</li>
<li>3：点</li>
<li>4：点破折号</li>
<li>5：长破折号</li>
<li>6：双破折号</li>
</ul>
</li>
<li><code>size</code>：点尺寸、线宽度</li>
<li><code>shape</code>：点形状<ul>
<li>1：开放的方形</li>
</ul>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:15.000Z" title="3/21/2019, 5:27:15 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-08-04T11:23:45.000Z" title="8/4/2021, 7:23:45 PM">2021-08-04</time></span><span class="level-item"><a class="link-muted" href="/categories/RLang/">RLang</a></span><span class="level-item">11 minutes read (About 1696 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/RLang/r_visualization.html">R可视化</a></h1><div class="content"><h2 id="R图形参数"><a href="#R图形参数" class="headerlink" title="R图形参数"></a>R图形参数</h2><h3 id="使用、保存图形"><a href="#使用、保存图形" class="headerlink" title="使用、保存图形"></a>使用、保存图形</h3><h4 id="保存图形"><a href="#保存图形" class="headerlink" title="保存图形"></a>保存图形</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">png(</span><br><span class="line">	file= <span class="string">&quot;Rplot%03d.png&quot;</span>,</span><br><span class="line">	width= <span class="number">480</span>,</span><br><span class="line">	height= <span class="number">480</span>,</span><br><span class="line">	units= <span class="string">&quot;px&quot;</span>,</span><br><span class="line">		<span class="comment"># 图片分辨率</span></span><br><span class="line">	pointsize= <span class="number">12</span>,</span><br><span class="line">		<span class="comment"># 文字大小</span></span><br><span class="line">	bg= <span class="string">&quot;white&quot;</span>,</span><br><span class="line">	res= <span class="literal">NA</span>,</span><br><span class="line">	family= <span class="string">&quot;&quot;</span>,</span><br><span class="line">	restoreConsole= <span class="literal">TRUE</span>,</span><br><span class="line">	type= <span class="built_in">c</span>(<span class="string">&quot;windows&quot;</span>, <span class="string">&quot;cairo&quot;</span>),</span><br><span class="line">	antialias</span><br><span class="line">)</span><br><span class="line">	<span class="comment"># `par`语句生效必须放在`png`、`dev.off`中间</span></span><br><span class="line">	<span class="comment"># 这个语句会强制覆盖与`par`语句重合的部分参数，即使这个</span></span><br><span class="line">		<span class="comment"># 函数后调用</span></span><br><span class="line"></span><br><span class="line">pdf(filename)</span><br><span class="line">win.metafile(filename)</span><br><span class="line">jpeg(filename)</span><br><span class="line">bmp(filename)</span><br><span class="line">tiff(filename)</span><br><span class="line">xfig(filename)</span><br><span class="line">postscript(filename)</span><br><span class="line">	<span class="comment"># 开启目标图形设备</span></span><br><span class="line">dev.off()</span><br><span class="line">	<span class="comment"># 关闭目标图形设备</span></span><br><span class="line">	<span class="comment"># 绘图语句至于其中，包括`par`</span></span><br><span class="line"></span><br><span class="line">dev.new()</span><br><span class="line">	<span class="comment"># 打开新的图形窗口，防止多次绘图覆盖</span></span><br><span class="line">dev.next()</span><br><span class="line">dev.prev()</span><br><span class="line">dev.set()</span><br><span class="line">	<span class="comment"># 选择将图形发送到不同窗口</span></span><br></pre></td></tr></table></figure>
<h3 id="par"><a href="#par" class="headerlink" title="par"></a><code>par</code></h3><p><code>par</code>函数设置对整个工作空间图像设置均有效</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">opar &lt;- par()</span><br><span class="line">	<span class="comment"># 无参调用，生成含有当前图形参数设置的列表</span></span><br><span class="line">opar &lt;- par(no.readonly= <span class="literal">TRUE</span>)</span><br><span class="line">	<span class="comment"># 生成一个可以修改的当前图形参数列表</span></span><br><span class="line">par(opar)</span><br><span class="line">	<span class="comment"># 恢复为`opar`中的参数设置</span></span><br><span class="line">par(attr_name)</span><br><span class="line">	<span class="comment"># 获取某个属性设置值</span></span><br></pre></td></tr></table></figure>
<h4 id="符号、线条"><a href="#符号、线条" class="headerlink" title="符号、线条"></a>符号、线条</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">par(</span><br><span class="line">	pch= int,</span><br><span class="line">		<span class="comment"># 绘制点时使用的符号</span></span><br><span class="line">	cex= num,</span><br><span class="line">		<span class="comment"># 符号大小，相对于默认大小缩放倍数</span></span><br><span class="line">	lty= int,</span><br><span class="line">		<span class="comment"># 线条类型</span></span><br><span class="line">	lwd= num,</span><br><span class="line">		<span class="comment"># 线条宽度，相对于默认线条宽度的倍数</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">par(</span><br><span class="line">	col= str/<span class="built_in">c</span>(str),</span><br><span class="line">		<span class="comment"># 绘图颜色，循环使用</span></span><br><span class="line">	col.axis= str/<span class="built_in">c</span>(str),</span><br><span class="line">		<span class="comment"># 坐标轴刻度文字颜色</span></span><br><span class="line">	col.lab= str/<span class="built_in">c</span>(str),</span><br><span class="line">		<span class="comment"># 坐标轴标签颜色</span></span><br><span class="line">	col.main= str/<span class="built_in">c</span>(str),</span><br><span class="line">		<span class="comment"># 标题颜色</span></span><br><span class="line">	col.sub= str/<span class="built_in">c</span>(str)</span><br><span class="line">		<span class="comment"># 副标题颜色</span></span><br><span class="line">	fg= str/<span class="built_in">c</span>(str),</span><br><span class="line">		<span class="comment"># 前景色</span></span><br><span class="line">	bg= str/<span class="built_in">c</span>(str),</span><br><span class="line">		<span class="comment"># 背景色</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="文本属性"><a href="#文本属性" class="headerlink" title="文本属性"></a>文本属性</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">par(</span><br><span class="line">	cex= num,</span><br><span class="line">		<span class="comment"># 文本大小，相对默认</span></span><br><span class="line">	cex.axis= num,</span><br><span class="line">		<span class="comment"># 坐标轴刻度文字的缩放倍数</span></span><br><span class="line">	cex.lab= num,</span><br><span class="line">		<span class="comment"># 坐标轴标签缩放倍数</span></span><br><span class="line">	cex.main= num,</span><br><span class="line">		<span class="comment"># 标题缩放倍数</span></span><br><span class="line">	cex.sub= num,</span><br><span class="line">		<span class="comment"># 副标题缩放倍数</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="字体、字号、字样"><a href="#字体、字号、字样" class="headerlink" title="字体、字号、字样"></a>字体、字号、字样</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">par(</span><br><span class="line">	font= int,</span><br><span class="line">		<span class="comment"># 绘图使用字体样式</span></span><br><span class="line">		<span class="comment"># 1：常规、2：粗体、3：斜体、4：粗斜体</span></span><br><span class="line">	font.axis= int,</span><br><span class="line">		<span class="comment"># 坐标轴刻度字体样式</span></span><br><span class="line">	font.lab= int,</span><br><span class="line">	font.main= int,</span><br><span class="line">	font.sub= int,</span><br><span class="line">	ps= num,</span><br><span class="line">		<span class="comment"># 字体磅值</span></span><br><span class="line">		<span class="comment"># 文本最终大小为`cex*ps`</span></span><br><span class="line">	family= <span class="string">&quot;serif&quot;</span>/<span class="string">&quot;sans&quot;</span>/<span class="string">&quot;mono&quot;</span>/str,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="图形、边界尺寸"><a href="#图形、边界尺寸" class="headerlink" title="图形、边界尺寸"></a>图形、边界尺寸</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">par(</span><br><span class="line">	pin= <span class="built_in">c</span>(width, height),</span><br><span class="line">		<span class="comment"># 图片尺寸，单位英寸</span></span><br><span class="line">	mai= <span class="built_in">c</span>(bot, left, top, right),</span><br><span class="line">		<span class="comment"># 边界大小，单位英寸</span></span><br><span class="line">	mar= <span class="built_in">c</span>(bot, left, top, right),</span><br><span class="line">		<span class="comment"># 边界大小，单位英分（1/12英寸）</span></span><br><span class="line">		<span class="comment"># 默认值`c(5, 4, 4, 2)+ 0.1`</span></span><br><span class="line">	mgp= <span class="built_in">c</span>(axis_labels, tick_title, tick),</span><br><span class="line">		<span class="comment"># 坐标轴标签、刻度标签、刻度线位置</span></span><br><span class="line">		<span class="comment"># 图形边缘为0，单位为行</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="文本、自定坐标、图例"><a href="#文本、自定坐标、图例" class="headerlink" title="文本、自定坐标、图例"></a>文本、自定坐标、图例</h3><h4 id="title"><a href="#title" class="headerlink" title="title"></a><code>title</code></h4><p><code>title</code>函数可以为图形添加标题、坐标轴标签</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">title(</span><br><span class="line">	main= str,</span><br><span class="line">	sub= str,</span><br><span class="line">	xlab= str,</span><br><span class="line">	ylab= str,</span><br><span class="line"></span><br><span class="line">	col.main= str,</span><br><span class="line">		<span class="comment"># 也可以指定文本大小、字体、旋转角度、颜色</span></span><br><span class="line">	col.sub= str,</span><br><span class="line">	col.lab= str,</span><br><span class="line">	cex.lab= str</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="axis"><a href="#axis" class="headerlink" title="axis"></a><code>axis</code></h4><p>创建自定义坐标轴</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">axis(</span><br><span class="line">	side= int,</span><br><span class="line">		<span class="comment"># 坐标轴位置</span></span><br><span class="line">		<span class="comment"># 1-4：下、左、上、右</span></span><br><span class="line">	at= <span class="built_in">c</span>(int),</span><br><span class="line">		<span class="comment"># 需要绘制刻度线的位置</span></span><br><span class="line">	labels= <span class="built_in">c</span>(str),	</span><br><span class="line">		<span class="comment"># 刻度线对应labels</span></span><br><span class="line">		<span class="comment"># 默认为`at`中值</span></span><br><span class="line">	pos= num,</span><br><span class="line">		<span class="comment"># 坐标轴线绘制位置坐标，即与另一坐标轴交点</span></span><br><span class="line">	lty= num,</span><br><span class="line">		<span class="comment"># 线条类型</span></span><br><span class="line">	col= str,</span><br><span class="line">		<span class="comment"># 线条、刻度颜色</span></span><br><span class="line">	las= <span class="number">0</span>/<span class="number">2</span>,</span><br><span class="line">		<span class="comment"># 标签平行、垂直坐标轴</span></span><br><span class="line">	tck= num,</span><br><span class="line">		<span class="comment"># 刻度线长度，相对于绘图区域大小分数表示</span></span><br><span class="line">		<span class="comment"># 负值表示在图形外侧</span></span><br><span class="line">		<span class="comment"># `0`表示禁用刻度线</span></span><br><span class="line">		<span class="comment"># `1`表示绘制网格线</span></span><br><span class="line">		<span class="comment"># 默认`-0.01`</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h5 id="minor-tick"><a href="#minor-tick" class="headerlink" title="minor.tick"></a><code>minor.tick</code></h5><p>次要刻度线</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">library(Hmisc)</span><br><span class="line">minor.tick(</span><br><span class="line">	nx= int,</span><br><span class="line">		<span class="comment"># x轴次要刻度**区间**数</span></span><br><span class="line">	ny= int,</span><br><span class="line">	tick.ratio= num</span><br><span class="line">		<span class="comment"># 次要刻度线相较主要刻度线比例</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="abline"><a href="#abline" class="headerlink" title="abline"></a><code>abline</code></h4><p>添加参考线</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">abline(</span><br><span class="line">	h= <span class="built_in">c</span>(int),</span><br><span class="line">		<span class="comment"># 水平参考线位置（多根）</span></span><br><span class="line">	v= <span class="built_in">c</span>(int),</span><br><span class="line">	lty= int,</span><br><span class="line">	col= str,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="legend"><a href="#legend" class="headerlink" title="legend"></a><code>legend</code></h4><p>添加图例</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">legend(</span><br><span class="line">	location= <span class="built_in">c</span>(x, y)/</span><br><span class="line">		<span class="comment"># 指定`x, y`坐标</span></span><br><span class="line">		<span class="string">&quot;bottom&quot;</span>/<span class="string">&quot;bottomleft&quot;</span>/<span class="string">&quot;left&quot;</span>/<span class="string">&quot;topleft&quot;</span>/</span><br><span class="line">		<span class="string">&quot;top&quot;</span>/<span class="string">&quot;topright&quot;</span>/<span class="string">&quot;right&quot;</span>/<span class="string">&quot;bottoright&quot;</span>/<span class="string">&quot;center&quot;</span>/</span><br><span class="line">		<span class="comment"># 使用关键字指定图例位置</span></span><br><span class="line">		locator(<span class="number">1</span>),</span><br><span class="line">		<span class="comment"># 鼠标交互式指定</span></span><br><span class="line">	inset= num,</span><br><span class="line">		<span class="comment"># `location`使用关键字指定位置，设置图例向图形内侧移动</span></span><br><span class="line">		<span class="comment"># 移动`num`绘图区域比例</span></span><br><span class="line">	title= str,</span><br><span class="line">		<span class="comment"># 图例标题字符串</span></span><br><span class="line">	legend= <span class="built_in">c</span>(str),</span><br><span class="line">		<span class="comment"># 图例labels字符串向量</span></span><br><span class="line">	col= <span class="built_in">c</span>(col_str),</span><br><span class="line">	pch= <span class="built_in">c</span>(pch_int),</span><br><span class="line">		<span class="comment"># 若图例标识符号不同的点</span></span><br><span class="line">	lwd= <span class="built_in">c</span>(lwd_int),</span><br><span class="line">	lty= <span class="built_in">c</span>(lty_int),</span><br><span class="line">		<span class="comment"># 若图例标识宽度、样式不同的线</span></span><br><span class="line">	fill= <span class="built_in">c</span>(col_str),</span><br><span class="line">		<span class="comment"># 若图例标识颜色填充的盒型</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="mtext、text"><a href="#mtext、text" class="headerlink" title="mtext、text"></a><code>mtext</code>、<code>text</code></h4><ul>
<li><code>mtext</code>：向图形四个边界之一添加文本</li>
<li><code>text</code>：向绘图区域内部添加文本</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">text(</span><br><span class="line">	location,</span><br><span class="line">		<span class="comment"># 同`legend`</span></span><br><span class="line">	<span class="string">&quot;text to place&quot;</span>,</span><br><span class="line">	pos= int,</span><br><span class="line">		<span class="comment"># 文本相对于`location`方向</span></span><br><span class="line">		<span class="comment"># 1-4：下、左、上、右</span></span><br><span class="line">	offset= num,</span><br><span class="line">		<span class="comment"># 文本相对`location`偏移量</span></span><br><span class="line">	cex= num,</span><br><span class="line">	col= <span class="built_in">c</span>(col_str),</span><br><span class="line">	font= num,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">mtext(</span><br><span class="line">	<span class="string">&quot;text to place&quot;</span>,</span><br><span class="line">	side= int,</span><br><span class="line">		<span class="comment"># 放置文本的边</span></span><br><span class="line">		<span class="comment"># 1-4：下、左、上、右</span></span><br><span class="line">	line= num,</span><br><span class="line">		<span class="comment"># 向内、外移动文本</span></span><br><span class="line">		<span class="comment"># 越大文本越向外移动</span></span><br><span class="line">	adj= int,</span><br><span class="line">		<span class="comment"># 1：文本坐下对齐</span></span><br><span class="line">		<span class="comment"># 2：文本右上对齐</span></span><br><span class="line">	cex= num,</span><br><span class="line">	col= <span class="built_in">c</span>(col_str),</span><br><span class="line">	font= num,</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="图形组合"><a href="#图形组合" class="headerlink" title="图形组合"></a>图形组合</h3><h4 id="par-1"><a href="#par-1" class="headerlink" title="par"></a><code>par</code></h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">par(</span><br><span class="line">	mfrow= <span class="built_in">c</span>(nrows, ncols)</span><br><span class="line">)</span><br><span class="line">	<span class="comment"># 设置按行填充的图形矩阵</span></span><br><span class="line">par(</span><br><span class="line">	mfcol= <span class="built_in">c</span>(nrows, ncols)</span><br><span class="line">)</span><br><span class="line">	<span class="comment"># 设置按列填充的图形矩阵</span></span><br><span class="line">	<span class="comment"># 然后按照的绘图顺序依次填充矩阵</span></span><br><span class="line"></span><br><span class="line">par(</span><br><span class="line">	fig= <span class="built_in">c</span>(x1, x2, y1, y2)</span><br><span class="line">)</span><br><span class="line">	<span class="comment"># 接下来图形在`fig`指定范围内绘制</span></span><br></pre></td></tr></table></figure>
<h4 id="layout"><a href="#layout" class="headerlink" title="layout"></a><code>layout</code></h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">layout(</span><br><span class="line">	mat= matrix(int),</span><br><span class="line">		<span class="comment"># `mat`中元素值`n`表示第n个绘制的图形</span></span><br><span class="line">		<span class="comment"># 其在矩阵中所处的位置即其填充的位置</span></span><br><span class="line">	widths= <span class="built_in">c</span>(num),</span><br><span class="line">		<span class="comment"># 各列宽度值向量</span></span><br><span class="line">		<span class="comment"># 相对图形比例可以直接数值表示</span></span><br><span class="line">		<span class="comment"># 绝对数值可以通过函数`lcm`指定</span></span><br><span class="line">	heights= <span class="built_in">c</span>(num),</span><br><span class="line">		<span class="comment"># 各行高度值向量</span></span><br></pre></td></tr></table></figure>
<h2 id="R原始图表"><a href="#R原始图表" class="headerlink" title="R原始图表"></a>R原始图表</h2><h3 id="条形图"><a href="#条形图" class="headerlink" title="条形图"></a>条形图</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">barplot(</span><br><span class="line">	H,</span><br><span class="line">	xlab,</span><br><span class="line">	ylab,</span><br><span class="line">	main,</span><br><span class="line">	names.arg,</span><br><span class="line">	col</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="一般条形图"><a href="#一般条形图" class="headerlink" title="一般条形图"></a>一般条形图</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">H &lt;- <span class="built_in">c</span>(<span class="number">7</span>, <span class="number">12</span>, <span class="number">28</span>, <span class="number">3</span>, <span class="number">41</span>)</span><br><span class="line">M &lt;- <span class="built_in">c</span>(<span class="string">&quot;Mar&quot;</span>, <span class="string">&quot;Apr&quot;</span>, <span class="string">&quot;May&quot;</span>, <span class="string">&quot;Jun&quot;</span>, <span class="string">&quot;Jul&quot;</span>)</span><br><span class="line"></span><br><span class="line">png(file = <span class="string">&quot;barchart.png&quot;</span>)</span><br><span class="line">	<span class="comment"># 设置图表文件名</span></span><br><span class="line">barplot(</span><br><span class="line">	H,</span><br><span class="line">		<span class="comment"># 各组数据大小</span></span><br><span class="line">	names.arg = M,</span><br><span class="line">		<span class="comment"># 各组labels</span></span><br><span class="line">	xlab = <span class="string">&quot;Month&quot;</span>,</span><br><span class="line">		<span class="comment"># x轴名</span></span><br><span class="line">	ylab = <span class="string">&quot;Revenue&quot;</span>,</span><br><span class="line">		<span class="comment"># y轴名</span></span><br><span class="line">	col = <span class="string">&quot;blue&quot;</span>,</span><br><span class="line">		<span class="comment"># 条形填充颜色</span></span><br><span class="line">	main = <span class="string">&quot;Revenue Chart&quot;</span>,</span><br><span class="line">		<span class="comment"># 标题</span></span><br><span class="line">	border = <span class="string">&quot;red&quot;</span></span><br><span class="line">		<span class="comment"># 条形边框颜色</span></span><br><span class="line">)</span><br><span class="line">	<span class="comment"># 绘制图表</span></span><br><span class="line">dev.off()</span><br><span class="line">	<span class="comment"># 保存图表</span></span><br></pre></td></tr></table></figure>
<h4 id="组合、堆积条形图"><a href="#组合、堆积条形图" class="headerlink" title="组合、堆积条形图"></a>组合、堆积条形图</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">colors &lt;- <span class="built_in">c</span>(<span class="string">&quot;green&quot;</span>, <span class="string">&quot;orange&quot;</span>, <span class="string">&quot;brown&quot;</span>)</span><br><span class="line">months &lt;- <span class="built_in">c</span>(<span class="string">&quot;Mar&quot;</span>, <span class="string">&quot;Apr&quot;</span>, <span class="string">&quot;May&quot;</span>, <span class="string">&quot;Jun&quot;</span>, <span class="string">&quot;Jul&quot;</span>)</span><br><span class="line">regions &lt;- <span class="built_in">c</span>(<span class="string">&quot;East&quot;</span>, <span class="string">&quot;West&quot;</span>, <span class="string">&quot;North&quot;</span>)</span><br><span class="line"></span><br><span class="line">values &lt;- matrix(</span><br><span class="line">	<span class="built_in">c</span>(<span class="number">2</span>,<span class="number">9</span>,<span class="number">3</span>,<span class="number">11</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">12</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">11</span>),</span><br><span class="line">	nrow = <span class="number">3</span>,</span><br><span class="line">	ncol = <span class="number">5</span>,</span><br><span class="line">	byrow = <span class="literal">TRUE</span>)</span><br><span class="line">png(file = <span class="string">&quot;barchart_stacked.png&quot;</span>)</span><br><span class="line">barplot(</span><br><span class="line">	values,</span><br><span class="line">	main = <span class="string">&quot;total revenue&quot;</span>,</span><br><span class="line">	names.arg = months,</span><br><span class="line">	xlab = <span class="string">&quot;month&quot;</span>,</span><br><span class="line">	ylab = <span class="string">&quot;revenue&quot;</span>,</span><br><span class="line">	col = colors)</span><br><span class="line"></span><br><span class="line">legend(</span><br><span class="line">	<span class="string">&quot;topleft&quot;</span>,</span><br><span class="line">	regions,</span><br><span class="line">	cex = <span class="number">1.3</span>,</span><br><span class="line">	fill = colors)</span><br><span class="line"></span><br><span class="line">dev.off()</span><br></pre></td></tr></table></figure>
<h3 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pie(</span><br><span class="line">	x,</span><br><span class="line">	labels,</span><br><span class="line">	radius,</span><br><span class="line">	main,</span><br><span class="line">	col,</span><br><span class="line">	clockwise</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="一般饼图"><a href="#一般饼图" class="headerlink" title="一般饼图"></a>一般饼图</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">x &lt;- <span class="built_in">c</span>(<span class="number">21</span>, <span class="number">62</span>, <span class="number">10</span>, <span class="number">53</span>)</span><br><span class="line">labels &lt;- <span class="built_in">c</span>(<span class="string">&quot;London&quot;</span>, <span class="string">&quot;New York&quot;</span>, <span class="string">&quot;Singapore&quot;</span>, <span class="string">&quot;Mumbai&quot;</span>)</span><br><span class="line">piepercents &lt;- <span class="built_in">round</span>(<span class="number">100</span> * x / <span class="built_in">sum</span>(x), <span class="number">1</span>)</span><br><span class="line">	<span class="comment"># `round`取小数位数</span></span><br><span class="line"></span><br><span class="line">png(file = <span class="string">&quot;city.png&quot;</span>)</span><br><span class="line">pie(</span><br><span class="line">	x,</span><br><span class="line">	labels = piepercents,</span><br><span class="line">	main = <span class="string">&quot;city pie chart&quot;</span>,</span><br><span class="line">	col = rainbow(<span class="built_in">length</span>(x))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">legend(</span><br><span class="line">	<span class="string">&quot;topright&quot;</span>,</span><br><span class="line">	labels,</span><br><span class="line">		<span class="comment"># 饼图注解设为百分比，所以这里设置各组别labels</span></span><br><span class="line">	cex = <span class="number">0.8</span>,</span><br><span class="line">	fill = rainbow(<span class="built_in">length</span>(x))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">dev.off()</span><br></pre></td></tr></table></figure>
<h4 id="3D饼图"><a href="#3D饼图" class="headerlink" title="3D饼图"></a>3D饼图</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">library(plotrix)</span><br><span class="line">x &lt;- <span class="built_in">c</span>(<span class="number">21</span>, <span class="number">62</span>, <span class="number">10</span>, <span class="number">53</span>)</span><br><span class="line">labels &lt;- <span class="built_in">c</span>(<span class="string">&quot;London&quot;</span>, <span class="string">&quot;New York&quot;</span>, <span class="string">&quot;Singapore&quot;</span>, <span class="string">&quot;Mumbai&quot;</span>)</span><br><span class="line"></span><br><span class="line">png(file = <span class="string">&quot;3d_pie_charts.jpg&quot;</span>)</span><br><span class="line"></span><br><span class="line">pie3D(</span><br><span class="line">	x,</span><br><span class="line">	labels,</span><br><span class="line">	explode = <span class="number">0.1</span></span><br><span class="line">	main = <span class="string">&quot;pie charts of countries&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">dev.off()</span><br></pre></td></tr></table></figure>
<h3 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">hist(</span><br><span class="line">	v,</span><br><span class="line">	main,</span><br><span class="line">	xlab,</span><br><span class="line">	xlim,</span><br><span class="line">	ylim,</span><br><span class="line">	breaks,</span><br><span class="line">		<span class="comment"># 每个直方的宽度</span></span><br><span class="line">	col,</span><br><span class="line">	border</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="一般直方图"><a href="#一般直方图" class="headerlink" title="一般直方图"></a>一般直方图</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">v &lt;- <span class="built_in">c</span>(<span class="number">9</span>,<span class="number">13</span>,<span class="number">21</span>,<span class="number">8</span>,<span class="number">36</span>,<span class="number">22</span>,<span class="number">12</span>,<span class="number">41</span>,<span class="number">31</span>,<span class="number">33</span>,<span class="number">19</span>)</span><br><span class="line"></span><br><span class="line">png(file = <span class="string">&quot;histogram.png&quot;</span>)</span><br><span class="line"></span><br><span class="line">hist(</span><br><span class="line">	v,</span><br><span class="line">	xlab = <span class="string">&quot;weight&quot;</span>,</span><br><span class="line">	col = <span class="string">&quot;green&quot;</span>,</span><br><span class="line">	border = <span class="string">&quot;blue&quot;</span></span><br><span class="line">	xlim = <span class="built_in">c</span>(<span class="number">0</span>, <span class="number">40</span>),</span><br><span class="line">	ylim = <span class="built_in">c</span>(<span class="number">0</span>, <span class="number">5</span>),</span><br><span class="line">	breaks = <span class="number">5</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">dev.off()</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:15.000Z" title="3/21/2019, 5:27:15 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-08-04T09:07:32.000Z" title="8/4/2021, 5:07:32 PM">2021-08-04</time></span><span class="level-item"><a class="link-muted" href="/categories/RLang/">RLang</a></span><span class="level-item">21 minutes read (About 3158 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/RLang/r_grammer.html">R语法</a></h1><div class="content"><h2 id="生存"><a href="#生存" class="headerlink" title="生存"></a>生存</h2><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><ul>
<li>R语言的注释和其他脚本语言类似，使用<code>#</code>注释行，但是R没有
多行注释语法</li>
<li>可以使用<code>if(FALSE)</code>语句进行“注释”<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">FALSE</span>) &#123;</span><br><span class="line">	<span class="string">&quot;comments&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="工作路径"><a href="#工作路径" class="headerlink" title="工作路径"></a>工作路径</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">getwd()</span><br><span class="line">	<span class="comment"># 返回当前工作路径，默认`~/Documents`</span></span><br><span class="line">setwd(/path/to/dir)</span><br><span class="line">	<span class="comment"># 设置当前工作路径</span></span><br></pre></td></tr></table></figure>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><ul>
<li>R中有效的变量名称由字母、数字、点、下划线组成，变量名以
字母、后不跟数字的点开头</li>
<li>R中变量为动态类型，可多次更改变量数据类型</li>
<li>变量无法被声明，在首次赋值时生成</li>
</ul>
<h4 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var.1 = <span class="built_in">c</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">	<span class="comment"># 不常用</span></span><br><span class="line">var.2 &lt;- <span class="built_in">c</span>(<span class="string">&quot;learn&quot;</span>, <span class="string">&quot;R&quot;</span>)</span><br><span class="line">	<span class="comment"># 常用方法</span></span><br><span class="line">var <span class="number">.3</span> &lt;&lt;- <span class="built_in">c</span>(<span class="number">3</span>, <span class="number">1</span>, <span class="literal">TRUE</span>, <span class="number">2</span>+<span class="number">3i</span>)</span><br><span class="line">	<span class="comment"># 特殊赋值符，可以扩展变作用域为“整个”工作空间</span></span><br><span class="line">	</span><br><span class="line"><span class="built_in">c</span>(<span class="literal">TRUE</span>, <span class="number">1</span>) -&gt; var.4</span><br><span class="line">	<span class="comment"># 右赋值符</span></span><br><span class="line"><span class="built_in">c</span>(<span class="literal">TRUE</span>, <span class="number">2</span>+<span class="number">3i</span>) -&gt;&gt; var.5</span><br></pre></td></tr></table></figure>
<h4 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h4><p><code>ls</code>函数可以搜索当前工作空间中所有可用变量</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ls(</span><br><span class="line">	pattern = <span class="string">&quot;var_pattern&quot;</span>,</span><br><span class="line">	all.name = <span class="literal">FALSE</span>/<span class="literal">TRUE</span></span><br><span class="line">)</span><br><span class="line">	<span class="comment"># `pattern`：使用模式匹配变量名</span></span><br><span class="line">	<span class="comment"># `all.name`：开头变量默认隐藏，可通过设置参数展示</span></span><br></pre></td></tr></table></figure>
<h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><p><code>rm</code>函数可以删除变量</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rm(var.3)</span><br><span class="line"></span><br><span class="line">rm(<span class="built_in">list</span> = ls())</span><br><span class="line">	<span class="comment"># 删除所有变量</span></span><br></pre></td></tr></table></figure>
<h3 id="数据导入"><a href="#数据导入" class="headerlink" title="数据导入"></a>数据导入</h3><h4 id="edit"><a href="#edit" class="headerlink" title="edit"></a><code>edit</code></h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mydata &lt;- data.frame(</span><br><span class="line">	age = numeric(<span class="number">0</span>),</span><br><span class="line">	gender = character(<span class="number">0</span>),</span><br><span class="line">	weight = numeric(<span class="number">0</span>)</span><br><span class="line">)</span><br><span class="line">	<span class="comment"># `numeric(0)`类似的赋值语句创建指定模式但不含数据变量</span></span><br><span class="line">mydata &lt;- edit(mydata)</span><br><span class="line">	<span class="comment"># `edit`会调用允许手动输入数据的文本编辑其</span></span><br><span class="line">	<span class="comment"># `edit`在副本上操作，需要重新给变量</span></span><br><span class="line">fix(mydata)</span><br><span class="line">	<span class="comment"># `mydata &lt;- edit(mydata)`等价写法，直接在原对象上操作</span></span><br></pre></td></tr></table></figure>
<h4 id="read-table"><a href="#read-table" class="headerlink" title="read.table"></a><code>read.table</code></h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">DF &lt;- read.table(</span><br><span class="line">	file(/path/to/file),</span><br><span class="line">	header = <span class="literal">TRUE</span>/<span class="literal">FALSE</span>,</span><br><span class="line">	sep = <span class="string">&quot; \t\n\r&quot;</span>/<span class="string">&quot;,&quot;</span>,</span><br><span class="line">	row.names = <span class="built_in">c</span>(),</span><br><span class="line">	col.names = <span class="built_in">c</span>(<span class="string">&quot;V1&quot;</span>, <span class="string">&quot;V2&quot;</span>, ...)/<span class="built_in">c</span>(str),</span><br><span class="line">	na.strings = <span class="literal">NULL</span>/<span class="built_in">c</span>(str)),</span><br><span class="line">	colClasses = <span class="literal">NULL</span>/<span class="built_in">c</span>(<span class="string">&quot;numeric&quot;</span>, <span class="string">&quot;character&quot;</span>, <span class="string">&quot;NULL&quot;</span>),</span><br><span class="line">	<span class="built_in">quote</span> = <span class="string">&quot;&#x27;&quot;</span><span class="string">&quot;/str,</span></span><br><span class="line"><span class="string">	skip = 0/int,</span></span><br><span class="line"><span class="string">	stringAsFactors = TRUE/FALSE,</span></span><br><span class="line"><span class="string">	test = str</span></span><br><span class="line"><span class="string">)</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：从<strong>带分隔符</strong>的文本文件中导入数据</p>
</li>
<li><p>参数</p>
<ul>
<li><code>header</code>：第一行是否包含变量名</li>
<li><code>sep</code>：分隔符，默认数个空格、tab、回车、换行</li>
<li><code>row.names</code>：指定行标记符</li>
<li><code>col.names</code>：指定DF对象列名</li>
<li><code>na.strings</code>：表示缺失值的字符串向量，其包含字符串
读取时转为NA</li>
<li><code>colClasses</code>：设置DF对象每列数据模式<ul>
<li>“NULL”表示跳过</li>
<li>长度小于列数时开始循环</li>
<li>读取大型文本可以提高速度</li>
</ul>
</li>
<li><code>quote</code>：字符串划定界限，默认<code>&quot;&#39;</code></li>
<li><code>StringAsFactor</code>：标记字符向量是否转换为factor<ul>
<li><code>colClasses</code>优先级更高</li>
<li>设为FALSE可以提升读取速度</li>
</ul>
</li>
<li><code>text</code>：读取、处理的字符串，而不是<code>file</code></li>
</ul>
</li>
</ul>
<h3 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">print()</span><br><span class="line">	<span class="comment"># 浏览对象取值</span></span><br><span class="line">str()</span><br><span class="line">	<span class="comment"># 查看对象结构</span></span><br><span class="line">ls()</span><br><span class="line">	<span class="comment"># 管理对象</span></span><br><span class="line">remove()</span><br><span class="line">rm()</span><br><span class="line">	<span class="comment"># 删除指定对象</span></span><br></pre></td></tr></table></figure>
<h2 id="数据模式（类型）"><a href="#数据模式（类型）" class="headerlink" title="数据模式（类型）"></a>数据模式（类型）</h2><ul>
<li>数据模式是指R存储数据的方式</li>
<li>即从存储角度对R数据对象划分</li>
<li><code>class</code>函数就是返回数据模式（类型）</li>
</ul>
<h3 id="Logical"><a href="#Logical" class="headerlink" title="Logical"></a>Logical</h3><p>只需要1byte存储</p>
<ul>
<li><code>TRUE/T</code></li>
<li><code>FALSE/F</code></li>
</ul>
<h3 id="Integer"><a href="#Integer" class="headerlink" title="Integer"></a>Integer</h3><p>占用2-4byte</p>
<ul>
<li><code>2L</code>、<code>0L</code></li>
</ul>
<h3 id="Numeric"><a href="#Numeric" class="headerlink" title="Numeric"></a>Numeric</h3><p>可进一步分</p>
<ul>
<li><code>float</code>占用4byte</li>
<li><code>double</code>占用8byte</li>
</ul>
<p>R中数值型数据默认为<code>double</code></p>
<ul>
<li><code>12.3</code>、<code>4</code></li>
</ul>
<h3 id="Complex"><a href="#Complex" class="headerlink" title="Complex"></a>Complex</h3><ul>
<li><code>comlplex</code>：<code>3+2i</code></li>
</ul>
<h3 id="Character"><a href="#Character" class="headerlink" title="Character"></a>Character</h3><p>R中<code>&#39;</code>、<code>&quot;</code>对中的任何值视为字符串</p>
<ul>
<li><code>&#39;</code>、<code>&quot;</code>必须在开头、结尾成对存在</li>
<li><code>&#39;</code>、<code>&quot;</code>结尾的字符串中，只能插入对方</li>
</ul>
<h4 id="paste"><a href="#paste" class="headerlink" title="paste"></a><code>paste</code></h4><p>连接多个字符串</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Chars = paste(</span><br><span class="line">	...,</span><br><span class="line">		<span class="comment"># 要组合的任意数量变量</span></span><br><span class="line">	sep = <span class="string">&quot; &quot;</span>,</span><br><span class="line">		<span class="comment"># 分隔符</span></span><br><span class="line">	collapse = <span class="literal">NULL</span>)</span><br><span class="line">		<span class="comment"># 消除两个字符串之间空格</span></span><br></pre></td></tr></table></figure>
<h4 id="format"><a href="#format" class="headerlink" title="format"></a><code>format</code></h4><p>将数字、字符串格式为特定样式</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Chars = format(</span><br><span class="line">	x([num, chars],</span><br><span class="line">		<span class="comment"># 向量</span></span><br><span class="line">	digits(int),</span><br><span class="line">		<span class="comment"># 显示的总位数</span></span><br><span class="line">	nsmall(int),</span><br><span class="line">		<span class="comment"># 小数点右边最小位数</span></span><br><span class="line">	scientific=<span class="literal">FALSE</span>/<span class="literal">TRUE</span>,</span><br><span class="line">		<span class="comment"># `TRUE`则显示科学计数法</span></span><br><span class="line">	width(int),</span><br><span class="line">		<span class="comment"># 在开始处填充空白来显示的最小宽度</span></span><br><span class="line">	justify = <span class="built_in">c</span>(<span class="string">&quot;left&quot;</span>, <span class="string">&quot;right&quot;</span>, <span class="string">&quot;centre&quot;</span>, <span class="string">&quot;none&quot;</span>))</span><br><span class="line">		<span class="comment"># 字符串显示位置</span></span><br></pre></td></tr></table></figure>
<h4 id="nchar"><a href="#nchar" class="headerlink" title="nchar"></a><code>nchar</code></h4><p>计算包括空格在内的字符串长度</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int = nchar(</span><br><span class="line">	x(chars)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="toupper、tolower"><a href="#toupper、tolower" class="headerlink" title="toupper、tolower"></a><code>toupper</code>、<code>tolower</code></h4><p>改变字符串大小写</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">chars = toupper(</span><br><span class="line">	x(chars)</span><br><span class="line">)</span><br><span class="line">chars = tolower(</span><br><span class="line">	x(chars)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="substring"><a href="#substring" class="headerlink" title="substring"></a><code>substring</code></h4><p>获取字符串子串</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">chars = substring(</span><br><span class="line">	x(chars),</span><br><span class="line">	first(int),</span><br><span class="line">	last(int)</span><br><span class="line">)</span><br><span class="line">	<span class="comment"># 包括头尾</span></span><br></pre></td></tr></table></figure>
<ul>
<li>R对象是指可以赋值给变量的任何事物，包括常量、数据结构、
函数</li>
<li>对象都拥有某种模式，描述对象如何存储</li>
<li>对象拥有某个“类”，向<code>print</code>这样的泛型函数表明如何处理
此对象</li>
</ul>
<h3 id="Raw"><a href="#Raw" class="headerlink" title="Raw"></a>Raw</h3><ul>
<li><code>raw</code>：<code>v &lt;- charToRaw(&quot;Hello&quot;)</code>（byte类型）</li>
</ul>
<h2 id="结构角度划分R对象"><a href="#结构角度划分R对象" class="headerlink" title="结构角度划分R对象"></a>结构角度划分R对象</h2><h3 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h3><p>用于存储数值型、字符型、逻辑型数据的一维<strong>数组</strong></p>
<ul>
<li>单个向量中的出数据必须拥有相同的类型、模式（数值型、字符
型、逻辑型）</li>
<li>R中没有标量，标量以单元素向量形式出现</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">apple &lt;- <span class="built_in">c</span>(<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>, <span class="string">&quot;yellow&quot;</span>) </span><br><span class="line">apple[<span class="number">1</span>]</span><br><span class="line">	<span class="comment"># 访问单个元素，从1开始</span></span><br><span class="line">apple[<span class="number">1</span>: <span class="number">3</span>]</span><br><span class="line">	<span class="comment"># 切片，闭区间</span></span><br><span class="line">apple[<span class="number">7</span>] = <span class="string">&quot;seven&quot;</span></span><br><span class="line">	<span class="comment"># 将值赋给某个向量、矩阵、数组或列表中一个不存在的元素时</span></span><br><span class="line">		<span class="comment"># R将自动扩展其以容纳新值，中间部分设为`NA`</span></span><br><span class="line"></span><br><span class="line">is.vector(apple)</span><br></pre></td></tr></table></figure>
<h4 id="创建向量"><a href="#创建向量" class="headerlink" title="创建向量"></a>创建向量</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rep</span>(start: end, each=repeat_time)</span><br><span class="line">	<span class="comment"># 元素重复</span></span><br><span class="line"><span class="built_in">rep</span>(start: end, times=repeat_time)</span><br><span class="line">	<span class="comment"># 向量重复</span></span><br><span class="line"></span><br><span class="line">seq(from=start, to=end, by=step)</span><br><span class="line">	<span class="comment"># 指定步长</span></span><br><span class="line">seq(from=start, to=end, <span class="built_in">length</span>=len)</span><br><span class="line">	<span class="comment"># 指定个数</span></span><br><span class="line"></span><br><span class="line">vector(<span class="built_in">length</span>=len)</span><br><span class="line">	<span class="comment"># 元素为`FALSE`</span></span><br></pre></td></tr></table></figure>
<h4 id="访问向量元素"><a href="#访问向量元素" class="headerlink" title="访问向量元素"></a>访问向量元素</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a[<span class="number">1</span>]</span><br><span class="line">a[<span class="number">1</span>:<span class="number">2</span>]</span><br><span class="line">a[<span class="built_in">c</span>(<span class="number">1</span>,<span class="number">3</span>)]</span><br><span class="line">a[<span class="built_in">c</span>(<span class="built_in">T</span>, <span class="built_in">F</span>, <span class="built_in">T</span>)]</span><br><span class="line"></span><br><span class="line">a[-<span class="built_in">c</span>(<span class="number">1</span>:<span class="number">2</span>)]</span><br><span class="line">	<span class="comment"># 负号不能用于逻辑向量</span></span><br></pre></td></tr></table></figure>
<h3 id="Matrix"><a href="#Matrix" class="headerlink" title="Matrix"></a>Matrix</h3><p>二维数组：组织具有相同存储类型的一组变量</p>
<ul>
<li>每个元素都拥有相同的模式（数值型、字符型、逻辑型）</li>
</ul>
<h4 id="创建矩阵"><a href="#创建矩阵" class="headerlink" title="创建矩阵"></a>创建矩阵</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mtx &lt;- matrix(</span><br><span class="line">	vector,</span><br><span class="line">	nrow(int)</span><br><span class="line">	ncol(int),</span><br><span class="line">	byrow = <span class="literal">FALSE</span>/<span class="literal">TRUE</span>,</span><br><span class="line">	<span class="built_in">dimnames</span> = <span class="built_in">list</span>(</span><br><span class="line">		<span class="built_in">c</span>(row_names),</span><br><span class="line">		<span class="built_in">c</span>(col_names)</span><br><span class="line">	)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">is.matrix</span>()</span><br><span class="line"></span><br><span class="line">cbind()</span><br><span class="line">	<span class="comment"># 将多个已有向量（列）合并为矩阵</span></span><br></pre></td></tr></table></figure>
<h4 id="矩阵信息"><a href="#矩阵信息" class="headerlink" title="矩阵信息"></a>矩阵信息</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dim</span>(mtx)</span><br><span class="line">	<span class="comment"># 显示矩阵行、列</span></span><br><span class="line">colnames(mtx)</span><br><span class="line">colnames(mtx[, col_start: col_end])</span><br><span class="line">rownames(mtx)</span><br><span class="line">ronnames(mtx[row_start: row_end, ])</span><br></pre></td></tr></table></figure>
<h4 id="访问矩阵元素"><a href="#访问矩阵元素" class="headerlink" title="访问矩阵元素"></a>访问矩阵元素</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><p>类似于矩阵，但是维度可以大于2</p>
<ul>
<li>其中元素也只能拥有一种模式</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">arr &lt;- array(</span><br><span class="line">	vector,</span><br><span class="line">	dimensions(<span class="built_in">c</span>(int)),</span><br><span class="line">	<span class="built_in">dimnames</span> = <span class="built_in">c</span>(dim_names)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="Data-Frame"><a href="#Data-Frame" class="headerlink" title="Data.Frame"></a>Data.Frame</h3><p>数据帧是表、二维数组类似结构</p>
<ul>
<li>不同的列可以包含不同的模式</li>
<li>每列包含一个变量的值，每行包含来自每列的一组值</li>
<li>数据帧的数据可是数字、因子、字符串类型</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">df &lt;- data.frame(</span><br><span class="line">	col1(<span class="built_in">c</span>()),</span><br><span class="line">	col2(<span class="built_in">c</span>()),</span><br><span class="line">	...,</span><br><span class="line">	row.names = coln</span><br><span class="line">)</span><br><span class="line">	<span class="comment"># `row.names`：指定实例标识符，即index</span></span><br><span class="line"></span><br><span class="line">emp.data &lt;- data.frame(</span><br><span class="line">	emp_id = <span class="built_in">c</span>(<span class="number">1</span>:<span class="number">5</span>),</span><br><span class="line">	emp_name = <span class="built_in">c</span>(<span class="string">&quot;Rick&quot;</span>,<span class="string">&quot;Dan&quot;</span>,<span class="string">&quot;Michelle&quot;</span>,<span class="string">&quot;Ryan&quot;</span>,<span class="string">&quot;Gary&quot;</span>),</span><br><span class="line">	salary = <span class="built_in">c</span>(<span class="number">623.3</span>,<span class="number">515.2</span>,<span class="number">611.0</span>,<span class="number">729.0</span>,<span class="number">843.25</span>),</span><br><span class="line">	start_date = as.Date(<span class="built_in">c</span>(<span class="string">&quot;2017-01-01&quot;</span>, <span class="string">&quot;2017-09-23&quot;</span>,</span><br><span class="line">		<span class="string">&quot;2017-11-15&quot;</span>, <span class="string">&quot;2017-05-11&quot;</span>, <span class="string">&quot;2018-03-27&quot;</span>)),</span><br><span class="line">	stringsAsFactors = <span class="literal">FALSE</span></span><br><span class="line">)</span><br><span class="line">	<span class="comment"># 创建DF</span></span><br></pre></td></tr></table></figure>
<h4 id="统计性质"><a href="#统计性质" class="headerlink" title="统计性质"></a>统计性质</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str(emp.data)</span><br><span class="line">	<span class="comment"># 可以获得DF结构</span></span><br><span class="line"></span><br><span class="line">summary(emp.data)</span><br><span class="line">	<span class="comment"># 获得DF的统计摘要、性质</span></span><br></pre></td></tr></table></figure>
<h4 id="筛、删、减"><a href="#筛、删、减" class="headerlink" title="筛、删、减"></a>筛、删、减</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">emp.data.cols &lt;- data.frame(</span><br><span class="line">	emp.data$emp_name,</span><br><span class="line">	emp.data$salary)</span><br><span class="line">	# 列名称获取DF中特定列</span><br><span class="line"></span><br><span class="line">emp.data.rows &lt;- emp.data([1:2, ]</span><br><span class="line">	# 行切片获取特定行</span><br><span class="line"></span><br><span class="line">emp.data.rows_2 &lt;- emp.data[c(3, 5), c(2, 4)]</span><br><span class="line">	# 行、列list获取特定行、列</span><br><span class="line"></span><br><span class="line">emp.data$dept &lt;- c(&quot;IT&quot;, &quot;Operations&quot;, &quot;IT&quot;, &quot;HR&quot;, &quot;Finance&quot;)</span><br><span class="line">	# 新列名添加新列</span><br><span class="line"></span><br><span class="line">emp.newdata &lt;- data.frame(</span><br><span class="line">	emp_id = c(6: 8),</span><br><span class="line">	emp_name = c(&quot;Rasmi&quot;,&quot;Pranab&quot;,&quot;Tusar&quot;),</span><br><span class="line">	salary = c(578.0,722.5,632.8), </span><br><span class="line">	start_date = as.Date(c(&quot;2013-05-21&quot;,&quot;2013-07-30&quot;,&quot;2014-06-17&quot;)),</span><br><span class="line">	dept = c(&quot;IT&quot;,&quot;Operations&quot;,&quot;Fianance&quot;),</span><br><span class="line">	stringsAsFactors = FALSE</span><br><span class="line">)</span><br><span class="line">emp.finaldata &lt;- rbind(emp.data, emp.newdata)</span><br><span class="line">	# `rbind`将新DF同原DFconcat，达到添加新行</span><br></pre></td></tr></table></figure>
<h4 id="拼、接"><a href="#拼、接" class="headerlink" title="拼、接"></a>拼、接</h4><h5 id="rbind"><a href="#rbind" class="headerlink" title="rbind"></a><code>rbind</code></h5><p>结合两个DF对象行</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">city &lt;- <span class="built_in">c</span>(<span class="string">&quot;Tampa&quot;</span>, <span class="string">&quot;Seattle&quot;</span>, <span class="string">&quot;Hartford&quot;</span>, <span class="string">&quot;Denver&quot;</span>)</span><br><span class="line">state &lt;- <span class="built_in">c</span>(<span class="string">&quot;FL&quot;</span>, <span class="string">&quot;WA&quot;</span>, <span class="string">&quot;CT&quot;</span>, <span class="string">&quot;CO&quot;</span>)</span><br><span class="line">zipcode &lt;- <span class="built_in">c</span>(<span class="number">33602</span>, <span class="number">98104</span>, <span class="number">06161</span>, <span class="number">80294</span>)</span><br><span class="line"></span><br><span class="line">address &lt;- cbind(city, state, zipcode)</span><br><span class="line">	<span class="comment"># `cbind`连接多个向量创建DF</span></span><br><span class="line"></span><br><span class="line">new.address &lt;- data.frame(</span><br><span class="line">	city = <span class="built_in">c</span>(<span class="string">&quot;Lowry&quot;</span>, <span class="string">&quot;Charlotte&quot;</span>),</span><br><span class="line">	state = <span class="built_in">c</span>(<span class="string">&quot;CO&quot;</span>, <span class="string">&quot;FL&quot;</span>),</span><br><span class="line">	zipcode = C(<span class="string">&quot;80230&quot;</span>, <span class="string">&quot;33949&quot;</span>),</span><br><span class="line">	stringAsFactors = <span class="literal">FALSE</span></span><br><span class="line">)</span><br><span class="line">	<span class="comment"># 使用`data.fram`创建DF</span></span><br><span class="line"></span><br><span class="line">all.address &lt;- rbind(</span><br><span class="line">	address,</span><br><span class="line">	new.address</span><br><span class="line">)</span><br><span class="line">	<span class="comment"># `rbind`结合两个DF的行</span></span><br></pre></td></tr></table></figure>
<h5 id="merge"><a href="#merge" class="headerlink" title="merge"></a><code>merge</code></h5><p>根据两DF列进行merge</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">lirary(MASS)</span><br><span class="line">	<span class="comment"># 加载数据集</span></span><br><span class="line"></span><br><span class="line">merged.Pima &lt;- merge(</span><br><span class="line">	x = Pima.te,</span><br><span class="line">	y = Pima.tr,</span><br><span class="line">	by.x = <span class="built_in">c</span>(<span class="string">&quot;bp&quot;</span>, <span class="string">&quot;bmi&quot;</span>),</span><br><span class="line">	by.y = <span class="built_in">c</span>(<span class="string">&quot;bp&quot;</span>, <span class="string">&quot;bmi&quot;</span>)</span><br><span class="line">)</span><br><span class="line">	<span class="comment"># 根据DF某（些）列merge</span></span><br></pre></td></tr></table></figure>
<h5 id="melt、cast"><a href="#melt、cast" class="headerlink" title="melt、cast"></a><code>melt</code>、<code>cast</code></h5><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">library(MASS)</span><br><span class="line">library(reshape2)</span><br><span class="line">melton.ships &lt;- melt(</span><br><span class="line">	ships,</span><br><span class="line">	id = <span class="built_in">c</span>(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;year&quot;</span>)</span><br><span class="line">)</span><br><span class="line">	<span class="comment"># `melt`将剩余列转换为`variable`、`value`标识</span></span><br><span class="line"></span><br><span class="line">recasted.ship &lt;- cast(</span><br><span class="line">	molten.ship,</span><br><span class="line">	type+year~variable,<span class="built_in">sum</span></span><br><span class="line">)</span><br><span class="line">	<span class="comment"># 和`melt`相反，以某些列为“轴”合并</span></span><br></pre></td></tr></table></figure>
<h4 id="绑定"><a href="#绑定" class="headerlink" title="绑定"></a>绑定</h4><h5 id="attach、detach"><a href="#attach、detach" class="headerlink" title="attach、detach"></a><code>attach</code>、<code>detach</code></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">attach(emp.data)</span><br><span class="line">	# `attach`可以将数据框加入R的搜索路径</span><br><span class="line">	# 之后R遇到变量名之后，将检查搜索路径的数据框</span><br><span class="line">	# 注意，如果之前环境中已经有df对象列同名变量，那么原始</span><br><span class="line">		# 对象优先，不会被覆盖</span><br><span class="line"></span><br><span class="line">	emp.data.cols.copy &lt;- data.frame(</span><br><span class="line">		emp_name,</span><br><span class="line">		salary</span><br><span class="line">	)</span><br><span class="line">		# 否则需要之前一样使用`$`</span><br><span class="line">detach(emp.data)</span><br><span class="line">	# 将数据框从搜索路径移除</span><br></pre></td></tr></table></figure>
<h5 id="with"><a href="#with" class="headerlink" title="with"></a><code>with</code></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span>(emp.data, &#123;</span><br><span class="line">	emp.data.cols.copy &lt;&lt;- data.frame(</span><br><span class="line">		emp_name,</span><br><span class="line">		salary</span><br><span class="line">	)</span><br><span class="line">&#125;)</span><br><span class="line">	<span class="comment"># `&#123;&#125;`中的语句都针对`emp.data`执行，如果只有一条语句，</span></span><br><span class="line">		<span class="comment"># 花括号可以省略</span></span><br><span class="line">	<span class="comment"># `with`语句内`&lt;-`赋值仅在其作用于内生效，需要使用`&lt;&lt;-`</span></span><br><span class="line">		<span class="comment"># 特殊赋值符保存至“全局”变量中</span></span><br></pre></td></tr></table></figure>
<h3 id="Factor"><a href="#Factor" class="headerlink" title="Factor"></a>Factor</h3><p>分类变量、有序变量在R中称为因子，其决定了数据的分析方式、
如何进行视觉呈现</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fctr &lt;- factor(</span><br><span class="line">	vector(c(factors)),</span><br><span class="line">	ordered = FALSE/TRUE,</span><br><span class="line">	levels = c(ordered_unique_factors),</span><br><span class="line">	labels = c(factor_labels)</span><br><span class="line"></span><br><span class="line">	<span class="comment"># `ordered`：默认不是有序变量</span></span><br><span class="line">	<span class="comment"># `levels`：指定factors的“排序”，确定映射的整数值，</span></span><br><span class="line">		<span class="comment"># 对于分类变量也可以设置</span></span><br><span class="line">		<span class="comment"># 没有在`levels`中显式指定的factor视为缺失</span></span><br><span class="line">	<span class="comment"># `labels`：设置各factor labels，输出则按照labels输出</span></span><br><span class="line">		<span class="comment"># 注意`labels`顺序必须和`levels`一致</span></span><br><span class="line">		<span class="comment"># 对数值型factor尤其有用</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>factor</code>以整形向量的形式存储类别值<ul>
<li>整数取值范围为<code>1~k</code>，<code>k</code>为定性（分类、有序）变量中
唯一值个数</li>
</ul>
</li>
<li>同时一个由字符串（原始值）组成的内部向量将映射到这些整数<ul>
<li>分类变量：字符串映射的整数值由字母序决定</li>
<li>有序变量：按字母序映射可能与逻辑顺序不一致，可以使用
参数<code>levels</code>指定顺序</li>
</ul>
</li>
</ul>
<h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><p>一些对象、成分的有序集合</p>
<ul>
<li>允许整合若干（可能无关）的对象到单个对象下</li>
<li>很多R函数结果运行结果以列表形式返回，由调用者决定使用
其中何种成分</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">l &lt;- <span class="built_in">list</span>(</span><br><span class="line">	[name1 =]object1,</span><br><span class="line">	[name2 =]object2,</span><br><span class="line">	...</span><br><span class="line">)</span><br><span class="line">	<span class="comment"># 可以给列表中的对象命名</span></span><br><span class="line">	<span class="comment"># 命名成分`l$name1`也可以正常运行</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">list1 &lt;- <span class="built_in">list</span>(<span class="built_in">c</span>(<span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>), <span class="number">21</span>, <span class="number">3</span>, <span class="built_in">sin</span>)</span><br><span class="line">print(list1)</span><br><span class="line">print(<span class="built_in">class</span>(list1))</span><br></pre></td></tr></table></figure>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p>算术操作符作用与向量的每个元素</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">v &lt;- <span class="built_in">c</span>(<span class="number">2</span>, <span class="number">5.5</span>, <span class="number">6</span>)</span><br><span class="line">t &lt;- <span class="built_in">c</span>(<span class="number">8</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">print(v + t)</span><br><span class="line">	<span class="comment"># 算术操作符作用与向量的每个元素</span></span><br><span class="line">print(v - t)</span><br><span class="line">print(v * t)</span><br><span class="line">print(v/t)</span><br><span class="line">print(v %% t)</span><br><span class="line">	<span class="comment"># 向量求余</span></span><br><span class="line">print(v %/% t)</span><br><span class="line">	<span class="comment"># 求商</span></span><br><span class="line">print(v ^ t)</span><br><span class="line">	<span class="comment"># 指数运算</span></span><br></pre></td></tr></table></figure>
<h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><p>比较两个向量的相应元素，返回布尔值向量</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">v &lt;- <span class="built_in">c</span>(<span class="number">2</span>, <span class="number">5.5</span>, <span class="number">6</span>, <span class="number">9</span>)</span><br><span class="line">t &lt;- <span class="built_in">c</span>(<span class="number">8</span>, <span class="number">2.5</span>, <span class="number">14</span>, <span class="number">9</span>)</span><br><span class="line">print (v &gt; t)</span><br><span class="line">	<span class="comment"># 比较两个向量的相应元素，返回布尔值向量</span></span><br><span class="line">print (v &lt; t)</span><br><span class="line">print (v == t)</span><br><span class="line">print (v != t)</span><br><span class="line">print (v &lt;= t)</span><br><span class="line">print (v &gt;= t)</span><br></pre></td></tr></table></figure>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>只适用于逻辑、数字、复杂类型向量，所有大于1的数字被认为是
逻辑值<code>TRUE</code></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">v &lt;- <span class="built_in">c</span>(<span class="number">3</span>, <span class="number">1</span>, <span class="literal">TRUE</span>, <span class="number">2</span>+<span class="number">3i</span>)</span><br><span class="line">t &lt;- <span class="built_in">c</span>(<span class="number">4</span>, <span class="number">1</span>, False, <span class="number">2</span>+<span class="number">3i</span>)</span><br><span class="line">print(v &amp; t)</span><br><span class="line">	<span class="comment"># 比较两个向量相应元素，返回布尔值向量</span></span><br><span class="line">print(v | t)</span><br><span class="line">print(!v)</span><br><span class="line"></span><br><span class="line">print(v &amp;&amp; t)</span><br><span class="line">	<span class="comment"># 只考虑向量的第一个元素，输出单个bool值元素向量</span></span><br><span class="line">print(v || t)</span><br></pre></td></tr></table></figure>
<h3 id="其他运算符"><a href="#其他运算符" class="headerlink" title="其他运算符"></a>其他运算符</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">t &lt;- 2: <span class="number">8</span></span><br><span class="line">	<span class="comment"># 为向量按顺序创建一系列数字</span></span><br><span class="line"></span><br><span class="line">v1 &lt;- 8</span><br><span class="line">v2 &lt;- 12</span><br><span class="line">print (v1 %in% t)</span><br><span class="line">print (v2 %in% t)</span><br><span class="line">	<span class="comment"># 标识元素是否属于向量</span></span><br><span class="line"></span><br><span class="line">M = matrix(<span class="built_in">c</span>(<span class="number">2</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">4</span>),</span><br><span class="line">	nrow = <span class="number">2</span>,</span><br><span class="line">	ncol = <span class="number">3</span>,</span><br><span class="line">	byrow = <span class="literal">TRUE</span>)</span><br><span class="line">t = M %*% t(M)</span><br><span class="line">	<span class="comment"># 矩阵相乘</span></span><br></pre></td></tr></table></figure>
<h2 id="R语句"><a href="#R语句" class="headerlink" title="R语句"></a>R语句</h2><h3 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">switch</span></span><br></pre></td></tr></table></figure>
<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">repeat</span></span><br><span class="line"><span class="keyword">while</span></span><br><span class="line"><span class="keyword">for</span></span><br><span class="line"><span class="keyword">break</span></span><br><span class="line"><span class="keyword">next</span></span><br></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">func_name &lt;- <span class="keyword">function</span>(</span><br><span class="line">	arg_1,</span><br><span class="line">	arg_2,...)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="R内置函数"><a href="#R内置函数" class="headerlink" title="R内置函数"></a>R内置函数</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(seq(<span class="number">32</span>, <span class="number">44</span>))</span><br><span class="line">print(mean(<span class="number">25</span>: <span class="number">82</span>))</span><br><span class="line">print(<span class="built_in">sum</span>(<span class="number">41</span>: <span class="number">68</span>))</span><br></pre></td></tr></table></figure>
<h3 id="自定义参数"><a href="#自定义参数" class="headerlink" title="自定义参数"></a>自定义参数</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">new.function_1 &lt;- fucntion()&#123;</span><br><span class="line">	<span class="comment"># 无参数函数</span></span><br><span class="line">	<span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">1</span>: <span class="number">5</span>)&#123;</span><br><span class="line">		print(i ^ <span class="number">2</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">new.function_1()</span><br><span class="line"></span><br><span class="line">new.function_2 &lt;- <span class="keyword">function</span>(a, b, <span class="built_in">c</span>)&#123;</span><br><span class="line">	<span class="comment"># 有参数函数</span></span><br><span class="line">	result &lt;- a * b + <span class="built_in">c</span></span><br><span class="line">	print(result)</span><br><span class="line">&#125;</span><br><span class="line">new.function_2(<span class="number">5</span>, <span class="number">3</span>, <span class="number">11</span>)</span><br><span class="line">	<span class="comment"># 按参数顺序调用函数</span></span><br><span class="line">new.function_2(</span><br><span class="line">	a = <span class="number">11</span>,</span><br><span class="line">	b = <span class="number">5</span>,</span><br><span class="line">	<span class="built_in">c</span> = <span class="number">3</span>)</span><br><span class="line">	<span class="comment"># 按参数名称调用</span></span><br><span class="line"></span><br><span class="line">new.function_3 &lt;- <span class="keyword">function</span>(a=<span class="number">3</span>, b=<span class="number">6</span>)&#123;</span><br><span class="line">	<span class="comment"># 含有默认参数函数</span></span><br><span class="line">	result &lt;- a * b</span><br><span class="line">	print(result)</span><br><span class="line">&#125;</span><br><span class="line">new.function_3</span><br><span class="line">	<span class="comment"># 无参数（使用默认参数）</span></span><br><span class="line">new.function_3(<span class="number">9</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<h3 id="函数功能延迟计算"><a href="#函数功能延迟计算" class="headerlink" title="函数功能延迟计算"></a>函数功能延迟计算</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">new.function &lt;- <span class="keyword">function</span>(a, b)&#123;</span><br><span class="line">	print(a ^ <span class="number">2</span>)</span><br><span class="line">	print(a)</span><br><span class="line">	print(b)</span><br><span class="line">&#125;</span><br><span class="line">new.function(<span class="number">6</span>)</span><br><span class="line">	<span class="comment"># 调用函数能部分执行成功，直到`print(b)`</span></span><br></pre></td></tr></table></figure>
<h2 id="包"><a href="#包" class="headerlink" title="包"></a>包</h2><p>R语言包是R函数、编译代码、样本数据的集合</p>
<ul>
<li>存储在R环境中名为<code>library</code>的目录下</li>
<li>默认情况下，只有R安装时提供默认包可用，已安装的其他包
必须显式加载</li>
</ul>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.libPaths()</span><br><span class="line">	<span class="comment"># 获取包含R包的库位置</span></span><br><span class="line"></span><br><span class="line">library()</span><br><span class="line">	<span class="comment"># 获取已安装所有软件包列表</span></span><br><span class="line"></span><br><span class="line">search()</span><br><span class="line">	<span class="comment"># 获取当前R环境中加载的所有包</span></span><br></pre></td></tr></table></figure>
<h3 id="安装包"><a href="#安装包" class="headerlink" title="安装包"></a>安装包</h3><ul>
<li><p>直接从CRAN安装</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install.package(<span class="string">&quot;pkg_name&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>手动安装包：从<a target="_blank" rel="noopener" href="https://cran.r-project.org/web/packages/available_packages_by_name.html">https://cran.r-project.org/web/packages/available_packages_by_name.html</a>
中下载包，将zip文件保存</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install.package(/path/to/pkg.zip, repos=<span class="literal">NULL</span>, type=<span class="string">&quot;source&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="加载包"><a href="#加载包" class="headerlink" title="加载包"></a>加载包</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">library(<span class="string">&quot;pkg_name&quot;</span>,</span><br><span class="line">	lib.loc=/path/to/library)</span><br><span class="line">	<span class="comment"># `lib.loc`参数默认应该就是`.libPaths`，一般不用设置</span></span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:15.000Z" title="3/21/2019, 5:27:15 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-22T03:22:21.000Z" title="2/22/2019, 11:22:21 AM">2019-02-22</time></span><span class="level-item"><a class="link-muted" href="/categories/Algorithm/">Algorithm</a></span><span class="level-item">44 minutes read (About 6539 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Algorithm/alg_analysis.html">算法分析</a></h1><div class="content"><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><p>算法：一系列解决问题的<strong>明确</strong>指令，即对于符合一定规范的
输入，能够在有限时间内获得要求的输出</p>
<ul>
<li>算法每步都必须<strong>没有歧义</strong></li>
<li>必须确定算法所处理的<strong>输入的值域</strong></li>
<li>同一算法可以用几种不同的形式描述</li>
<li>同一问题，可能存在几种不同的算法</li>
<li>同问题的不同算法，可能基于不同的解题思路，速度也会不同</li>
</ul>
<h3 id="算法正确性证明"><a href="#算法正确性证明" class="headerlink" title="算法正确性证明"></a>算法正确性证明</h3><ul>
<li>对某些算法，正确性证明十分简单，对于另一些算法，可能十分
复杂</li>
<li>证明正确性的一般方法是使用数学归纳法，因为算法的迭代过程
本身就符合其所需的一系列步骤</li>
<li>根据特定输入追踪算法操作有意义，但是并不能证明算法的
正确性，只需要一个算法不能正确处理的输入实例就足够了</li>
<li>对于近似算法，常常试图证明算法所产生的误差，不超出预定义
的误差</li>
</ul>
<h3 id="算法分析方向"><a href="#算法分析方向" class="headerlink" title="算法分析方向"></a>算法分析方向</h3><ul>
<li>时间效率（time efficiency）：算法运行速度</li>
<li>空间效率（space efficiency）：算法需要多少额外的存储空间</li>
<li>简单性（simplicity）：取决于审视者的眼光<ul>
<li>简单的算法更容易理解、实现</li>
<li>相应程序包含更少的bug</li>
</ul>
</li>
<li>一般性（generality）<ul>
<li>所解决问题的一般性</li>
<li>所接受输入的一般性</li>
</ul>
</li>
<li>最优性（optimality）：与所解决问题的复杂度有关，与某算法
效率无关</li>
<li>是否每个问题都能够用算法的方法来解决</li>
</ul>
<h3 id="非确定性"><a href="#非确定性" class="headerlink" title="非确定性"></a>非确定性</h3><h4 id="Deterministic-Alogrithm"><a href="#Deterministic-Alogrithm" class="headerlink" title="Deterministic Alogrithm"></a><em>Deterministic Alogrithm</em></h4><p>确定算法：利用问题解析性质，产生确定的有限、无限序列使其收敛
于全局最优解</p>
<ul>
<li><p>依某确定性策略搜索局部极小，试图跳跃已获得的局部极小而
达到某个全局最优点</p>
</li>
<li><p>能充分利用问题解析性质，从计算效率高</p>
</li>
</ul>
<h4 id="Nondeterministic-Algorithm"><a href="#Nondeterministic-Algorithm" class="headerlink" title="Nondeterministic Algorithm"></a><em>Nondeterministic Algorithm</em></h4><p>不确定算法，包括两个阶段，将判定问题的实例l作为其输入</p>
<blockquote>
<ul>
<li>猜测（非确定）阶段：生成任意串S作为l候选解</li>
<li>验证（确定）阶段：把l、S作为输入，，若S是l解输出<em>是</em>，
  否则返回<em>否</em>或无法停止</li>
</ul>
</blockquote>
<ul>
<li><p>当选仅当对问题每个真实例，不确定算法会在<strong>某次</strong>执行中
返回<em>是</em>时，称算法能求解此问题</p>
</li>
<li><p>即要求不确定算法对某个解至少能够猜中一次、验证正确性，
同时不应该将错误答案判定为<em>是</em></p>
</li>
<li><p><em>Nondeterministic Polynominal Algorithm</em>：验证阶段时间
效率是多项式级的不确定算法</p>
</li>
</ul>
<h2 id="分析框架"><a href="#分析框架" class="headerlink" title="分析框架"></a>分析框架</h2><ul>
<li>time complexity：算法运行速度</li>
<li>space complexity：算法需要的额外空间<ul>
<li>算法需要的额外空间已经不是需要重点关注的问题</li>
</ul>
</li>
</ul>
<h3 id="影响因素"><a href="#影响因素" class="headerlink" title="影响因素"></a>影响因素</h3><h4 id="输入规模-n"><a href="#输入规模-n" class="headerlink" title="输入规模$n$"></a>输入规模$n$</h4><ul>
<li><p>几乎所有算法，对规模更大的输入需要运行更长时间，因此使用
输入规模作为参数很有价值</p>
</li>
<li><p>在有些情况下，选择不同的参数表示输入规模有差别</p>
</li>
<li><p>选择输入规模的度量单位还受到算法的操作细节影响</p>
</li>
<li><p>和数字特性相关的算法，倾向于使用$n$的二进制位数
$b=\lfloor {log_{2}^{n}} \rfloor + 1$</p>
</li>
</ul>
<h4 id="其他因素"><a href="#其他因素" class="headerlink" title="其他因素"></a>其他因素</h4><p>有些算法的运行时间不仅取决于输入规模，还取决于特定输入的细节</p>
<ul>
<li><em>worst-case efficiency</em>：最坏情况下的效率</li>
<li><em>best-case efficiency</em>：最优情况下的效率</li>
<li><em>average-case efficiency</em><ul>
<li>平均效率的研究比最差、优效率研究困难很多</li>
<li>可以将输入划分为几种类型，使得对同类实例，算法基本
执行次数相同，推导各类输入的概率分布，得到平均次数</li>
</ul>
</li>
<li><em>amortized efficiency</em>：应用于算法对同样的数据结构所执行
的一系列操作<ul>
<li>有些情况下，算法单次执行时间代价高，但是n次运行的
总运行时间明显优于单次执行最差效率 * n</li>
</ul>
</li>
</ul>
<h3 id="衡量角度"><a href="#衡量角度" class="headerlink" title="衡量角度"></a>衡量角度</h3><h4 id="运行时间"><a href="#运行时间" class="headerlink" title="运行时间"></a>运行时间</h4><ul>
<li><p>使用<strong>时间</strong>标准的度量算法程序运行时间缺陷</p>
<ul>
<li>计算机速度</li>
<li>程序实现质量</li>
<li>编译器</li>
<li>计时困难</li>
</ul>
</li>
<li><p>找到<em>basic operation</em>并计算其运行次数</p>
<ul>
<li>不依赖于其他无关因素</li>
<li>对总运行时间贡献最大，不需要统计算法每步操作执行次数</li>
<li>如：对排序基本操作为键比较，数学问题则是四则运算，
需要注意除法、乘法、加减法耗时依次减小</li>
</ul>
</li>
<li><p>时间估计</p>
<ul>
<li>$c_{op}$：特定计算一个基本操作的执行时间</li>
<li>$C(n)$：算法执行基本操作的次数</li>
<li>$T(n)=c_{op}C(n)$：可以用于估算算法的执行时间<ul>
<li>需要小心使用</li>
<li>$C(n)$不包含非基本操作的信息，也只是估计的结果</li>
<li>$c_{op}$也是不可靠的估计值</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Order-of-Growth"><a href="#Order-of-Growth" class="headerlink" title="Order of Growth"></a>Order of Growth</h4><p>小规模输入运行时间差别不足以将高效算法与低效算法相区别，
对大规模输入忽略乘法常量，仅关注执行次数的<em>order of growth</em>
及其常数倍，即算法的渐进效率</p>
<ul>
<li><p>按照算法渐进效率进行分类的方法缺乏使用价值，因为没有指定
乘法常量的值</p>
</li>
<li><p>但是对于实际类型输入，除了少数算法，乘法常量之间不会相差
悬殊，作为规律，即使是中等规模的输入，属于较优渐进
效率类型的算法也会比来自较差类型的算法效果好</p>
</li>
<li><p>对数函数：增长慢，以至于可以认为，对数级操作次数的算法能
瞬间完成任何实际规模输入</p>
</li>
<li>指数级：指数函数、阶乘函数<ul>
<li>需要指数级操作次数的算法只能用于解决规模非常小的问题</li>
</ul>
</li>
</ul>
<h3 id="渐进效率"><a href="#渐进效率" class="headerlink" title="渐进效率"></a>渐进效率</h3><h4 id="渐进符号"><a href="#渐进符号" class="headerlink" title="渐进符号"></a>渐进符号</h4><h5 id="O-g-n"><a href="#O-g-n" class="headerlink" title="$O(g(n))$"></a>$O(g(n))$</h5><ul>
<li><p>对于足够大的n，$t(n)$的上界由$g(n)$的常数倍确定，则
$t(n) \in O(g(n))$</p>
</li>
<li><p>即存在大于0的常数$c$、非负整数$n_{0}$，使得</p>
<script type="math/tex; mode=display">n > n_{0} 时，t(n) \leqslant cg(n)</script></li>
<li><p>增长次数小于等于$g(n) n \rightarrow \infty$
（及常数倍）的函数集合</p>
</li>
</ul>
<h5 id="Omega-g-n"><a href="#Omega-g-n" class="headerlink" title="$\Omega (g(n))$"></a>$\Omega (g(n))$</h5><ul>
<li><p>对于足够大的n，$t(n)$的下界由$g(n)$的常数倍确定，则
$t(n) \in \Omega(g(n))$</p>
</li>
<li><p>即存在大于0的常数$c$、非负整数$n_{0}$，使得</p>
<script type="math/tex; mode=display">n > n_{0} 时，t(n) \geqslant cg(n)</script></li>
<li><p>增长次数大于等于$g(n) n \rightarrow \infty$
（及常数倍）的函数集合</p>
</li>
</ul>
<h5 id="Theta-g-n"><a href="#Theta-g-n" class="headerlink" title="$\Theta (g(n))$"></a>$\Theta (g(n))$</h5><ul>
<li><p>对于足够大的n，$t(n)$的上、下界由$g(n)$的常数倍确定，则
$t(n) \in \Theta(g(n))$</p>
</li>
<li><p>即存在大于0的常数$c<em>{1}, c</em>{2}$、非负整数$n_{0}$，使得</p>
<script type="math/tex; mode=display">
n > n_{0} 时，c_{2}g(n) \leqslant t(n) \leqslant c_{1}g(n)</script></li>
<li><p>增长次数等于$g(n) n \rightarrow \infty$（及常数倍）
的函数集合</p>
</li>
</ul>
<h4 id="极限比较增长次数"><a href="#极限比较增长次数" class="headerlink" title="极限比较增长次数"></a>极限比较增长次数</h4><p>利用极限比较增长次数：比直接利用定义判断算法的增长次数方便，
可以使用微积分技术计算极限</p>
<script type="math/tex; mode=display">
\lim_{n \rightarrow \infty} \frac {t(n)} {g_n}
\left\{
    \begin{array}\\
    0        & t(n)的增长次数比g(n)小，t(n) \in O(g(n))\\
    c>0        & t(n)的增长次数同g(n)，t(n) \in \Theta(g(n)) \\
    \infty    & t(n)的增长次数比g(n)大，t(n) \in \Omega(g(n))\\
    不存在 \\
    \end{array}
\right.</script><h4 id="基本渐进效率类型"><a href="#基本渐进效率类型" class="headerlink" title="基本渐进效率类型"></a>基本渐进效率类型</h4><div class="table-container">
<table>
<thead>
<tr>
<th>类型</th>
<th>名称</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td>$1$</td>
<td>常量</td>
<td>很少，效率最高</td>
</tr>
<tr>
<td>$log_{n}$</td>
<td>对数</td>
<td>算法的每次循环都会消去问题规模的常数因子，对数算法不可能关注输入的每个部分</td>
</tr>
<tr>
<td>$n$</td>
<td>线性</td>
<td>能关注输入每个部分的算法至少是线性运行时间</td>
</tr>
<tr>
<td>$nlog_{n}$</td>
<td>线性对数</td>
<td>许多分治算法都属于此类型</td>
</tr>
<tr>
<td>$n^{2}$</td>
<td>平方</td>
<td>包含两重嵌套循环的典型效率</td>
</tr>
<tr>
<td>$n^{3}$</td>
<td>立方</td>
<td>包含三重嵌套循环的典型效率</td>
</tr>
<tr>
<td>$2^{n}$</td>
<td>指数</td>
<td>求n个元素的所有子集</td>
</tr>
<tr>
<td>$n!$</td>
<td>阶乘</td>
<td>n个元素集合的全排列</td>
</tr>
</tbody>
</table>
</div>
<h2 id="算法的数学分析"><a href="#算法的数学分析" class="headerlink" title="算法的数学分析"></a>算法的数学分析</h2><h3 id="非递归算法"><a href="#非递归算法" class="headerlink" title="非递归算法"></a>非递归算法</h3><h4 id="分析通用方案"><a href="#分析通用方案" class="headerlink" title="分析通用方案"></a>分析通用方案</h4><ol>
<li>决定表示输入规模的参数</li>
<li>找出算法的基本操作：一般位于算法最内层循环</li>
<li>检查算法基本操作执行次数是否只依赖于输入规模，如果和其他
特性有关，需要分别研究最差、最优、平均效率</li>
<li>建立算法基本操作执行次数的求和表达式（或者是递推关系）</li>
<li>利用求和运算的标准公式、法则建立操作次数的闭合公式，或
至少确定其增长次数</li>
</ol>
<h3 id="递归算法"><a href="#递归算法" class="headerlink" title="递归算法"></a>递归算法</h3><p>用一个方程把squence的generic term和一个或多个其他项相关联，
并提供第一个项或前几项的精确值</p>
<script type="math/tex; mode=display">
\begin{array}\\
    x(n) = x(n-1) + n (n>0) \\
    x(0) = 0
\end{array}</script><ul>
<li><em>recurrence</em>：递推式</li>
<li><em>initial condition</em>：序列起始值、递归调用结束条件</li>
<li>求解：找到序列通项的精确公式满足递推式、初始条件，或者
证明序列不存在</li>
<li><em>general solution</em>：满足<strong>递推方程</strong>所有解序列公式，通常
会包含参数</li>
<li><em>particular solution</em>：满足给定递推方程的特定序列，通常
感兴趣的是满足初始条件的特解</li>
</ul>
<h4 id="递归求解方法"><a href="#递归求解方法" class="headerlink" title="递归求解方法"></a>递归求解方法</h4><ul>
<li><p><em>method of forward substituion</em>：从序列初始项开始，使用
递推方程生成给面若干项，从中找出能用闭合公式表示的模式</p>
<ul>
<li>带入递推方程、初始条件验证</li>
<li>数学归纳法证明</li>
</ul>
</li>
<li><p><em>method of backward subsitution</em>：从序列末尾开始，把序列
通项$x(n)$表示为$x(n-i)$的函数，使得i是初始条件之一，
再求和公式得到递推式的解</p>
</li>
<li><p><em>second-order linear recurrence with constant coefficients</em>
：求解<em>characteristic equation</em>得到特征根得到通解</p>
</li>
</ul>
<h4 id="常见递推类型"><a href="#常见递推类型" class="headerlink" title="常见递推类型"></a>常见递推类型</h4><h5 id="decrease-by-one"><a href="#decrease-by-one" class="headerlink" title="decrease-by-one"></a><em>decrease-by-one</em></h5><p>减一法：利用规模为n、n-1的给定实例之间的关系求解问题</p>
<ul>
<li>减常数法特例</li>
</ul>
<script type="math/tex; mode=display">
\begin{align*}
T(n)& = T(n-1) + f(n) \\
    & = T(n-2) + f(n-2) + f(n) \\
    & = \cdots \\
    & = T(0) + \sum_{j=1}^{n} f(j) \\
\end{align*}</script><h5 id="decrease-by-a-constant-factor"><a href="#decrease-by-a-constant-factor" class="headerlink" title="decrease-by-a-constant-factor"></a><em>decrease-by-a-constant-factor</em></h5><p>减常因子法：把规模为n的实例化简为规模为n/b的实例求解问题</p>
<script type="math/tex; mode=display">
\begin{align*}
T(b^{k}) &= T(b^{k-1}) + f(b^{k}) \\
        &= T(b^{k-2}) + f(b^{k-1}) + f(b^{k}) \\
        &= \cdots \\
        &= T(1) + \sum_{j=1}^{k} f(b^{j})
\end{align*}</script><h5 id="divide-and-conquer"><a href="#divide-and-conquer" class="headerlink" title="divide-and-conquer"></a><em>divide-and-conquer</em></h5><p>分治法：将给定实例划分为若干较小实例，对每个实例递归求解，如有必要，
再将较小实例的接合并为给定实例的一个解</p>
<script type="math/tex; mode=display">
\begin{align*}
T(b^{k}) &= aT(n/b) + f(n) \\
        &= a[aT(b^{k-2} + f(b^{k-1})] + f(b^{k}) \\
        &= a^{2}T(b^{k-2}) + af(b^{k-1}) + f(b^{k}) \\
        &= a^{2}[aT(b^{k-3} + f(b^{k-2})] + af(b^{k-1}) + f(b^{k}) \\
        &= a^{3}aT(b^{k-3} + a^{2}f(b^{k-2}) + af(b^{k-1}) + f(b^{k}) \\
        &= \cdots \\
        &=a^{k}T(1) + a^{k-1}f(b^{1}) + a^{k-2}f(b^{2}) + \cdots + a^{0}f(b^{k}) \\
        &=a^{k} \left[ T(1) + \sum_{j=1}^{k} \frac {f(b^{j})} {a^{j}} \right] \\

n = b^{k} \\
T(n) &= n^{log_{b}^{a}} \left[ T(1) + \sum_{j=1}^{log_{b}^{n}} \frac {f(b^{j})} {a^{j}} \right]
\end{align*}</script><h4 id="平滑法则、主定理"><a href="#平滑法则、主定理" class="headerlink" title="平滑法则、主定理"></a>平滑法则、主定理</h4><ul>
<li><p><em>eventually nondecreaing</em>：$f(n)$在自然数上非负，若
$\exists n<em>{0}, \forall n</em>{2} &gt; n<em>{1} \geqslant n</em>{0}, f(n<em>{2}) &gt; f(n</em>{1})$，
则为最终非递减</p>
</li>
<li><p><em>smooth</em>：$f(n)$在自然数上非负、最终非递减，若
$f(2n) \in \Theta(f(n))$，则平滑</p>
<ul>
<li>若$f(n)$平滑，则对任何整数b有$f(bn) \in \Theta(f(n))$</li>
</ul>
</li>
</ul>
<h5 id="平滑法则"><a href="#平滑法则" class="headerlink" title="平滑法则"></a>平滑法则</h5><p>$T(n)$最终非递减，$f(n)$平滑，若$n=b^{k}(b&gt;2)$时有
$T(n) \in \Theta(f(n))$，则$T(n) \in \Theta(f(n))$</p>
<h5 id="主定理"><a href="#主定理" class="headerlink" title="主定理"></a>主定理</h5><ul>
<li>方便对分治法、减常因子法效率进行分析</li>
</ul>
<p>$T(n)$最终非递减，满足递推式</p>
<script type="math/tex; mode=display">
T(n) = aT(n/b) + f(n), \quad n=b^{k}, k=1,2,3,\cdots \\
T(1) = c \\
a \geqslant 1, b \geqslant 2, c > 0</script><p>若$f(n) \in \Theta(n^{d}), d \geqslant 0$，则</p>
<script type="math/tex; mode=display">T(n) \in
\left\{
    \begin{array}\\
    \Theta(n^{d})    & a<b^{d} \\
    \Theta(n^{d}log_{n})    & a=b^{d} \\
    \Theta(n^{log_{b}^{a}})    & a>b^{d} \\
    \end{array}
\right.</script><h4 id="分析通用方案-1"><a href="#分析通用方案-1" class="headerlink" title="分析通用方案"></a>分析通用方案</h4><ol>
<li>决定衡量输入规模的参数</li>
<li>找出算法基本操作</li>
<li>检查算法基本操作执行次数是否只依赖于输入规模，如果和其他
特性有关，需要分别研究最差、最优、平均效率</li>
<li>建立算法基本操作执行次数的递推关系、相应初始条件</li>
<li>求解递推式，或至少确定其增长次数</li>
</ol>
<h2 id="算法时间效率极限"><a href="#算法时间效率极限" class="headerlink" title="算法时间效率极限"></a>算法时间效率极限</h2><p>确定已知、未知算法效率极限</p>
<h3 id="算法下界"><a href="#算法下界" class="headerlink" title="算法下界"></a>算法下界</h3><p>算法下界是问题可能具有的最佳效率</p>
<ul>
<li><p>可以用于评价某问题具体算法效率</p>
<ul>
<li>不同问题算法直接比较无意义</li>
</ul>
</li>
<li><p>寻找问题的更优算法时，可以根据算法下界确定期望获得的改进</p>
<ul>
<li>若算法下界是紧密的，则改进至多不过是常数因子</li>
<li>若算法下界和算法仍有差距，则可能存在更快算法，或者是
证明更好的下界</li>
</ul>
</li>
</ul>
<h4 id="Trivial-Lower-Bound"><a href="#Trivial-Lower-Bound" class="headerlink" title="Trivial Lower Bound"></a>Trivial Lower Bound</h4><p>平凡下界：任何算法只要要“读取”所有要处理的项、“写”全部
输出，对其计数即可得到平凡下界</p>
<ul>
<li><p>往往过小，用处不大</p>
</li>
<li><p>确定问题中所有算法都必须要处理的输入也是个障碍</p>
</li>
<li><p>例</p>
<ul>
<li><p>生成n个不同项所有排列的算法$\in \Omega(n!)$，且下界
是紧密的，因为好的排列算法在每个排列上时间为常数</p>
</li>
<li><p>计算n次多项式值算法至少必须要处理所有系数，否则改变
任意系数多项式值改变，任何算法$\in \Omega(n)$</p>
</li>
<li><p>计算两个n阶方阵乘积算法$\in Omega(n^2)$，因为任何
算法必须处理矩阵中$2n^2$个元素</p>
</li>
</ul>
</li>
</ul>
<h4 id="Information-Theoretic-Lower-Bound"><a href="#Information-Theoretic-Lower-Bound" class="headerlink" title="Information-Theoretic Lower Bound"></a>Information-Theoretic Lower Bound</h4><p>信息论下界：试图通过算法必须处理的信息量（比特数）建立
效率下界</p>
<ul>
<li><p>例</p>
<ul>
<li>猜整数中，整数的不确定信息量就是
$\lceil \log_2 n \rceil$（数字二进制位数），
n为整数上界</li>
</ul>
</li>
</ul>
<h4 id="Adversary-Lower-Bound"><a href="#Adversary-Lower-Bound" class="headerlink" title="Adversary Lower Bound"></a>Adversary Lower Bound</h4><p>敌手下界：敌手基于恶意、一致的逻辑，迫使算法尽可能多执行，
从而确定的为了保证算法正确性的下界</p>
<blockquote>
<ul>
<li>恶意使得它不断把算法推向最消耗时间的路径</li>
<li>一致要求它必须和已经做出的选择保持一致（按照一定规则）</li>
</ul>
</blockquote>
<ul>
<li><p>例</p>
<ul>
<li><p>猜整数中，敌手把1~n个数字作为可选对象，每次做出判断
后，敌手保留数字较多集合，使得最消耗时间、不违背之前
选择</p>
</li>
<li><p>两个有序列表${a_i}, {b_j}$归并排序中，敌手使用规则：
当前仅当i &lt; j时，对$a_i &lt; b_j$返回真（设置列表值大小
可以达到），则任何算法必须比较2n-1次，否则交换未比较
元素归并错误</p>
</li>
</ul>
</li>
</ul>
<h4 id="问题化简"><a href="#问题化简" class="headerlink" title="问题化简"></a>问题化简</h4><p>问题Q下界已知，考虑<strong>将问题Q转换</strong>为下界未知问题P，得到P下界</p>
<blockquote>
<ul>
<li>应该表明任意Q问题实例可以转换为P问题</li>
<li>即问题Q应该是问题P的子集，正确的算法至少应该能解决Q问题</li>
</ul>
</blockquote>
<ul>
<li><p>许多问题复杂性不清楚，而对问题复杂度的直观判断和问题表现
形式相关，并不可靠</p>
</li>
<li><p>常在问题化简中使用的已知下界问题</p>
<p>|问题|下界|紧密性|
|——-|——-|——-|
|排序|$\Omega(nlogn)$|是|
|有序数组查找|$\Omega(logn)$|是|
|元素惟一性|$\Omega(nlogn)$|是|
|n位整数乘法|$\Omega(n)$|未知|
|n阶方程点乘|$\Omega(n^2)$|未知|</p>
</li>
<li><p>例</p>
<ul>
<li><p>欧几里得最小生成树：使用元素唯一性问题作为下界已知
问题</p>
<ul>
<li>将n个实数映射为x轴上的n个点</li>
<li>设T为此点集最小生成树，T必然包含一条最短边??#todo</li>
<li>检查T是否包含长度为0的边即为元素惟一性</li>
</ul>
</li>
<li><p>任意矩阵A、B乘法：使用方阵乘法作为下界已知问题</p>
<ul>
<li><p>将A、B化成对称方阵进行计算</p>
<script type="math/tex; mode=display">
X =  \begin{bmatrix}
0 & A \\
A^T & 0 \\
\end{bmatrix},
Y = \begin{bmatrix}
0 & B^T \\
B & 0 \\
\end{bmatrix} \\
XY = \begin{bmatrix}
AB & 0 \\
0 & A^TB^T \\
\end{bmatrix}</script></li>
<li><p>乘积AB可以方便提取，而翻倍的矩阵乘法不会影响复杂性</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="决策树（二叉）"><a href="#决策树（二叉）" class="headerlink" title="决策树（二叉）"></a>决策树（二叉）</h3><p>可以使用（二叉）决策树研究基于比较的算法性能</p>
<ul>
<li><p>每个非叶子节点代表一次键值比较</p>
</li>
<li><p>叶子节点个数大于等于输出，不同叶子节点可以产生相同输出</p>
</li>
<li><p>对于特定规模为n的输入，算法操作沿着决策树一条从根到叶子
节点完成，所以最坏情况下比较次数等于算法<strong>决策树高度</strong></p>
</li>
<li><p>如果树具有由输出数量确定叶子，则树必须由足够高度容纳叶子
，即对于任何具有$l$个叶子，树高度
$h \leqslant \lceil log_2 l \rceil$，这也就是
信息论下界</p>
</li>
</ul>
<h4 id="线性表排序"><a href="#线性表排序" class="headerlink" title="线性表排序"></a>线性表排序</h4><p>任意n个元素列表排序输出数量等于$n!$，所以任何基于比较的排序
算法的二叉树高度，即最坏情况下比较次数</p>
<script type="math/tex; mode=display">
\begin{align*}
C_{worst} & \geqslant \lceil log_2 n! \rceil \\
    & \approx log_2 \sqrt {2\pi n} (n/e)^n  \\
    & = nlog_2n - nlog_2e + \frac {log_2n + log_22\pi} 2 \\
    & \approx nlog_2n
\end{align*}</script><ul>
<li><p>归并排序、堆排序在最坏情况下大约必须要做$nlog_2n$次比较
，所以其渐进效率最优</p>
</li>
<li><p>也说明<strong>渐进下界</strong>$\lceil log_2n! \rceil$是紧密的
，不能继续改进</p>
<ul>
<li><p>但这个只是基于二叉决策树的渐进下界，对于具体值估计
可能不准</p>
</li>
<li><p>如$\lceil log_2 12! \rceil = 29$，而事实证明
12个元素排序30次比较是必要、充分的</p>
</li>
</ul>
</li>
<li><p>也可以使用决策树分析基于比较的排序算法的平均性能，即
决策树叶子节点平均深度</p>
<ul>
<li><p>基于排序的所有输出都不特殊的标准假设，可以证明平均
比较次数<strong>下界</strong>$C_{avg}(n) \geqslant log_2n!$</p>
</li>
<li><p>这个平均是建立在所有输出都不特殊假设上，所以这个其实
应该是<strong>不同算法平均比较次数下界的上界</strong></p>
</li>
<li><p>对于单独排序算法，平均效率会明显好于最差效率</p>
</li>
</ul>
</li>
</ul>
<h4 id="有序线性表查找"><a href="#有序线性表查找" class="headerlink" title="有序线性表查找"></a>有序线性表查找</h4><p>有序线性表查找最主要算法是折半查找，其在最坏情况下下效率
$C<em>{worst}^{bs} = \lfloor log_2n \rfloor + 1 = \lceil log</em>(n+1) \rceil$</p>
<ul>
<li><p>折半查找使用的<strong>三路比较</strong>（小于、等于、大于），可以使用
三叉查找树表示</p>
<ul>
<li><p>三叉查找树会有2n+1个节点：n个查找成功节点、n+1个查找
失败节点</p>
</li>
<li><p>所以在最坏情况下，比较次数下界
$C_{worst}(n) \geqslant \lceil log_3{2n+1} \rceil$
小于折半查找最坏情况下比较次数（渐进）</p>
</li>
</ul>
</li>
<li><p>然而，事实上可以删除三叉查找树中间子树（等于分支），得到
一棵二叉树</p>
<ul>
<li><p>非叶子节点同样表示三路比较，只是同时作为查找成功终点</p>
</li>
<li><p>可以得到一个新的下界
$C_{worst}(n) \geqslant \lceil log_2{n+1} \rceil$</p>
</li>
</ul>
</li>
<li><p>更复杂的分析表明，标准查找假设下，折半查找平均情况比较
次数是最少的</p>
<ul>
<li>查找成功时$log_2n - 1$</li>
<li>查找失败时$log_2(n+1)$</li>
</ul>
</li>
</ul>
<h2 id="P、NP、完全NP问题"><a href="#P、NP、完全NP问题" class="headerlink" title="P、NP、完全NP问题"></a>P、NP、完全NP问题</h2><h3 id="复杂性理论"><a href="#复杂性理论" class="headerlink" title="复杂性理论"></a>复杂性理论</h3><blockquote>
<ul>
<li><p>如果算法的最差时间效率$\in O(p(n))$，$p(n)$为问题输入
  规模n的多项式函数，则称算法能在多项式时间内对问题求解</p>
</li>
<li><p><em>Tractable</em>：易解的，可以在多项式时间内求解的问题</p>
</li>
<li><p><em>Intractable</em>：难解的，不能在多项式内求解的问题</p>
</li>
</ul>
</blockquote>
<p>使用多项式函数理由</p>
<ul>
<li><p>无法保证在合理时间内对难解问题所有实例求解，除非问题实例
非常小</p>
</li>
<li><p>对实用类型的算法而言，其多项式次数很少大于3，虽然多项式
次数相差很大时运行时间也会有巨大差别</p>
</li>
<li><p>多项式函数具有方便的特性</p>
<ul>
<li>多项式加和、组合也为多项式</li>
</ul>
</li>
<li><p>多项式类型可以发展出<em>Computational Complexity</em>利用</p>
<ul>
<li>该理论试图对问题内在复杂性进行分类</li>
<li>只要使用一种主要计算模型描述问题，并用合理编码方案
描述输入，问题难解性都是相同的</li>
</ul>
</li>
</ul>
<h3 id="Decision-Problem"><a href="#Decision-Problem" class="headerlink" title="Decision Problem"></a>Decision Problem</h3><p>判定问题：寻求一种可行的、机械的算法，能够对某类问题在有穷
步骤内确定是否具有某性质</p>
<ul>
<li><p><em>Undecidable</em>问题：不可判定问题，不能使用任何算法求解的
判定问题</p>
<ul>
<li>停机问题：给定程序、输入，判断程序对于输入停止还是
无限运行下去</li>
</ul>
</li>
<li><p><em>Decidable</em>问题：可判定问题，能用算法求解的问题</p>
<ul>
<li><p>可判定、难解问题存在，但非常少</p>
</li>
<li><p>很多判定问题（或者可以转化为等价判定问题），既没有
找到多项式类型算法，也没有证明这样算法不存在，即无法
判断是否难解</p>
</li>
</ul>
</li>
</ul>
<h3 id="P、NP问题"><a href="#P、NP问题" class="headerlink" title="P、NP问题"></a>P、NP问题</h3><h4 id="P问题"><a href="#P问题" class="headerlink" title="P问题"></a>P问题</h4><p>Polynomial类型问题</p>
<blockquote>
<ul>
<li><p>非正式定义：易解的问题，即能够在多项式时间内求解的
  问题（计算机范畴）</p>
</li>
<li><p>正式定义：能够用<strong>确定性</strong>算法在多项式时间内求解的
  <strong>判定问题</strong></p>
</li>
</ul>
<blockquote>
<ul>
<li><p>多项式时间内求解：排除难解问题</p>
</li>
<li><p>判定问题：很多重要问题可以化简为更容易研究的判断问题
   ，虽然原始表达形式不是判定问题</p>
</li>
</ul>
</blockquote>
</blockquote>
<h4 id="NP问题"><a href="#NP问题" class="headerlink" title="NP问题"></a>NP问题</h4><p>Nondeterministic Polynomial类型问题：可以用<strong>不确定多项式</strong>
算法求解的判定问题</p>
<ul>
<li><p>NP问题虽然计算上对问题求解困难，但是在计算上判定待定结
是否解决问题是简单的：可以在多项式时间内完成</p>
</li>
<li><p>大多数判断问题都是属于NP类型的</p>
<ul>
<li><p>$P \subseteq NP$：如果问题属于P，在不确定算法验证
阶段忽略猜测</p>
</li>
<li><p>还包括以下没有找到多项式算法、也没有证明算法不存在
的组合优化问题的判定版本</p>
<ul>
<li>哈密顿回路问题</li>
<li>旅行商问题</li>
<li>背包问题</li>
<li>划分问题</li>
<li>装箱问题</li>
<li>图着色问题</li>
<li>整数线性规划问题</li>
</ul>
</li>
</ul>
</li>
<li><p>$P \overset ? = NP$：P和NP问题是否一致，计算机科学理论
中最重要的未解之谜</p>
<ul>
<li>P = NP意味着虽然没有找到，但能够在多项式时间内求解
许多组合优化问题确实存在</li>
</ul>
</li>
</ul>
<h4 id="NPC问题"><a href="#NPC问题" class="headerlink" title="NPC问题"></a>NPC问题</h4><p><em>NP Complete</em>问题</p>
<blockquote>
<ul>
<li>属于NP问题种，和该类型其他问题难度一致</li>
</ul>
<blockquote>
<ul>
<li>证明问题属于NP问题比较简单</li>
</ul>
</blockquote>
<ul>
<li>NP中其他任何问题（已知或未知）可以在多项式时间内化简为
  NPC问题</li>
</ul>
<blockquote>
<ul>
<li><p>直接证明任何NP问题都可以在多项式时间内化简为当前问题
   比较困难</p>
</li>
<li><p>常常利用多项式规约特性，证明某个确定NPC问题可以
   多项式规约为当前问题</p>
</li>
</ul>
</blockquote>
</blockquote>
<ul>
<li><p>判定问题相互转换例</p>
<ul>
<li>哈密顿回路问题中图G映射加权图$G^{‘}$，G中存在边在
权重为1，不存在边权重为2，则哈密顿回路问题转换为$G^{‘}$
是否存在长度不超过$|V|$的哈密顿回路，即旅行商问题的等价</li>
</ul>
</li>
<li><p>NPC问题案例</p>
<ul>
<li><p><em>CNF-Satisfied Problem</em>：合取范式可满足性问题，首个
被发现NPC问题</p>
</li>
<li><p>前面提到的著名NP问题都是NPC问题</p>
<ul>
<li>包括哈密顿回路问题？？？</li>
</ul>
</li>
</ul>
</li>
<li><p>仅仅得到一个NPC问题的<strong>多项式确定</strong>算法，所有NP问题可以
在多项式时间内求解</p>
<ul>
<li><p>则$P = NP$</p>
</li>
<li><p>即对于所有类型判定问题而言，检验待定解、在多项式时间
内求解在复杂性商没有本质区别</p>
</li>
</ul>
</li>
<li><p>而NPC问题可以被其他NP问题转换而来意味着，NPC问题目前不
存在对所有实例通用的多项式时间算法</p>
</li>
</ul>
<h4 id="NP-Hard问题"><a href="#NP-Hard问题" class="headerlink" title="NP-Hard问题"></a>NP-Hard问题</h4><p>NP-Hard问题：所有NP问题都可以通过多项式规约到其</p>
<ul>
<li><p>不满足NPC问题第一个条件，可以不是NP问题</p>
</li>
<li><p>其范围包含NPC问题，前述组合优化问题最优版本也是NP-Hard</p>
</li>
<li><p>可以理解为：至少和NPC问题一样困难的问题</p>
</li>
</ul>
<p><img src="/imgs/p_np_npc_nphard.png" alt="p_np_npc_nphard"></p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><h4 id="Polynomially-Reducible"><a href="#Polynomially-Reducible" class="headerlink" title="Polynomially Reducible"></a>Polynomially Reducible</h4><p>判定问题$D_1$可以<strong>多项式规约</strong>为判定问题$D_2$，条件是存在
函数t可以把$D_1$的实例转换为$D_2$的实例，满足</p>
<blockquote>
<ul>
<li><p>t把$D_1$所有真实例映射为$D_2$真实例，把$D_1$所有假实例
  映射为$D_2$假实例</p>
</li>
<li><p>t可以用多项式算法计算</p>
</li>
</ul>
</blockquote>
<h4 id="CNF-Satisfied-Problem"><a href="#CNF-Satisfied-Problem" class="headerlink" title="CNF-Satisfied Problem"></a>CNF-Satisfied Problem</h4><p>合取范式满足性问题：能否设置合取范式类型的布尔表达式中布尔
变量值，使得整个表达式值为<em>真</em></p>
<ul>
<li>每个布尔表达式都可以表达为合取范式</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-02-20T15:58:15.000Z" title="2/20/2019, 11:58:15 PM">2019-02-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Keras/">Keras</a></span><span class="level-item">14 minutes read (About 2173 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Keras/convolutional_layers.html">卷积层</a></h1><div class="content"><h2 id="Conv1D"><a href="#Conv1D" class="headerlink" title="Conv1D"></a>Conv1D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.Conv1D(</span><br><span class="line">	filters(<span class="built_in">int</span>),</span><br><span class="line">	kernel_size(<span class="built_in">int</span>),</span><br><span class="line">	strides=<span class="number">1</span>,</span><br><span class="line">	padding=<span class="string">&#x27;valid&#x27;</span>,</span><br><span class="line">	dilation_rate=<span class="number">1</span>,</span><br><span class="line">	activation=<span class="literal">None</span>,</span><br><span class="line">	use_bias=<span class="literal">True</span>,</span><br><span class="line">	kernel_initializer=<span class="string">&#x27;glorot_uniform&#x27;</span>,</span><br><span class="line">	bias_initializer=<span class="string">&#x27;zeros&#x27;</span>,</span><br><span class="line">	kernel_regularizer=<span class="literal">None</span>,</span><br><span class="line">	bias_regularizer=<span class="literal">None</span>,</span><br><span class="line">	activity_regularizer=<span class="literal">None</span>,</span><br><span class="line">	kernel_constraint=<span class="literal">None</span>,</span><br><span class="line">	bias_constraint=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>一维卷积层（即时域卷积）</p>
<ul>
<li><p>说明</p>
<ul>
<li>用以在一维输入信号上进行邻域滤波</li>
<li>作为首层时，需要提供关键字参数<code>input_shape</code></li>
<li>该层生成将输入信号与卷积核按照单一的空域（或时域）
方向进行卷积</li>
<li>可以将Convolution1D看作Convolution2D的快捷版</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><p><code>filters</code>：卷积核的数目（即输出的维度）</p>
</li>
<li><p><code>kernel_size</code>：整数或由单个整数构成的list/tuple，
卷积核的空域或时域窗长度</p>
</li>
<li><p><code>strides</code>：整数或由单个整数构成的list/tuple，为卷积
步长</p>
<ul>
<li>任何不为1的strides均与任何不为1的dilation_rate
均不兼容</li>
</ul>
</li>
<li><p><code>padding</code>：补0策略</p>
</li>
<li><p><code>activation</code>：激活函数</p>
</li>
<li><p><code>dilation_rate</code>：整数或由单个整数构成的list/tuple，
指定dilated convolution中的膨胀比例</p>
<ul>
<li>任何不为1的dilation_rate均与任何不为1的strides
均不兼容</li>
</ul>
</li>
<li><p><code>use_bias</code>：布尔值，是否使用偏置项</p>
</li>
<li><p><code>kernel_initializer</code>：权值初始化方法</p>
<ul>
<li>预定义初始化方法名的字符串</li>
<li>用于初始化权重的初始化器（参考initializers）</li>
</ul>
</li>
<li><p><code>bias_initializer</code>：偏置初始化方法</p>
<ul>
<li>为预定义初始化方法名的字符串</li>
<li>用于初始化偏置的初始化器</li>
</ul>
</li>
<li><p><code>kernel_regularizer</code>：施加在权重上的正则项，为
Regularizer对象</p>
</li>
<li><p><code>bias_regularizer</code>：施加在偏置向量上的正则项</p>
</li>
<li><p><code>activity_regularizer</code>：施加在输出上的正则项</p>
</li>
<li><p><code>kernel_constraints</code>：施加在权重上的约束项</p>
</li>
<li><p><code>bias_constraints</code>：施加在偏置上的约束项</p>
</li>
</ul>
</li>
<li><p>输入：形如<code>(batch, steps, input_dim)</code>的3D张量</p>
</li>
<li><p>输出：形如<code>(batch, new_steps, filters)</code>的3D张量</p>
<ul>
<li>因为有向量填充的原因，<code>steps</code>的值会改变</li>
</ul>
</li>
</ul>
<h2 id="Conv2D"><a href="#Conv2D" class="headerlink" title="Conv2D"></a>Conv2D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.Conv2D(</span><br><span class="line">	filters,</span><br><span class="line">	kernel_size,</span><br><span class="line">	strides=(<span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">	padding=<span class="string">&#x27;valid&#x27;</span>,</span><br><span class="line">	data_format=<span class="literal">None</span>,</span><br><span class="line">	dilation_rate=(<span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">	activation=<span class="literal">None</span>,</span><br><span class="line">	use_bias=<span class="literal">True</span>,</span><br><span class="line">	kernel_initializer=<span class="string">&#x27;glorot_uniform&#x27;</span>,</span><br><span class="line">	bias_initializer=<span class="string">&#x27;zeros&#x27;</span>,</span><br><span class="line">	kernel_regularizer=<span class="literal">None</span>,</span><br><span class="line">	bias_regularizer=<span class="literal">None</span>,</span><br><span class="line">	activity_regularizer=<span class="literal">None</span>,</span><br><span class="line">	kernel_constraint=<span class="literal">None</span>,</span><br><span class="line">	bias_constraint=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>二维卷积层，即对图像的空域卷积</p>
<ul>
<li><p>说明</p>
<ul>
<li>该层对二维输入进行滑动窗卷积</li>
<li>当使用该层作为第一层时，应提供</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><p><code>filters</code>：卷积核的数目（即输出的维度）</p>
</li>
<li><p><code>kernel_size</code>：单个整数或由两个整数构成的list/tuple，
卷积核的宽度和长度</p>
<ul>
<li>如为单个整数，则表示在各个空间维度的相同长度</li>
</ul>
</li>
<li><p><code>strides</code>：单个整数或由两个整数构成的list/tuple，
卷积的步长</p>
<ul>
<li>如为单个整数，则表示在各个空间维度的相同步长</li>
<li>任何不为1的strides均与任何不为1的dilation_rate
均不兼容</li>
</ul>
</li>
<li><p><code>padding</code>：补0策略</p>
</li>
<li><p><code>activation</code>：激活函数</p>
</li>
<li><p><code>dilation_rate</code>：单个或两个整数构成的list/tuple，
指定dilated convolution中的膨胀比例</p>
<ul>
<li>任何不为1的dilation_rate均与任何不为1的strides
均不兼容</li>
</ul>
</li>
</ul>
</li>
<li><p>输入：<code>(batch, channels, rows, cols)</code>
（”channels_first”）4D张量</p>
</li>
<li><p>输出：<code>(batch, filters, new_rows, new_cols)</code>
（”channels_first”）4D张量</p>
<ul>
<li>输出的行列数可能会因为填充方法而改变</li>
</ul>
</li>
</ul>
<h2 id="SeparableConv2D"><a href="#SeparableConv2D" class="headerlink" title="SeparableConv2D"></a>SeparableConv2D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.SeparableConv2D(</span><br><span class="line">	filters,</span><br><span class="line">	kernel_size,</span><br><span class="line">	strides=(<span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">	padding=<span class="string">&#x27;valid&#x27;</span>,</span><br><span class="line">	data_format=<span class="literal">None</span>,</span><br><span class="line">	depth_multiplier=<span class="number">1</span>,</span><br><span class="line">	activation=<span class="literal">None</span>,</span><br><span class="line">	use_bias=<span class="literal">True</span>,</span><br><span class="line">	depthwise_initializer=<span class="string">&#x27;glorot_uniform&#x27;</span>,</span><br><span class="line">	pointwise_initializer=<span class="string">&#x27;glorot_uniform&#x27;</span>,</span><br><span class="line">	bias_initializer=<span class="string">&#x27;zeros&#x27;</span>,</span><br><span class="line">	depthwise_regularizer=<span class="literal">None</span>,</span><br><span class="line">	pointwise_regularizer=<span class="literal">None</span>,</span><br><span class="line">	bias_regularizer=<span class="literal">None</span>,</span><br><span class="line">	activity_regularizer=<span class="literal">None</span>,</span><br><span class="line">	depthwise_constraint=<span class="literal">None</span>,</span><br><span class="line">	pointwise_constraint=<span class="literal">None</span>,</span><br><span class="line">	bias_constraint=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>该层是在深度方向上的可分离卷积。</p>
<ul>
<li><p>说明</p>
<ul>
<li>首先按深度方向进行卷积（对每个输入通道分别卷积）</li>
<li>然后逐点卷积，将上步卷积结果混合到输出通道中</li>
<li>直观来说，可分离卷积可以看做讲一个卷积核分解为两个小
卷积核，或看作Inception模块的一种极端情况</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><p><code>depth_multiplier</code>：按深度卷积的步骤中，每个输入通道
使用（产生）多少个输出通道</p>
</li>
<li><p><code>depthwise_regularizer</code>：按深度卷积的权重上的正则项</p>
</li>
<li><p><code>pointwise_regularizer</code>：按点卷积的权重上的正则项</p>
</li>
<li><p><code>depthwise_constraint</code>：按深度卷积权重上的约束项</p>
</li>
<li><p><code>pointwise_constraint</code>：在按点卷积权重的约束项</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>输入：<code>(batch, channels, rows, cols)</code>4DT
（”channels_first”)</p>
</li>
<li><p>输出：<code>(batch, filters, new_rows, new_cols)</code>4DTK
（”channels_first”）</p>
<ul>
<li>输出的行列数可能会因为填充方法而改变</li>
</ul>
</li>
</ul>
<h2 id="Conv2DTranspose"><a href="#Conv2DTranspose" class="headerlink" title="Conv2DTranspose"></a>Conv2DTranspose</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.Conv2DTranspose(</span><br><span class="line">	filters,</span><br><span class="line">	kernel_size,</span><br><span class="line">	strides=(<span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">	padding=<span class="string">&quot;valid&quot;</span>,</span><br><span class="line">	output_padding=<span class="literal">None</span>/<span class="built_in">int</span>/<span class="built_in">tuple</span>,</span><br><span class="line">	data_format=<span class="literal">None</span>,</span><br><span class="line">	activation=<span class="literal">None</span>,</span><br><span class="line">	use_bias=<span class="literal">True</span>,</span><br><span class="line">	kernel_initializer=<span class="string">&quot;glorot_uniform&quot;</span>,</span><br><span class="line">	bias_initializer=<span class="string">&quot;zeros&quot;</span>,</span><br><span class="line">	kernel_regularizer=<span class="literal">None</span>,</span><br><span class="line">	bias_regularizer=<span class="literal">None</span>,</span><br><span class="line">	activity_regularizer=<span class="literal">None</span>,</span><br><span class="line">	kernel_constraint=<span class="literal">None</span>,</span><br><span class="line">	bias_constraint=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>该层是反卷积操作（转置卷积）</p>
<ul>
<li><p>说明</p>
<ul>
<li>通常发生在用户想要对普通卷积的结果做反方向的变换</li>
<li>参考文献<ul>
<li><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1603.07285">A guide to convolution arithmetic for deep learning</a></li>
<li><a target="_blank" rel="noopener" href="http://deeplearning.net/software/theano_versions/dev/tutorial/conv_arithmetic.html#transposed-convolution-arithmetic">Transposed convolution arithmetic</a></li>
<li><a target="_blank" rel="noopener" href="http://www.matthewzeiler.com/pubs/cvpr2010/cvpr2010.pdf">Deconvolutional Networks</a></li>
</ul>
</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>output_padding</code>：指定输出的长、宽padding<ul>
<li>必须小于相应的<code>stride</code></li>
</ul>
</li>
</ul>
</li>
<li><p>输入：<code>(batch, rows, cols, channels)</code>4DT
（”channels_last”)</p>
</li>
<li><p>输出：<code>(batch, new_rows, new_cols, filters)</code>4DT
（”channels_last”）</p>
<ul>
<li>输出的行列数可能会因为填充方法而改变</li>
</ul>
</li>
</ul>
<h2 id="Conv3D"><a href="#Conv3D" class="headerlink" title="Conv3D"></a>Conv3D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.Conv3D(</span><br><span class="line">	filters,</span><br><span class="line">	kernel_size,</span><br><span class="line">	strides=(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">	padding=<span class="string">&#x27;valid&#x27;</span>,</span><br><span class="line">	data_format=<span class="literal">None</span>,</span><br><span class="line">	dilation_rate=(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">	activation=<span class="literal">None</span>,</span><br><span class="line">	use_bias=<span class="literal">True</span>,</span><br><span class="line">	kernel_initializer=<span class="string">&#x27;glorot_uniform&#x27;</span>,</span><br><span class="line">	bias_initializer=<span class="string">&#x27;zeros&#x27;</span>,</span><br><span class="line">	kernel_regularizer=<span class="literal">None</span>,</span><br><span class="line">	bias_regularizer=<span class="literal">None</span>,</span><br><span class="line">	activity_regularizer=<span class="literal">None</span>,</span><br><span class="line">	kernel_constraint=<span class="literal">None</span>,</span><br><span class="line">	bias_constraint=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>三维卷积对三维的输入（视频）进行滑动窗卷积</p>
<ul>
<li>输入：<code>(batch, channels, conv_dim1, conv_dim2, conv_dim3)</code>
5D张量（”channnels_first”）</li>
</ul>
<h2 id="Cropping1D"><a href="#Cropping1D" class="headerlink" title="Cropping1D"></a>Cropping1D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.Cropping1D(</span><br><span class="line">	cropping=(<span class="number">1</span>, <span class="number">1</span>)/<span class="built_in">tuple</span>/<span class="built_in">int</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>在时间轴上对1D输入（即时间序列）进行裁剪</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>cropping</code>：指定在序列的首尾要裁剪掉多少个元素<ul>
<li>单值表示首尾裁剪相同</li>
</ul>
</li>
</ul>
</li>
<li><p>输入：<code>(batch, axis_to_crop, features)</code>的3DT</p>
</li>
<li><p>输出：<code>(batch, cropped_axis, features)</code>的3DT</p>
</li>
</ul>
<h2 id="Cropping2D"><a href="#Cropping2D" class="headerlink" title="Cropping2D"></a>Cropping2D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.Cropping2D(</span><br><span class="line">	cropping=((<span class="number">0</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">0</span>)),</span><br><span class="line">	data_format=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>对2D输入（图像）进行裁剪</p>
<ul>
<li><p>说明</p>
<ul>
<li>将在空域维度，即宽和高的方向上裁剪</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>cropping</code>：长为2的整数tuple，分别为宽和高方向上头部
与尾部需要裁剪掉的元素数<ul>
<li>单值表示宽高、首尾相同</li>
<li>单元组类似</li>
</ul>
</li>
</ul>
</li>
<li><p>输入：<code>(batch, rows, cols, channels)</code>4DT（”channels_last”）</p>
</li>
<li><p>输出：<code>(batch, cropped_rows, cropped_cols, channels)</code></p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">	<span class="comment"># Crop the input 2D images or feature maps</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(Cropping2D(cropping=((<span class="number">2</span>, <span class="number">2</span>), (<span class="number">4</span>, <span class="number">4</span>)),</span><br><span class="line">                     input_shape=(<span class="number">28</span>, <span class="number">28</span>, <span class="number">3</span>)))</span><br><span class="line">	<span class="comment"># now model.output_shape == (None, 24, 20, 3)</span></span><br><span class="line">model.add(Conv2D(<span class="number">64</span>, (<span class="number">3</span>, <span class="number">3</span>), padding=<span class="string">&#x27;same&#x27;</span>))</span><br><span class="line">model.add(Cropping2D(cropping=((<span class="number">2</span>, <span class="number">2</span>), (<span class="number">2</span>, <span class="number">2</span>))))</span><br><span class="line">	<span class="comment"># now model.output_shape == (None, 20, 16, 64)</span></span><br></pre></td></tr></table></figure>
<h2 id="Cropping3D"><a href="#Cropping3D" class="headerlink" title="Cropping3D"></a>Cropping3D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.Cropping3D(</span><br><span class="line">	cropping=((<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">1</span>)),</span><br><span class="line">	data_format=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>对3D输入（空间、时空）进行裁剪</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>cropping</code>：长为3的整数tuple，分别为三个方向上头部
与尾部需要裁剪掉的元素数</li>
</ul>
</li>
<li><p>输入：<code>(batch, depth, first_axis_to_crop, second_axis_to_crop, third_axis_to_crop)</code>
（”channels_first”）</p>
</li>
<li><p>输出：<code>(batch, depth, first_cropped_axis, second_cropped_axis, third_cropped_axis)</code></p>
</li>
</ul>
<h2 id="UpSampling1D"><a href="#UpSampling1D" class="headerlink" title="UpSampling1D"></a>UpSampling1D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.UpSampling1D(</span><br><span class="line">	size=<span class="number">2</span>/integer</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>在时间轴上，将每个时间步重复<code>size</code>次</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>size</code>：轴上采样因子</li>
</ul>
</li>
<li><p>输入：<code>(batch, steps, features)</code>的3D张量</p>
</li>
<li><p>输出：<code>(batch, upsampled_steps, feature)</code>的3D张量</p>
</li>
</ul>
<h2 id="UpSampling2D"><a href="#UpSampling2D" class="headerlink" title="UpSampling2D"></a>UpSampling2D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.UpSampling2D(</span><br><span class="line">	size=(<span class="number">2</span>, <span class="number">2</span>)/<span class="built_in">tuple</span>/<span class="built_in">int</span>,</span><br><span class="line">	data_format=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>将数据的行和列分别重复<code>size[0]</code>和<code>size[1]</code>次</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>size</code>：分别为行和列上采样因子</li>
</ul>
</li>
<li><p>输入：<code>(batch, channels, rows, cols)</code>的4D张量
（”channels_first”）</p>
</li>
<li><p>输出：<code>(batch, channels, upsampled_rows, upsampled_cols)</code></p>
</li>
</ul>
<h2 id="UpSampling3D"><a href="#UpSampling3D" class="headerlink" title="UpSampling3D"></a>UpSampling3D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.UpSampling3D(</span><br><span class="line">	size=(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)/<span class="built_in">tuple</span>/<span class="built_in">int</span>,</span><br><span class="line">	data_format=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>将数据的三个维度上分别重复<code>size</code>次</p>
<ul>
<li><p>说明</p>
<ul>
<li>本层目前只能在使用Theano为后端时可用</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>size</code>：代表在三个维度上的上采样因子</li>
</ul>
</li>
</ul>
<ul>
<li><p>输入：<code>(batch, dim1, dim2, dim3, channels)</code>5DT
（”channels_last”）</p>
</li>
<li><p>输出：<code>(batch, upsampled_dim1, upsampled_dim2, upsampled_dim3, channels)</code></p>
</li>
</ul>
<h2 id="ZeroPadding1D"><a href="#ZeroPadding1D" class="headerlink" title="ZeroPadding1D"></a>ZeroPadding1D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.ZeroPadding1D(</span><br><span class="line">	padding=<span class="number">1</span>/<span class="built_in">int</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>对1D输入的首尾端（如时域序列）填充0</p>
<ul>
<li><p>说明</p>
<ul>
<li>以控制卷积以后向量的长度</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>padding</code>：整数，在axis 1起始和结束处填充0数目</li>
</ul>
</li>
<li><p>输入：<code>(batch, axis_to_pad, features)</code>3DT</p>
</li>
<li><p>输出：<code>(batch, paded_axis, features)</code>3DT</p>
</li>
</ul>
<h2 id="ZeroPadding2D"><a href="#ZeroPadding2D" class="headerlink" title="ZeroPadding2D"></a>ZeroPadding2D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.ZeroPadding2D(</span><br><span class="line">	padding=(<span class="number">1</span>, <span class="number">1</span>)/<span class="built_in">tuple</span>/<span class="built_in">int</span>,</span><br><span class="line">	data_format=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>对2D输入（如图片）的边界填充0</p>
<ul>
<li><p>说明</p>
<ul>
<li>以控制卷积以后特征图的大小</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>padding</code>：在要填充的轴的起始和结束处填充0的数目</li>
</ul>
</li>
</ul>
<h2 id="ZeroPadding3D"><a href="#ZeroPadding3D" class="headerlink" title="ZeroPadding3D"></a>ZeroPadding3D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.ZeroPadding3D(</span><br><span class="line">	padding=(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">	data_format=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>将数据的三个维度上填充0</p>
<ul>
<li>说明<ul>
<li>本层目前只能在使用Theano为后端时可用</li>
</ul>
</li>
</ul>
<p>结束处填充0的数目</p>
<h2 id="ZeroPadding3D-1"><a href="#ZeroPadding3D-1" class="headerlink" title="ZeroPadding3D"></a>ZeroPadding3D</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.convolutional.ZeroPadding3D(</span><br><span class="line">	padding=(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">	data_format=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>将数据的三个维度上填充0</p>
<ul>
<li>说明<ul>
<li>本层目前只能在使用Theano为后端时可用</li>
</ul>
</li>
</ul>
<p>?时可用</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-02-20T15:58:15.000Z" title="2/20/2019, 11:58:15 PM">2019-02-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-08-04T03:42:51.000Z" title="8/4/2021, 11:42:51 AM">2021-08-04</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Keras/">Keras</a></span><span class="level-item">4 minutes read (About 578 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Keras/about_layers.html">Layers 总述</a></h1><div class="content"><h3 id="Layer方法"><a href="#Layer方法" class="headerlink" title="Layer方法"></a>Layer方法</h3><p>所有的Keras层对象都有如下方法：</p>
<ul>
<li><p><code>layer.get_weights()</code>：返回层的权重NDA</p>
</li>
<li><p><code>layer.set_weights(weights)</code>：从NDA中将权重加载到该层中
，要求NDA的形状与<code>layer.get_weights()</code>的形状相同</p>
</li>
<li><p><code>layer.get_config()</code>：返回当前层配置信息的字典，层也可以
借由配置信息重构</p>
</li>
<li><p><code>layer.from_config(config)</code>：根据<code>config</code>配置信息重构层</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">layer = Dense(<span class="number">32</span>)</span><br><span class="line">config = layer.get_config()</span><br><span class="line">reconstructed_layer = Dense.from_config(config)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> layers</span><br><span class="line"></span><br><span class="line">config = layer.get_config()</span><br><span class="line">layer = layers.deserialize(&#123;<span class="string">&#x27;class_name&#x27;</span>: layer.__class__.__name__,</span><br><span class="line">							<span class="string">&#x27;config&#x27;</span>: config&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="非共享层"><a href="#非共享层" class="headerlink" title="非共享层"></a>非共享层</h4><p>如果层仅有一个计算节点（即该层不是共享层），则可以通过下列
方法获得</p>
<ul>
<li>输入张量：<code>layer.input</code></li>
<li>输出张量：<code>layer.output</code></li>
<li>输入数据的形状：<code>layer.input_shape</code></li>
<li>输出数据的形状：<code>layer.output_shape</code></li>
</ul>
<h4 id="共享层"><a href="#共享层" class="headerlink" title="共享层"></a>共享层</h4><p>如果该层有多个计算节点（参考层计算节点和共享层）</p>
<ul>
<li>输入张量：<code>layer.get_input_at(node_index)</code></li>
<li>输出张量：<code>layer.get_output_at(node_index)</code></li>
<li>输入数据形状：<code>layer.get_input_shape_at(node_index)</code></li>
<li>输出数据形状：<code>layer.get_output_shape_at(node_index)</code></li>
</ul>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><h4 id="shape类型"><a href="#shape类型" class="headerlink" title="shape类型"></a>shape类型</h4><ul>
<li><p>batch_size</p>
<ul>
<li>batch_size在实际数据输入中为首维（0维）</li>
<li>shape类型参数传递的tuple中一般不包括batch_size维度</li>
<li>输出时使用<code>None</code>表示<code>(batch_size,...)</code></li>
</ul>
</li>
<li><p>time_step</p>
<ul>
<li>对时序数据，time_step在实际数据输入中第二维（1维）</li>
</ul>
</li>
</ul>
<h5 id="input-shape"><a href="#input-shape" class="headerlink" title="input_shape"></a><code>input_shape</code></h5><ul>
<li><p>是<code>Layer</code>的初始化参数，所有<code>Layer</code>子类都具有</p>
</li>
<li><p>如果Layer是首层，需要传递该参数指明输入数据形状，否则
无需传递该参数</p>
<ul>
<li>有些子类有类似于<code>input_dim</code>等参数具有<code>input_shape</code>
部分功能</li>
</ul>
</li>
<li><p><code>None</code>：表示该维度变长</p>
</li>
</ul>
<h3 id="输入、输出"><a href="#输入、输出" class="headerlink" title="输入、输出"></a>输入、输出</h3><ul>
<li><p>channels/depth/features：时间、空间单位上独立的数据，
卷积应该在每个channal分别“独立”进行</p>
<ul>
<li>对1维时序（时间），channels就是每时刻的features</li>
<li>对2维图片（空间），channels就是色彩通道</li>
<li>对3维视频（时空），channels就是每帧色彩通道</li>
<li>中间数据，channnels就是每个filters的输出</li>
</ul>
</li>
<li><p><em>1D</em>：<code>(batch, dim, channels)</code>（<em>channels_last</em>）</p>
</li>
<li><p><em>2D</em>：<code>(batch, dim_1, dim_2, channels)</code>
（<em>channels_last</em>）</p>
</li>
<li><p><em>3D</em>：<code>(batch, dim_1, dim_2, dim_3, channels)</code>
（<em>channels_last</em>）</p>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-02-20T15:58:15.000Z" title="2/20/2019, 11:58:15 PM">2019-02-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Keras/">Keras</a></span><span class="level-item">3 minutes read (About 472 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Keras/advanced_activations_layers.html">高级激活层</a></h1><div class="content"><h3 id="LeakyReLU"><a href="#LeakyReLU" class="headerlink" title="LeakyReLU"></a>LeakyReLU</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.LeakyReLU(alpha=<span class="number">0.3</span>)</span><br></pre></td></tr></table></figure>
<p>带泄漏的修正线性单元。</p>
<ul>
<li><p>返回值：当神经元未激活时，它仍可以赋予其一个很小的梯度</p>
<ul>
<li><code>x &lt; 0</code>：<code>alpha * x</code></li>
<li><code>x &gt;= 0</code>：<code>x</code></li>
</ul>
</li>
<li><p>输入尺寸</p>
<ul>
<li>可以是任意的。如果将该层作为模型的第一层，需要指定
<code>input_shape</code>参数（整数元组，不包含样本数量的维度）</li>
</ul>
</li>
<li><p>输出尺寸：与输入相同</p>
</li>
<li><p>参数</p>
<ul>
<li><code>alpha</code>：<code>float &gt;= 0</code>，负斜率系数。</li>
</ul>
</li>
<li><p>参考文献</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://web.stanford.edu/~awni/papers/relu_hybrid_icml2013_final.pdf">Rectifier Nonlinearities Improve Neural Network Acoustic Models</a></li>
</ul>
</li>
</ul>
<h3 id="PReLU"><a href="#PReLU" class="headerlink" title="PReLU"></a>PReLU</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.PReLU(</span><br><span class="line">	alpha_initializer=<span class="string">&#x27;zeros&#x27;</span>,</span><br><span class="line">	alpha_regularizer=<span class="literal">None</span>,</span><br><span class="line">	alpha_constraint=<span class="literal">None</span>,</span><br><span class="line">	shared_axes=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>参数化的修正线性单元。</p>
<ul>
<li><p>返回值</p>
<ul>
<li><code>x &lt; 0</code>：<code>alpha * x</code></li>
<li><code>x &gt;= 0</code>：<code>x</code></li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>alpha_initializer</code>: 权重的初始化函数。</li>
<li><code>alpha_regularizer</code>: 权重的正则化方法。</li>
<li><code>alpha_constraint</code>: 权重的约束。</li>
<li><code>shared_axes</code>: 激活函数共享可学习参数的轴。
如果输入特征图来自输出形状为
<code>(batch, height, width, channels)</code>
的2D卷积层，而且你希望跨空间共享参数，以便每个滤波
器只有一组参数，可设置<code>shared_axes=[1, 2]</code></li>
</ul>
</li>
<li><p>参考文献</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1502.01852">Delving Deep into Rectifiers: Surpassing Human-Level Performance on ImageNet Classification</a></li>
</ul>
</li>
</ul>
<h3 id="ELU"><a href="#ELU" class="headerlink" title="ELU"></a>ELU</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.ELU(alpha=<span class="number">1.0</span>)</span><br></pre></td></tr></table></figure>
<p>指数线性单元</p>
<ul>
<li><p>返回值</p>
<ul>
<li><code>x &lt; 0</code>：<code>alpha * (exp(x) - 1.)</code></li>
<li><code>x &gt;= 0</code>：<code>x</code></li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>alpha</code>：负因子的尺度。</li>
</ul>
</li>
<li><p>参考文献</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1511.07289v1">Fast and Accurate Deep Network Learning by Exponential Linear Units (ELUs)</a></li>
</ul>
</li>
</ul>
<h3 id="ThresholdedReLU"><a href="#ThresholdedReLU" class="headerlink" title="ThresholdedReLU"></a>ThresholdedReLU</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.ThresholdedReLU(theta=<span class="number">1.0</span>)</span><br></pre></td></tr></table></figure>
<p>带阈值的修正线性单元。</p>
<ul>
<li><p>返回值</p>
<ul>
<li><code>x &gt; theta</code>：<code>x</code></li>
<li><code>x &lt;= theta</code>：0</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>theta</code>：<code>float &gt;= 0</code>激活的阈值位。</li>
</ul>
</li>
<li><p>参考文献</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://arxiv.org/abs/1402.3337">Zero-Bias Autoencoders and the Benefits of Co-Adapting Features</a></li>
</ul>
</li>
</ul>
<h3 id="Softmax"><a href="#Softmax" class="headerlink" title="Softmax"></a>Softmax</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.Softmax(axis=-<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>Softmax激活函数</p>
<ul>
<li>参数<ul>
<li><code>axis</code>: 整数，应用 softmax 标准化的轴。</li>
</ul>
</li>
</ul>
<h3 id="ReLU"><a href="#ReLU" class="headerlink" title="ReLU"></a>ReLU</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.ReLU(max_value=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<p>ReLU激活函数</p>
<ul>
<li>参数<ul>
<li><code>max_value</code>：浮点数，最大的输出值。</li>
</ul>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-02-20T15:58:15.000Z" title="2/20/2019, 11:58:15 PM">2019-02-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Keras/">Keras</a></span><span class="level-item">11 minutes read (About 1690 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Keras/core_layers.html">常用层</a></h1><div class="content"><p>常用层对应于core模块，core内部定义了一系列常用的网络层，包括
全连接、激活层等</p>
<h2 id="Dense层"><a href="#Dense层" class="headerlink" title="Dense层"></a>Dense层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.core.Dense(</span><br><span class="line">	units,</span><br><span class="line">	activation=<span class="literal">None</span>,</span><br><span class="line">	use_bias=<span class="literal">True</span>,</span><br><span class="line">	kernel_initializer=<span class="string">&#x27;glorot_uniform&#x27;</span>,</span><br><span class="line">	bias_initializer=<span class="string">&#x27;zeros&#x27;</span>,</span><br><span class="line">	kernel_regularizer=<span class="literal">None</span>,</span><br><span class="line">	bias_regularizer=<span class="literal">None</span>,</span><br><span class="line">	activity_regularizer=<span class="literal">None</span>,</span><br><span class="line">	kernel_constraint=<span class="literal">None</span>,</span><br><span class="line">	bias_constraint=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Dense就是常用的全连接层</p>
<ul>
<li><p>用途：实现运算$output = activation(dot(input, kernel)+bias)$</p>
<ul>
<li><code>activation</code>：是逐元素计算的激活函数</li>
<li><code>kernel</code>：是本层的权值矩阵</li>
<li><code>bias</code>：为偏置向量，只有当<code>use_bias=True</code>才会添加</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><p><code>units</code>：大于0的整数，代表该层的输出维度。</p>
</li>
<li><p><code>activation</code>：激活函数</p>
<ul>
<li>为预定义的激活函数名（参考激活函数）</li>
<li>逐元素（element-wise）的Theano函数</li>
<li>不指定该参数，将不会使用任何激活函数
（即使用线性激活函数：a(x)=x）</li>
</ul>
</li>
<li><p><code>use_bias</code>: 布尔值，是否使用偏置项</p>
</li>
<li><p><code>kernel_initializer</code>：权值初始化方法</p>
<ul>
<li>预定义初始化方法名的字符串</li>
<li>用于初始化权重的初始化器（参考initializers）</li>
</ul>
</li>
<li><p><code>bias_initializer</code>：偏置向量初始化方法</p>
<ul>
<li>为预定义初始化方法名的字符串</li>
<li>用于初始化偏置向量的初始化器（参考initializers）</li>
</ul>
</li>
<li><p><code>kernel_regularizer</code>：施加在权重上的正则项，为
Regularizer对象</p>
</li>
<li><p><code>bias_regularizer</code>：施加在偏置向量上的正则项，为
Regularizer对象</p>
</li>
<li><p><code>activity_regularizer</code>：施加在输出上的正则项，为
Regularizer对象</p>
</li>
<li><p><code>kernel_constraints</code>：施加在权重上的约束项，为<br>Constraints对象</p>
</li>
<li><p><code>bias_constraints</code>：施加在偏置上的约束项，为
Constraints对象</p>
</li>
</ul>
</li>
<li><p>输入</p>
<ul>
<li>形如<code>(batch_size, ..., input_dim)</code>的NDT，最常见情况
为<code>(batch_size, input_dim)</code>的2DT</li>
<li>数据的维度大于2，则会先被压为与<code>kernel</code>相匹配的大小</li>
</ul>
</li>
<li><p>输出</p>
<ul>
<li>形如<code>(batch_size, ..., units)</code>的NDT，最常见的情况为
$(batch_size, units)$的2DT</li>
</ul>
</li>
</ul>
<h2 id="Activation层"><a href="#Activation层" class="headerlink" title="Activation层"></a>Activation层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.core.Activation(</span><br><span class="line">	activation,</span><br><span class="line">	input_shape</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>激活层对一个层的输出施加激活函数</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>activation</code>：将要使用的激活函数<ul>
<li>预定义激活函数名</li>
<li>Tensorflow/Theano的函数（参考激活函数）</li>
</ul>
</li>
</ul>
</li>
<li><p>输入：任意，使用激活层作为第一层时，要指定<code>input_shape</code></p>
</li>
<li><p>输出：与输入shape相同</p>
</li>
</ul>
<h2 id="Dropout层"><a href="#Dropout层" class="headerlink" title="Dropout层"></a>Dropout层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.core.Dropout(</span><br><span class="line">	rate,</span><br><span class="line">	noise_shape=<span class="literal">None</span>,</span><br><span class="line">	seed=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>为输入数据施加Dropout</p>
<ul>
<li><p>说明</p>
<ul>
<li><p>Dropout将在训练过程中每次更新参数时按一定概率<code>rate</code>
随机断开输入神经元</p>
</li>
<li><p>可以用于防止过拟合</p>
</li>
<li><p>参考文献：<a target="_blank" rel="noopener" href="http://www.cs.toronto.edu/~rsalakhu/papers/srivastava14a.pdf">Dropout: A Simple Way to Prevent Neural Networks from Overfitting</a></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>参数</p>
<ul>
<li><p><code>rate</code>：0~1的浮点数，控制需要断开的神经元的比例</p>
</li>
<li><p><code>noise_shape</code>：整数张量，为将要应用在输入上的二值
Dropout mask的shape</p>
</li>
<li><p><code>seed</code>：整数，使用的随机数种子</p>
</li>
</ul>
</li>
<li><p>输入</p>
<ul>
<li>例：<code>(batch_size, timesteps, features)</code>，希望在各个
时间步上Dropout mask都相同，则可传入
<code>noise_shape=(batch_size, 1, features)</code></li>
</ul>
</li>
</ul>
<h2 id="Flatten层"><a href="#Flatten层" class="headerlink" title="Flatten层"></a>Flatten层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.core.Flatten()</span><br></pre></td></tr></table></figure>
<p>Flatten层用来将输入“压平”，把多维的输入一维化</p>
<ul>
<li>常用在从卷积层到全连接层的过渡</li>
<li>Flatten不影响batch的大小。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">model = Sequential()</span><br><span class="line">model.add(Convolution2D(<span class="number">64</span>, <span class="number">3</span>, <span class="number">3</span>,</span><br><span class="line">            border_mode=<span class="string">&#x27;same&#x27;</span>,</span><br><span class="line">            input_shape=(<span class="number">3</span>, <span class="number">32</span>, <span class="number">32</span>)))</span><br><span class="line">	<span class="comment"># now: model.output_shape == (None, 64, 32, 32)</span></span><br><span class="line"></span><br><span class="line">model.add(Flatten())</span><br><span class="line">	<span class="comment"># now: model.output_shape == (None, 65536)</span></span><br></pre></td></tr></table></figure>
<h2 id="Reshape层"><a href="#Reshape层" class="headerlink" title="Reshape层"></a>Reshape层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.core.Reshape(</span><br><span class="line">	target_shape,</span><br><span class="line">	input_shape</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Reshape层用来将输入shape转换为特定的shape</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>target_shape</code>：目标shape，为整数的tuple，不包含样本
数目的维度（batch大小）<ul>
<li>包含<code>-1</code>表示推断该维度大小</li>
</ul>
</li>
</ul>
</li>
<li><p>输入：输入的shape必须固定（和<code>target_shape</code>积相同）</p>
</li>
<li><p>输出：<code>(batch_size, *target_shape)</code></p>
</li>
<li><p>例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">model = Sequential()</span><br><span class="line">model.add(Reshape((<span class="number">3</span>, <span class="number">4</span>), input_shape=(<span class="number">12</span>,)))</span><br><span class="line">	<span class="comment"># now: model.output_shape == (None, 3, 4)</span></span><br><span class="line">	<span class="comment"># note: `None` is the batch dimension</span></span><br><span class="line"></span><br><span class="line">model.add(Reshape((<span class="number">6</span>, <span class="number">2</span>)))</span><br><span class="line">	<span class="comment"># now: model.output_shape == (None, 6, 2)</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># also supports shape inference using `-1` as dimension</span></span><br><span class="line">model.add(Reshape((-<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)))</span><br><span class="line">	<span class="comment"># now: model.output_shape == (None, 3, 2, 2)</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Permute层"><a href="#Permute层" class="headerlink" title="Permute层"></a>Permute层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.core.Permute(</span><br><span class="line">	dims(<span class="built_in">tuple</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Permute层将输入的维度按照给定模式进行重排</p>
<ul>
<li><p>说明</p>
<ul>
<li>当需要将RNN和CNN网络连接时，可能会用到该层。</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>dims</code>：指定重排的模式，不包含样本数的维度（即下标
从1开始）</li>
</ul>
</li>
<li><p>输出shape</p>
<ul>
<li>与输入相同，但是其维度按照指定的模式重新排列</li>
</ul>
</li>
<li><p>例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">model = Sequential()</span><br><span class="line">model.add(Permute((<span class="number">2</span>, <span class="number">1</span>), input_shape=(<span class="number">10</span>, <span class="number">64</span>)))</span><br><span class="line">	<span class="comment"># now: model.output_shape == (None, 64, 10)</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="RepeatVector层"><a href="#RepeatVector层" class="headerlink" title="RepeatVector层"></a>RepeatVector层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.core.RepeatVector(</span><br><span class="line">	n(<span class="built_in">int</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>RepeatVector层将输入重复n次</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>n</code>：整数，重复的次数</li>
</ul>
</li>
<li><p>输入：形如<code>(batch_size, features)</code>的张量</p>
</li>
<li><p>输出：形如<code>(bathc_size, n, features)</code>的张量</p>
</li>
<li><p>例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">model = Sequential()</span><br><span class="line">model.add(Dense(<span class="number">32</span>, input_dim=<span class="number">32</span>))</span><br><span class="line">	<span class="comment"># now: model.output_shape == (None, 32)</span></span><br><span class="line"></span><br><span class="line">model.add(RepeatVector(<span class="number">3</span>))</span><br><span class="line">	<span class="comment"># now: model.output_shape == (None, 3, 32)</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Lambda层"><a href="#Lambda层" class="headerlink" title="Lambda层"></a>Lambda层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.core.Lambda(</span><br><span class="line">	function,</span><br><span class="line">	output_shape=<span class="literal">None</span>,</span><br><span class="line">	mask=<span class="literal">None</span>,</span><br><span class="line">	arguments=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>对上一层的输出施以任何Theano/TensorFlow表达式</p>
<ul>
<li><p>参数</p>
<ul>
<li><p><code>function</code>：要实现的函数，该函数仅接受一个变量，即
上一层的输出</p>
</li>
<li><p><code>output_shape</code>：函数应该返回的值的shape，可以是一个
tuple，也可以是一个根据输入shape计算输出shape的函数</p>
</li>
<li><p><code>mask</code>: 掩膜</p>
</li>
<li><p><code>arguments</code>：可选，字典，用来记录向函数中传递的其他
关键字参数</p>
</li>
</ul>
</li>
<li><p>输出：<code>output_shape</code>参数指定的输出shape，使用TF时可自动
推断</p>
</li>
</ul>
<ul>
<li><p>例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">model.add(Lambda(<span class="keyword">lambda</span> x: x ** <span class="number">2</span>))</span><br><span class="line">	<span class="comment"># add a x -&gt; x^2 layer</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># add a layer that returns the concatenation</span></span><br><span class="line"><span class="comment"># of the positive part of the input and</span></span><br><span class="line"><span class="comment"># the opposite of the negative part</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">antirectifier</span>(<span class="params">x</span>):</span></span><br><span class="line">	x -= K.mean(x, axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>)</span><br><span class="line">	x = K.l2_normalize(x, axis=<span class="number">1</span>)</span><br><span class="line">	pos = K.relu(x)</span><br><span class="line">	neg = K.relu(-x)</span><br><span class="line">	<span class="keyword">return</span> K.concatenate([pos, neg], axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">antirectifier_output_shape</span>(<span class="params">input_shape</span>):</span></span><br><span class="line">	shape = <span class="built_in">list</span>(input_shape)</span><br><span class="line">	<span class="keyword">assert</span> <span class="built_in">len</span>(shape) == <span class="number">2</span>  <span class="comment"># only valid for 2D tensors</span></span><br><span class="line">	shape[-<span class="number">1</span>] *= <span class="number">2</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">tuple</span>(shape)</span><br><span class="line"></span><br><span class="line">model.add(Lambda(antirectifier,</span><br><span class="line">		 output_shape=antirectifier_output_shape))</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="ActivityRegularizer层"><a href="#ActivityRegularizer层" class="headerlink" title="ActivityRegularizer层"></a>ActivityRegularizer层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.core.ActivityRegularization(</span><br><span class="line">	l1=<span class="number">0.0</span>,</span><br><span class="line">	l2=<span class="number">0.0</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>经过本层的数据不会有任何变化，但会基于其激活值更新损失函数值</p>
<ul>
<li>参数<ul>
<li><code>l1</code>：1范数正则因子（正浮点数）</li>
<li><code>l2</code>：2范数正则因子（正浮点数）</li>
</ul>
</li>
</ul>
<h2 id="Masking层"><a href="#Masking层" class="headerlink" title="Masking层"></a>Masking层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.core.Masking(mask_value=<span class="number">0.0</span>)</span><br></pre></td></tr></table></figure>
<p>使用给定的值对输入的序列信号进行“屏蔽”</p>
<ul>
<li><p>说明</p>
<ul>
<li>用以定位需要跳过的时间步</li>
<li>对于输入张量的时间步，如果输入张量在该时间步上都等于
<code>mask_value</code>，则该时间步将在模型接下来的所有层
（只要支持masking）被跳过（屏蔽）。</li>
<li>如果模型接下来的一些层不支持masking，却接受到masking
过的数据，则抛出异常</li>
</ul>
</li>
<li><p>输入：形如<code>(samples,timesteps,features)</code>的张量</p>
</li>
</ul>
<ul>
<li>例：缺少时间步为3和5的信号，希望将其掩盖<ul>
<li>方法：赋值<code>x[:,3,:] = 0., x[:,5,:] = 0.</code></li>
<li>在LSTM层之前插入<code>mask_value=0.</code>的Masking层<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">model = Sequential()</span><br><span class="line">model.add(Masking(mask_value=<span class="number">0.</span>, input_shape=(timesteps, features)))</span><br><span class="line">model.add(LSTM(<span class="number">32</span>))</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p>.`的Masking层
        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">model = Sequential()</span><br><span class="line">model.add(Masking(mask_value=<span class="number">0.</span>, input_shape=(timesteps, features)))</span><br><span class="line">model.add(LSTM(<span class="number">32</span>))</span><br></pre></td></tr></table></figure></p>
<p>```</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-02-20T15:58:15.000Z" title="2/20/2019, 11:58:15 PM">2019-02-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Keras/">Keras</a></span><span class="level-item">2 minutes read (About 229 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Keras/locally_connected_layers.html">LocallyConnceted 局部连接层</a></h1><div class="content"><p>LocallyConnnected和Conv差不多，只是Conv每层共享卷积核，
这里不同位置卷积核独立</p>
<h2 id="LocallyConnected1D层"><a href="#LocallyConnected1D层" class="headerlink" title="LocallyConnected1D层"></a>LocallyConnected1D层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.local.LocallyConnected1D(</span><br><span class="line">	filters,</span><br><span class="line">	kernel_size,</span><br><span class="line">	strides=<span class="number">1</span>,</span><br><span class="line">	padding=<span class="string">&quot;valid&quot;</span>,</span><br><span class="line">	data_format=<span class="literal">None</span>,</span><br><span class="line">	activation=<span class="literal">None</span>,</span><br><span class="line">	use_bias=<span class="literal">True</span>,</span><br><span class="line">	kernel_initializer=<span class="string">&quot;glorot_uniform&quot;</span>,</span><br><span class="line">	bias_initializer=<span class="string">&quot;zeros&quot;</span>,</span><br><span class="line">	kernel_regularizer=<span class="literal">None</span>,</span><br><span class="line">	bias_regularizer=<span class="literal">None</span>,</span><br><span class="line">	activity_regularizer=<span class="literal">None</span>,</span><br><span class="line">	kernel_constraint=<span class="literal">None</span>,</span><br><span class="line">	bias_constraint=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>类似于<code>Conv1D</code>，单卷积核权重不共享</p>
<h2 id="LocallyConnected2D层"><a href="#LocallyConnected2D层" class="headerlink" title="LocallyConnected2D层"></a>LocallyConnected2D层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">keras.layers.local.LocallyConnected2D(</span><br><span class="line">	filters,</span><br><span class="line">	kernel_size,</span><br><span class="line">	strides=(<span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">	padding=<span class="string">&quot;valid&quot;</span>,</span><br><span class="line">	data_format=<span class="literal">None</span>,</span><br><span class="line">	activation=<span class="literal">None</span>,</span><br><span class="line">	use_bias=<span class="literal">True</span>,</span><br><span class="line">	kernel_initializer=<span class="string">&quot;glorot_uniform&quot;</span>,</span><br><span class="line">	bias_initializer=<span class="string">&quot;zeros&quot;</span>,</span><br><span class="line">	kernel_regularizer=<span class="literal">None</span>,</span><br><span class="line">	bias_regularizer=<span class="literal">None</span>,</span><br><span class="line">	activity_regularizer=<span class="literal">None</span>,</span><br><span class="line">	kernel_constraint=<span class="literal">None</span>,</span><br><span class="line">	bias_constraint=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>类似<code>Conv2D</code>，区别是不进行权值共享</p>
<ul>
<li>说明<ul>
<li>输出的行列数可能会因为填充方法而改变</li>
</ul>
</li>
<li>例<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">model = Sequential()</span><br><span class="line">model.add(LocallyConnected2D(<span class="number">64</span>, (<span class="number">3</span>, <span class="number">3</span>), input_shape=(<span class="number">32</span>, <span class="number">32</span>, <span class="number">3</span>)))</span><br><span class="line">	<span class="comment"># apply a 3x3 unshared weights convolution with 64 output filters on a 32x32 image</span></span><br><span class="line">	<span class="comment"># with `data_format=&quot;channels_last&quot;`:</span></span><br><span class="line">	<span class="comment"># now model.output_shape == (None, 30, 30, 64)</span></span><br><span class="line">	<span class="comment"># notice that this layer will consume (30*30)*(3*3*3*64) + (30*30)*64 parameters</span></span><br><span class="line"></span><br><span class="line">model.add(LocallyConnected2D(<span class="number">32</span>, (<span class="number">3</span>, <span class="number">3</span>)))</span><br><span class="line">	<span class="comment"># now model.output_shape == (None, 28, 28, 32)</span></span><br><span class="line">	<span class="comment"># add a 3x3 unshared weights convolution on top, with 32 output filters:</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/38/">Previous</a></div><div class="pagination-next"><a href="/page/40/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/38/">38</a></li><li><a class="pagination-link is-current" href="/page/39/">39</a></li><li><a class="pagination-link" href="/page/40/">40</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">36</span></span></a><ul><li><a class="level is-mobile" href="/categories/Algorithm/Data-Structure/"><span class="level-start"><span class="level-item">Data Structure</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Heuristic/"><span class="level-start"><span class="level-item">Heuristic</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Issue/"><span class="level-start"><span class="level-item">Issue</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Problem/"><span class="level-start"><span class="level-item">Problem</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Specification/"><span class="level-start"><span class="level-item">Specification</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/C-C/"><span class="level-start"><span class="level-item">C/C++</span></span><span class="level-end"><span class="level-item tag">34</span></span></a><ul><li><a class="level is-mobile" href="/categories/C-C/Cppref/"><span class="level-start"><span class="level-item">Cppref</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/Cstd/"><span class="level-start"><span class="level-item">Cstd</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/MPI/"><span class="level-start"><span class="level-item">MPI</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/STL/"><span class="level-start"><span class="level-item">STL</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/CS/"><span class="level-start"><span class="level-item">CS</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/CS/Character/"><span class="level-start"><span class="level-item">Character</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Parallel/"><span class="level-start"><span class="level-item">Parallel</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Program-Design/"><span class="level-start"><span class="level-item">Program Design</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Storage/"><span class="level-start"><span class="level-item">Storage</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Daily-Life/"><span class="level-start"><span class="level-item">Daily Life</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Daily-Life/Maxism/"><span class="level-start"><span class="level-item">Maxism</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">27</span></span></a><ul><li><a class="level is-mobile" href="/categories/Database/Hadoop/"><span class="level-start"><span class="level-item">Hadoop</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/SQL-DB/"><span class="level-start"><span class="level-item">SQL DB</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/Spark/"><span class="level-start"><span class="level-item">Spark</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/Java/Scala/"><span class="level-start"><span class="level-item">Scala</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">42</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Bash-Programming/"><span class="level-start"><span class="level-item">Bash Programming</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Configuration/"><span class="level-start"><span class="level-item">Configuration</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/File-System/"><span class="level-start"><span class="level-item">File System</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/IPC/"><span class="level-start"><span class="level-item">IPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Process-Schedual/"><span class="level-start"><span class="level-item">Process Schedual</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Shell/"><span class="level-start"><span class="level-item">Shell</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Tool/"><span class="level-start"><span class="level-item">Tool</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Tool/Vi/"><span class="level-start"><span class="level-item">Vi</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Model/"><span class="level-start"><span class="level-item">ML Model</span></span><span class="level-end"><span class="level-item tag">21</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Model/Linear-Model/"><span class="level-start"><span class="level-item">Linear Model</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Model-Component/"><span class="level-start"><span class="level-item">Model Component</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Nolinear-Model/"><span class="level-start"><span class="level-item">Nolinear Model</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Unsupervised-Model/"><span class="level-start"><span class="level-item">Unsupervised Model</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/"><span class="level-start"><span class="level-item">ML Specification</span></span><span class="level-end"><span class="level-item tag">17</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/Click-Through-Rate/"><span class="level-start"><span class="level-item">Click Through Rate</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/Click-Through-Rate/Recommandation-System/"><span class="level-start"><span class="level-item">Recommandation System</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/Computer-Vision/"><span class="level-start"><span class="level-item">Computer Vision</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Specification/FinTech/"><span class="level-start"><span class="level-item">FinTech</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/FinTech/Risk-Control/"><span class="level-start"><span class="level-item">Risk Control</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/Graph-Analysis/"><span class="level-start"><span class="level-item">Graph Analysis</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Specification/NLP/"><span class="level-start"><span class="level-item">NLP</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Technique/"><span class="level-start"><span class="level-item">ML Technique</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Technique/Feature-Engineering/"><span class="level-start"><span class="level-item">Feature Engineering</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Technique/Neural-Network/"><span class="level-start"><span class="level-item">Neural Network</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Theory/"><span class="level-start"><span class="level-item">ML Theory</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Theory/Loss/"><span class="level-start"><span class="level-item">Loss</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Theory/Model-Enhencement/"><span class="level-start"><span class="level-item">Model Enhencement</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Theory/Optimization/"><span class="level-start"><span class="level-item">Optimization</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Algebra/"><span class="level-start"><span class="level-item">Math Algebra</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Algebra/Linear-Algebra/"><span class="level-start"><span class="level-item">Linear Algebra</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Algebra/Universal-Algebra/"><span class="level-start"><span class="level-item">Universal Algebra</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Analysis/"><span class="level-start"><span class="level-item">Math Analysis</span></span><span class="level-end"><span class="level-item tag">23</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Analysis/Fourier-Analysis/"><span class="level-start"><span class="level-item">Fourier Analysis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Functional-Analysis/"><span class="level-start"><span class="level-item">Functional Analysis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Optimization/"><span class="level-start"><span class="level-item">Optimization</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Real-Analysis/"><span class="level-start"><span class="level-item">Real Analysis</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Mixin/"><span class="level-start"><span class="level-item">Math Mixin</span></span><span class="level-end"><span class="level-item tag">18</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Mixin/Statistics/"><span class="level-start"><span class="level-item">Statistics</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Mixin/Time-Series/"><span class="level-start"><span class="level-item">Time Series</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Probability/"><span class="level-start"><span class="level-item">Probability</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">89</span></span></a><ul><li><a class="level is-mobile" href="/categories/Python/Cookbook/"><span class="level-start"><span class="level-item">Cookbook</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Jupyter/"><span class="level-start"><span class="level-item">Jupyter</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Keras/"><span class="level-start"><span class="level-item">Keras</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Matplotlib/"><span class="level-start"><span class="level-item">Matplotlib</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Numpy/"><span class="level-start"><span class="level-item">Numpy</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Pandas/"><span class="level-start"><span class="level-item">Pandas</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Py3Ref/"><span class="level-start"><span class="level-item">Py3Ref</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Py3std/"><span class="level-start"><span class="level-item">Py3std</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Pywin32/"><span class="level-start"><span class="level-item">Pywin32</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Readme/"><span class="level-start"><span class="level-item">Readme</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/TensorFlow/"><span class="level-start"><span class="level-item">TensorFlow</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Twists/"><span class="level-start"><span class="level-item">Twists</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/RLang/"><span class="level-start"><span class="level-item">RLang</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Rust/"><span class="level-start"><span class="level-item">Rust</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Set/"><span class="level-start"><span class="level-item">Set</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/"><span class="level-start"><span class="level-item">Tool</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/Tool/Editor/"><span class="level-start"><span class="level-item">Editor</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Markup-Language/"><span class="level-start"><span class="level-item">Markup Language</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Web-Browser/"><span class="level-start"><span class="level-item">Web Browser</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Windows/"><span class="level-start"><span class="level-item">Windows</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/Web/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/NPM/"><span class="level-start"><span class="level-item">NPM</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/Proxy/"><span class="level-start"><span class="level-item">Proxy</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/Thrift/"><span class="level-start"><span class="level-item">Thrift</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><!--!--><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="UBeaRLy"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">UBeaRLy</p><p class="is-size-6 is-block">Protector of Proxy</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Earth, Solar System</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">392</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">93</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">522</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/xyy15926" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/xyy15926"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-04T15:07:54.896Z">2021-08-04</time></p><p class="title"><a href="/uncategorized/README.html"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-03T07:46:51.000Z">2021-08-03</time></p><p class="title"><a href="/Web/NPM/hexo_config.html">Hexo 建站</a></p><p class="categories"><a href="/categories/Web/">Web</a> / <a href="/categories/Web/NPM/">NPM</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-03T02:32:45.000Z">2021-08-03</time></p><p class="title"><a href="/Web/NPM/config.html">NPM 总述</a></p><p class="categories"><a href="/categories/Web/">Web</a> / <a href="/categories/Web/NPM/">NPM</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-02T08:11:11.000Z">2021-08-02</time></p><p class="title"><a href="/Python/Py3std/internet_data.html">互联网数据</a></p><p class="categories"><a href="/categories/Python/">Python</a> / <a href="/categories/Python/Py3std/">Py3std</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-29T13:55:00.000Z">2021-07-29</time></p><p class="title"><a href="/Linux/Shell/sh_apps.html">Shell 应用程序</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Shell/">Shell</a></p></div></article></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5385776267343559" data-ad-slot="6995841235" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="UBeaRLy" height="28"></a><p class="is-size-7"><span>&copy; 2021 UBeaRLy</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/xyy15926/proxy"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>