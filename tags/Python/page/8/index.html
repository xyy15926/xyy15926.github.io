<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Tag: Python - Hexo</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="UBeaRLy&#039;s Proxy"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="UBeaRLy&#039;s Proxy"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Hexo"><meta property="og:url" content="https://xyy15926.github.io/"><meta property="og:site_name" content="Hexo"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://xyy15926.github.io/img/og_image.png"><meta property="article:author" content="UBeaRLy"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://xyy15926.github.io"},"headline":"Hexo","image":["https://xyy15926.github.io/img/og_image.png"],"author":{"@type":"Person","name":"UBeaRLy"},"publisher":{"@type":"Organization","name":"Hexo","logo":{"@type":"ImageObject","url":"https://xyy15926.github.io/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/darcula.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oxanium:wght@300;400;600&amp;family=Roboto+Mono"><link rel="stylesheet" href="/css/cyberpunk.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-5385776267343559" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Visit on GitHub" href="https://github.com/xyy15926/proxy"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">Python</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Keras/">Keras</a></span><span class="level-item">a few seconds read (About 54 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Keras/config.html">Keras 安装配置</a></h1><div class="content"><h2 id="Keras配置文件"><a href="#Keras配置文件" class="headerlink" title="Keras配置文件"></a>Keras配置文件</h2><h3 id="HOME-keras-keras-json"><a href="#HOME-keras-keras-json" class="headerlink" title="$HOME/.keras/keras.json"></a><code>$HOME/.keras/keras.json</code></h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;image_data_format&quot;</span>: <span class="string">&quot;channel_last&quot;</span>,</span><br><span class="line">		# 指定Keras将要使用数据维度顺序</span><br><span class="line">	<span class="attr">&quot;epsilon&quot;</span>: <span class="number">1e-07</span>,</span><br><span class="line">		# 防止除0错误数字</span><br><span class="line">	<span class="attr">&quot;flaotx&quot;</span>: <span class="string">&quot;float32&quot;</span>,</span><br><span class="line">		# 浮点数精度</span><br><span class="line">	<span class="attr">&quot;backend&quot;</span>: <span class="string">&quot;tensorflow&quot;</span></span><br><span class="line">		# 指定Keras所使用后端</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a></span><span class="level-item">a few seconds read (About 62 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/README.html">Matplotlib约定</a></h1><div class="content"><h2 id="函数书写声明"><a href="#函数书写声明" class="headerlink" title="函数书写声明"></a>函数书写声明</h2><ul>
<li>函数书写声明同Python全局</li>
<li>以下常用参数如不特殊注明，按照此解释</li>
</ul>
<h3 id="Pyplot"><a href="#Pyplot" class="headerlink" title="Pyplot"></a>Pyplot</h3><ul>
<li><p><code>data=dict/pd.DataFrame</code></p>
<ul>
<li>其他<ul>
<li>属于kwargs中参数</li>
<li>传参时，相应键值对替代对应参数</li>
</ul>
</li>
</ul>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-09-09T05:17:38.000Z" title="9/9/2020, 1:17:38 PM">2020-09-09</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Matplotlib/">Matplotlib</a></span><span class="level-item">5 minutes read (About 776 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Matplotlib/config.html">Matplotlib 配置</a></h1><div class="content"><h2 id="配置文件matplotlibrc"><a href="#配置文件matplotlibrc" class="headerlink" title="配置文件matplotlibrc"></a>配置文件<code>matplotlibrc</code></h2><h3 id="配置文件路径"><a href="#配置文件路径" class="headerlink" title="配置文件路径"></a>配置文件路径</h3><ul>
<li><code>/current/dir/matplotplibrc</code></li>
<li><code>$MATPLOTLIBRC/matplotlibrc</code></li>
<li><code>~/.config/matplotlib/matplotlibrc(~/.matplotlib/matplotlibrc)</code></li>
<li><code>/path/to/matlabplot/mpl-data/matplotlibrc</code></li>
</ul>
<h3 id="查看实际路径"><a href="#查看实际路径" class="headerlink" title="查看实际路径"></a>查看实际路径</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python -c <span class="string">&#x27;import matplotlib as mpl; print(mpl.matplotlib_fname())&#x27;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="中文问题"><a href="#中文问题" class="headerlink" title="中文问题"></a>中文问题</h2><h3 id="字符编码问题"><a href="#字符编码问题" class="headerlink" title="字符编码问题"></a>字符编码问题</h3><ul>
<li><p>python2中默认字符编码方案是ascii，需要更改为utf-8</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(<span class="string">&quot;utf8&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>python3则默认为utf-8编码，无需其他操作</p>
</li>
</ul>
<h3 id="字体文件缺失"><a href="#字体文件缺失" class="headerlink" title="字体文件缺失"></a>字体文件缺失</h3><ul>
<li>mpl不兼容ttc文件，只能识别ttf文件</li>
<li>mpl默认使用<code>/path/to/matplotlib/mpl-data/fonts</code>中的字体
文件</li>
</ul>
<blockquote>
<ul>
<li>ttc和ttf格式参见<em>cs_program/character</em></li>
</ul>
</blockquote>
<h4 id="管理单个图表"><a href="#管理单个图表" class="headerlink" title="管理单个图表"></a>管理单个图表</h4><ul>
<li>通过mpl<em>字体管理器</em>管理<strong>单个</strong>图表元素字体<ul>
<li>对每个需要使用该字体的图表元素，都需要传递相应的参数</li>
<li>无需字体都不需要安装</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ch=mpl.font_manager.FontProperties(fname=/path/to/font.ttf)</span><br><span class="line">ax.set_title(name, fontproperties=ch)</span><br></pre></td></tr></table></figure>
<h4 id="运行时配置MPL默认字体"><a href="#运行时配置MPL默认字体" class="headerlink" title="运行时配置MPL默认字体"></a>运行时配置MPL默认字体</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># 必须在`plt.plot()`类似的绘图语句执行之前执行</span></span><br><span class="line"> <span class="comment"># `font-name`为已安装字体名称而不是字体文件名</span></span><br><span class="line">mpl.rcParams[<span class="string">&#x27;font.default-font-family&#x27;</span>].insert(<span class="number">0</span>, font-name)</span><br><span class="line"> <span class="comment"># 查看当前默认font-family</span></span><br><span class="line">mpl.font_manager.FontProperties().get_family()</span><br><span class="line"> <span class="comment"># 一般默认字体族是&quot;sans-serif&quot;，所以应该将字体名称插入其首位</span></span><br><span class="line">mpl.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>].insert(<span class="number">0</span>, font-name)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>运行时指定“已安装”字体给<strong>当前执行</strong>mpl配置中默认字体</p>
<ul>
<li><p>系统中已安装<strong>ttf字体</strong>，即<code>fc-</code>查找目录</p>
<ul>
<li><code>/usr/share/fonts/</code></li>
<li><code>$HOME/.local/share/fonts/</code></li>
<li><code>$HOME/.fonts/</code></li>
</ul>
</li>
<li><p><code>/path/to/matplotlib/mpl-data/fonts/</code>中字体文件对应
字体</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>已安装字体指<code>mpl.font_manager.FontManager</code>能找到字体，但
不是所有系统已安装字体，mpl均可找到、使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取mpl所有可用字体并排序</span></span><br><span class="line"><span class="built_in">sorted</span>([i.name <span class="keyword">for</span> i <span class="keyword">in</span> mpl.font_manager.FontManger().ttflist])</span><br></pre></td></tr></table></figure>
<ul>
<li><p>字体文件问题：mpl不兼容ttc字体文件</p>
</li>
<li><p>缓存问题：mpl可能在<code>~/.cache/matplotlib/</code>下有cache
文件，mpl会直接从中获取可用字体列表，新字体可能需
删除才能在mpl中生效</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取mpl缓存文件夹</span></span><br><span class="line">mpl.get_cachedir()</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="修改MPL配置文件"><a href="#修改MPL配置文件" class="headerlink" title="修改MPL配置文件"></a>修改MPL配置文件</h4><ul>
<li><p>修改配置文件更改<strong>全局</strong>默认字体</p>
<ul>
<li><p>将字体名称添加在默认字体族首位，作为最优先候选字体</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">font.sans-serif : font-name,</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>同样要求mpl能够找到、使用相应的字体文件</p>
</li>
</ul>
<h2 id="图片显示"><a href="#图片显示" class="headerlink" title="图片显示"></a>图片显示</h2><h3 id="X11依赖"><a href="#X11依赖" class="headerlink" title="X11依赖"></a>X11依赖</h3><ul>
<li><p>mpl一般在常用于包含有X11的图形化界面中，所以若X11不可用
则需修改mpl配置</p>
</li>
<li><p>对生成pdf、png、svg等，可以修改后端为<code>Agg</code></p>
<ul>
<li><p>运行时修改</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="comment"># 须在导入`pyplot`前执行</span></span><br><span class="line">mpl.use(<span class="string">&quot;Agg&quot;</span>)</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">backend: TkAgg</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>   By default, matplotlib ships configured to work with a
    graphical user interface which may require an X11
    connection. Since many barebones application servers
    don’t have X11 enabled, you may get errors if you don’t
    configure matplotlib for use in these environments.
    Most importantly, you need to decide what kinds of
    images you want to generate(PNG, PDF, SVG) and configure
    the appropriate default backend. For 99% of users, this
    will be the Agg backend, which uses the C++ antigrain
    rendering engine to make nice PNGs</p>
</blockquote>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Matplotlib/">Matplotlib</a></span><span class="level-item">3 minutes read (About 404 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Matplotlib/plt.html">Matplotlib.plot笔记</a></h1><div class="content"><h2 id="图像元素"><a href="#图像元素" class="headerlink" title="图像元素"></a>图像元素</h2><h3 id="Figure"><a href="#Figure" class="headerlink" title="Figure"></a>Figure</h3><p>整个窗口（句柄）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fig=plt.figure(num=<span class="literal">None</span>, figsize=<span class="literal">None</span>, dpi=<span class="literal">None</span>,</span><br><span class="line">facecolor=<span class="literal">None</span>, edgecolor=<span class="literal">None</span>, frameon=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Axes"><a href="#Axes" class="headerlink" title="Axes"></a>Axes</h3><p>图像（子图）（句柄）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">None</span>=plt.subplot(*arg, **karg)</span><br><span class="line">	// 创建并激活axes</span><br><span class="line"><span class="literal">None</span>=plt.subplot(num=<span class="built_in">int</span>(row-col-index)</span><br><span class="line"><span class="literal">None</span>=plt.subplot(row, col, index)</span><br><span class="line"></span><br><span class="line">fig, axs=plt.subplots(rows=<span class="built_in">int</span>, cols=<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">fig.add_subplot(rows=<span class="built_in">int</span>, cols=<span class="built_in">int</span>, index=<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">ax=fig.add_axes(rect=[left,buttom,width,height],</span><br><span class="line">	projection=<span class="string">&#x27;aitoff&#x27;</span>/<span class="string">&#x27;hammer&#x27;</span>...)</span><br><span class="line">	// 指定地点、大小子图</span><br><span class="line">	// `rect`参数是百分比</span><br></pre></td></tr></table></figure>
<h3 id="Axies"><a href="#Axies" class="headerlink" title="Axies"></a>Axies</h3><p>轴</p>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul>
<li><p>这三个图像元素都是以句柄形式操作，可以理解为每次操作
都是在一个“容器”中操作，容器由plt管理，每次
<code>plt.show()</code>将图像全部展示之后，容器被回收，创建新容器</p>
</li>
<li><p>因此<code>plt.show()</code>之后，之前容器中的元素更改无法影响到新容器</p>
</li>
<li><p><code>plt</code>可以当作当前激活状态的axes元素的句柄使用</p>
</li>
</ul>
<h2 id="绘图"><a href="#绘图" class="headerlink" title="绘图"></a>绘图</h2><h3 id="线图"><a href="#线图" class="headerlink" title="线图"></a>线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="literal">None</span>=ax(*args, **kwargs)</span><br><span class="line">	<span class="comment"># `args`</span></span><br><span class="line">		<span class="comment"># [x]=range(len(y))/list</span></span><br><span class="line">		<span class="comment"># y=list</span></span><br><span class="line">		<span class="comment"># [fmt]=str</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># `kwargs`</span></span><br><span class="line">		<span class="comment"># data：类似df、dict的indexable对象，传递时x、y可用</span></span><br><span class="line">			标签代替</span><br><span class="line">		<span class="comment"># linewidth</span></span><br><span class="line">		<span class="comment"># markersize</span></span><br><span class="line">		<span class="comment"># color</span></span><br><span class="line">		<span class="comment"># marker</span></span><br><span class="line">		<span class="comment"># linestyle</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># examples</span></span><br><span class="line"><span class="literal">None</span>=ax([x], y, [fmt], [x2], y2, [fmt2], **kwargs）</span><br><span class="line"><span class="literal">None</span>=ax(<span class="string">&#x27;xlabel&#x27;</span>, <span class="string">&#x27;ylabel&#x27;</span>, data=indexable_obj)</span><br><span class="line"><span class="literal">None</span>=ax(2d-array[<span class="number">0</span>], 2d-array[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure>
<h3 id="柱状图"><a href="#柱状图" class="headerlink" title="柱状图"></a>柱状图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">list</span>=ax.bar(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">	<span class="comment"># `args`</span></span><br><span class="line">		<span class="comment"># x=list</span></span><br><span class="line">		<span class="comment"># height=num/list</span></span><br><span class="line">		<span class="comment"># [width]=num/list</span></span><br><span class="line">		<span class="comment"># [bottom]=num/list</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># `kwargs`</span></span><br><span class="line">		<span class="comment"># align=&#x27;center&#x27;/&#x27;edge&#x27;</span></span><br><span class="line">		<span class="comment"># agg_filter=func</span></span><br><span class="line">		<span class="comment"># alpha=None/float</span></span><br><span class="line">		<span class="comment"># capstyle=&#x27;butt&#x27;/&#x27;round&#x27;/&#x27;projecting&#x27;</span></span><br><span class="line"><span class="comment">#todo</span></span><br></pre></td></tr></table></figure>
<h3 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>=ax.pie(x, explode=<span class="literal">None</span>/<span class="built_in">list</span>(%), labels=<span class="literal">None</span>/<span class="built_in">list</span>,</span><br><span class="line">	colors=<span class="literal">None</span>/<span class="built_in">list</span>(color), autopct=<span class="literal">None</span>/<span class="built_in">str</span>/func,</span><br><span class="line">	pctdistance=<span class="number">0.6</span>, shadow=<span class="literal">False</span>, labeldistance=<span class="number">1.1</span>,</span><br><span class="line">	startangle=<span class="literal">None</span>, radius=<span class="literal">None</span>/<span class="built_in">float</span>,</span><br><span class="line">	counterclock=<span class="literal">True</span>, textprops=<span class="literal">None</span>, center=(<span class="number">0</span>,<span class="number">0</span>),</span><br><span class="line">	frame=<span class="literal">False</span>, rotatelables=<span class="literal">False</span>, hold=<span class="literal">None</span>,</span><br><span class="line">	data=<span class="literal">None</span>/<span class="built_in">dict</span>(param_above))</span><br></pre></td></tr></table></figure>
<h3 id="箱线图"><a href="#箱线图" class="headerlink" title="箱线图"></a>箱线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>=ax.boxplot(x, notch=<span class="literal">False</span>, sym=<span class="literal">None</span>/<span class="built_in">str</span>,</span><br><span class="line">	vert=<span class="literal">True</span>, whis=<span class="number">1.5</span>/<span class="built_in">str</span>/<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-08-02T03:11:29.000Z" title="8/2/2021, 11:11:29 AM">2021-08-02</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Jupyter/">Jupyter</a></span><span class="level-item">2 minutes read (About 298 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Jupyter/config.html">Jupyter 常用基础</a></h1><div class="content"><h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><h3 id="生成配置文件"><a href="#生成配置文件" class="headerlink" title="生成配置文件"></a>生成配置文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ jupyter notebook --generate-config</span><br><span class="line">	# 生成配置文件，默认为`~/jupyter/jupyter-notebook-config.py`</span><br></pre></td></tr></table></figure>
<h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.password = <span class="string">u&#x27;sha1:xxxxxxxx&#x27;</span></span><br><span class="line">	<span class="comment"># 配置sha1格式密文，需要自己手动生成</span></span><br><span class="line">c.NotebookApp.ip = <span class="string">&quot;*&quot;</span></span><br><span class="line">	<span class="comment"># 配置运行访问ip地址</span></span><br><span class="line">c.NotebookApp.open_brower = <span class="literal">False</span></span><br><span class="line">	<span class="comment"># 默认启动时不开启浏览器</span></span><br><span class="line">c.NotebookApp.port = <span class="number">8888</span></span><br><span class="line">	<span class="comment"># 监听端口，默认</span></span><br><span class="line">c.NotebookAPp.notebook_dir = <span class="string">u&quot;/path/to/dir&quot;</span></span><br><span class="line">	<span class="comment"># jupyter默认显示羡慕路径</span></span><br><span class="line">c.NotebookApp.certfile = <span class="string">u&quot;/path/to/ssl_cert_file&quot;</span></span><br><span class="line">c.NotebookAppp.keyfile = <span class="string">u&quot;/path/to/ssl_keyfile&quot;</span></span><br><span class="line">	<span class="comment"># jupyter使用ssl证书文件</span></span><br><span class="line">	<span class="comment"># 一般只有使用自己生成证书</span></span><br></pre></td></tr></table></figure>
<h4 id="生成密文"><a href="#生成密文" class="headerlink" title="生成密文"></a>生成密文</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> notebook.auth <span class="keyword">import</span> passwd</span><br><span class="line">passwd()</span><br><span class="line">	<span class="comment"># 输入密码两次，然后就会返回对应密文，写入配置文件</span></span><br></pre></td></tr></table></figure>
<h3 id="远程访问"><a href="#远程访问" class="headerlink" title="远程访问"></a>远程访问</h3><p>jupyter必须使用https登陆、访问</p>
<ul>
<li><p>因此服务端必须有ssl证书，</p>
<ul>
<li>自己生成的证书默认浏览器不认可，浏览器访问会高危，
高级进入即可<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -x509 -nodes -days 365 -newkey rsa:1024 -keyout key_name.key -out cert_name.pem</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>访问时也必须加上<code>https://</code>前缀，一般默认<code>http://</code>前缀
会报服务器无响应（没配置重定向，应该是）</p>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Pandas/">Pandas</a></span><span class="level-item">10 minutes read (About 1573 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Pandas/data_structure.html">Pandas数据结构</a></h1><div class="content"><h2 id="DataFrame"><a href="#DataFrame" class="headerlink" title="DataFrame"></a>DataFrame</h2><p>可以看作包含两个Index类（index、columns）、一个二维ndarray类
（values）</p>
<ul>
<li>二维values + 结构化index + 结构化columns<ul>
<li>values自己还有两根只能使用integer indice的轴</li>
</ul>
</li>
<li>结构同数据库表相似：列为属性，行为个体</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DF = pd.DataFrame(</span><br><span class="line">	data=ndarray/&#123;col_name: val&#125;/DF/array-like,</span><br><span class="line">	index=Index/array-like,</span><br><span class="line">	columns=Index/array-like,</span><br><span class="line">	dtype=<span class="literal">None</span>/dtype,</span><br><span class="line">	copy=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment"># `data=dict`：可以通过`columns`仅使用部分键值对创建</span></span><br><span class="line">	<span class="comment"># `copy`：仅影响`data`为DF/ndarray时，默认不使用拷贝</span></span><br></pre></td></tr></table></figure>
<h3 id="DF行列逻辑"><a href="#DF行列逻辑" class="headerlink" title="DF行列逻辑"></a>DF行列逻辑</h3><p>可以通过<code>DF = df1.T</code>作转制更改行列逻辑</p>
<h4 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h4><h5 id="列优先"><a href="#列优先" class="headerlink" title="列优先"></a>列优先</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Ser = df1[col_name]</span><br><span class="line">Ser = df1.col_name</span><br><span class="line">	<span class="comment"># 取列</span></span><br><span class="line">Ser = df1[col_level_0, col_level_1,...]</span><br><span class="line">Ser = df1[(col_level_0, col_level_1,...)]</span><br><span class="line">Ser = df1.col_level_0.col_level_1</span><br><span class="line">	<span class="comment"># 对层级索引取列</span></span><br><span class="line"></span><br><span class="line">Val = df1[col_name][index_name]</span><br><span class="line">Val = df1.col_name.index_name</span><br><span class="line">	<span class="comment"># 取具体值</span></span><br><span class="line">	<span class="comment"># 属性方式，要求`*_name`为字符串</span></span><br><span class="line">	<span class="comment"># `.`、`[]`应该是覆盖过</span></span><br><span class="line"></span><br><span class="line">Val = df1[col_level_0, col_level_1,...]\</span><br><span class="line">	[index_level_0, index_level_1,...]</span><br><span class="line"></span><br><span class="line">Val = df1[(col_level_0, col_level_1,...)]\</span><br><span class="line">	[index_level_0, index_level_1,...]</span><br><span class="line"></span><br><span class="line">Val = df1.col_level_0.col_level_1....\</span><br><span class="line">	.index_level_0.index_level_1...</span><br><span class="line">	<span class="comment"># 对层级索引取值</span></span><br><span class="line"></span><br><span class="line">DF = df1[cond1 &amp; cond2 &amp;...]</span><br><span class="line">DF = df1[cond1][cond2]...</span><br><span class="line">	<span class="comment"># `condX`为Ser(bool)</span></span><br><span class="line">	<span class="comment"># 两种讲道理应该没差</span></span><br></pre></td></tr></table></figure>
<h5 id="行优先"><a href="#行优先" class="headerlink" title="行优先"></a>行优先</h5><h6 id="loc"><a href="#loc" class="headerlink" title=".loc[]"></a><code>.loc[]</code></h6><p>行优先,逻辑和df1[]列优先类似</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Ser = df.loc[index_name]</span><br><span class="line">	<span class="comment"># 取行</span></span><br><span class="line">Ser = df.loc[index_level_0, index_level_1,...]</span><br><span class="line">Ser = df.loc[(index_level_0, index_level_1,...)]</span><br><span class="line">	<span class="comment"># 层级索引取行Ser/DF</span></span><br><span class="line"></span><br><span class="line">Val = df1.loc[index_name, column_name]</span><br><span class="line">	<span class="comment"># 还可以这样的取值</span></span><br><span class="line">	<span class="comment"># 不建议使用，容易照成混淆</span></span><br><span class="line"> <span class="comment"># Val = df1.loc.index_name`</span></span><br><span class="line">	<span class="comment"># 不可</span></span><br><span class="line"></span><br><span class="line">Val = df1.loc[index_level_0, index_level_1,...]\</span><br><span class="line">	[col_level_0, col_level_1,...]</span><br><span class="line">	<span class="comment"># 层级索引时，index、col不能混在一起</span></span><br><span class="line"></span><br><span class="line">Val = df1.loc[(index_level_0, index_level_1,...)]\</span><br><span class="line">	[(col_level_0, col_level_1,...)]</span><br></pre></td></tr></table></figure>
<h6 id="iloc"><a href="#iloc" class="headerlink" title=".iloc[]"></a><code>.iloc[]</code></h6><p>indices locate，应视为对value（ndarray）进行操作，index和
columns的结构对其没有任何影响</p>
<ul>
<li>在层级索引情况下，仍然返回Ser</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Ser = df1.iloc[indice]</span><br><span class="line">	<span class="comment"># 返回values第indice行Ser对象</span></span><br><span class="line">Val = df1.iloc[index_indice, col_indice]</span><br><span class="line">	<span class="comment"># 取得values第index_indice行、第col_indice列元素</span></span><br></pre></td></tr></table></figure>
<h6 id="ix"><a href="#ix" class="headerlink" title=".ix[]"></a><code>.ix[]</code></h6><p><code>.loc</code>、<code>.iloc</code>的封装，不建议使用</p>
<ul>
<li>优先使用<code>.loc</code>，除非参数为int、且Index不是int类型</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ser = df1.ix[index]</span><br></pre></td></tr></table></figure>
<h5 id="行优先快速版本"><a href="#行优先快速版本" class="headerlink" title="行优先快速版本"></a>行优先快速版本</h5><p><strong>只能</strong>、<strong>必须</strong>取一个值</p>
<ul>
<li>不能用于获取切片</li>
<li><p>对于多重索引必须将Index、Columns所有level全部指定</p>
</li>
<li><p><code>.iat</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Val = df1.iat[index_indice, col_indice]</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>.at</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Val = df1.at[index_name, col_name]</span><br><span class="line">	<span class="comment"># 单索引</span></span><br><span class="line">Val = df1.at[(index_level_0, index_level_1,...), (col_level_0, col_level_1,...)]</span><br><span class="line">	<span class="comment"># 多重索引必须指定全部level保证只取到一个值</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><h4 id="Values切片"><a href="#Values切片" class="headerlink" title="Values切片"></a>Values切片</h4><p>切片对象是values</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.iloc[irow_start: irow_end, icol_start: icol_end]</span><br><span class="line">	<span class="comment"># 对values的切片，参数都是indices</span></span><br><span class="line">	<span class="comment"># 这个应该就是ndarray切片操作，不包括上限</span></span><br><span class="line">	<span class="comment"># 如果只对行切片，可以省略`.iloc`，但不建议，因为这个</span></span><br><span class="line">		<span class="comment"># 同时也可以表示Index切片（优先）</span></span><br></pre></td></tr></table></figure>
<h4 id="Index切片"><a href="#Index切片" class="headerlink" title="Index切片"></a>Index切片</h4><p>切片对象是index，包括上限</p>
<h5 id="全切片"><a href="#全切片" class="headerlink" title="全切片"></a>全切片</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.loc[</span><br><span class="line">	(index_0, index_1,...): (index_0, index_1,...),</span><br><span class="line">	(col_0, col_1,...): (col_0, col_1,...)]</span><br><span class="line">	<span class="comment"># `.loc`可以替换为`.ix`，但不能删除，不建议使用</span></span><br></pre></td></tr></table></figure>
<h5 id="行切片"><a href="#行切片" class="headerlink" title="行切片"></a>行切片</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.loc[[(index_0, index_1,...),...]]</span><br><span class="line">DF = df1.loc[(index_0, index_1,...): (index_0, index_1,...)]</span><br><span class="line">	<span class="comment"># index_level可以不用指定到最低level，</span></span><br><span class="line">	<span class="comment"># 同样的，`.loc`可以替换为`.ix`，但不建议使用</span></span><br></pre></td></tr></table></figure>
<h5 id="列切片"><a href="#列切片" class="headerlink" title="列切片"></a>列切片</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DF = df1[[col_name,...]]</span><br><span class="line">DF = df1.loc[:, (col_0,...): (col_0,...)]</span><br><span class="line">	<span class="comment"># `.loc`可以替换为`.ix`，但是不能删除，不建议使用</span></span><br><span class="line">	<span class="comment"># 列切片没有`:`语法，只能通过设置行切片为`:`得到</span></span><br></pre></td></tr></table></figure>
<h3 id="DF数据共享逻辑"><a href="#DF数据共享逻辑" class="headerlink" title="DF数据共享逻辑"></a>DF数据共享逻辑</h3><p>DF数据（values）共享的逻辑</p>
<ul>
<li>一般尽量共享数据，直至无法处理（数据同时增加/删除行、列）</li>
<li>有些方法会有<code>copy</code>参数，可以显式控制是否拷贝副本<ul>
<li>如<code>.reindex</code>默认拷贝副本</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">df1_T = df1.T</span><br><span class="line">	<span class="comment"># 两个此时共享数据，对任一的更改会反映在另一者</span></span><br><span class="line">df1_T[<span class="string">&quot;new_col_1&quot;</span>] = [ ]</span><br><span class="line">	<span class="comment"># 添加新列后，两者仍然共享公共部分数据，只是`df1`中无法</span></span><br><span class="line">		<span class="comment"># 访问新列</span></span><br><span class="line">df1[<span class="string">&quot;new_col_2&quot;</span>] = [ ]</span><br><span class="line">	<span class="comment"># 此时两者数据均独立</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># 类似的`del`删除列也是如此逻辑</span></span><br></pre></td></tr></table></figure>
<h2 id="Index-索引"><a href="#Index-索引" class="headerlink" title="Index 索引"></a>Index 索引</h2><p>使用integer作为index时注意df1.ix[]的逻辑</p>
<h3 id="MultiIndex-层级索引"><a href="#MultiIndex-层级索引" class="headerlink" title="MultiIndex 层级索引"></a>MultiIndex 层级索引</h3><p>层级索引允许以低维度形式表示高纬度数据</p>
<ul>
<li>层级索引可以使用tuple形式表示：<code>(level_0, level_1,...)</code><ul>
<li>需要注意区分和tuple本身作为index<ul>
<li>打印时可以tuple有括号，而层级索引没有</li>
<li>层级索引有时可以省略括号</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="from-arrays"><a href="#from-arrays" class="headerlink" title="from_arrays"></a><code>from_arrays</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Index = pd.MultiIndex.from_arrays(</span><br><span class="line">	arrays([[],[]]),</span><br><span class="line">	sortorder=<span class="literal">None</span>/<span class="built_in">int</span>,</span><br><span class="line">	names=<span class="literal">None</span>/[])</span><br><span class="line"></span><br><span class="line">Index = [</span><br><span class="line">	level_0_list,</span><br><span class="line">	level_1_list,...]</span><br><span class="line">	<span class="comment"># 隐式构建层级索引，各list长度相同，其按顺序组合</span></span><br><span class="line">	<span class="comment"># 可以在：DF构造参数、给DF对象Index赋值等使用</span></span><br><span class="line">	<span class="comment"># 应该是可以看作pandas使用`from_arrays`处理</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：将arrays转换为MultiIndex</p>
</li>
<li><p>参数</p>
<ul>
<li><code>arrays</code>：包含多个list作为各个level索引<ul>
<li>各list按照传递顺序决定level</li>
<li><strong>不会自动合并</strong>不连续labels（否则需要交换数据位置）</li>
</ul>
</li>
<li><code>sortorder</code>：sortedness级别？</li>
<li><code>names</code>：level名</li>
</ul>
</li>
</ul>
<h4 id="from-tuples"><a href="#from-tuples" class="headerlink" title="from_tuples"></a><code>from_tuples</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Index = pd.MultiIndex.from_tuples(</span><br><span class="line">	tuples=[<span class="built_in">tuple</span>-like],</span><br><span class="line">	sortorder=<span class="literal">None</span>/<span class="built_in">int</span>,</span><br><span class="line">	names=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：将<code>tuples</code>转换为MultiIndex</p>
</li>
<li><p>参数</p>
<ul>
<li><code>tuples</code>：每个tuple为一个index，按照tuple中元素顺序
决定各元素level</li>
</ul>
</li>
</ul>
<h4 id="from-product"><a href="#from-product" class="headerlink" title="from_product"></a><code>from_product</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Index = pd.MultiIndex.from_product(</span><br><span class="line">	iterables([[]]/[iterables]),</span><br><span class="line">	sortorder=<span class="literal">None</span>/<span class="built_in">int</span>,</span><br><span class="line">	names)</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：对<code>iterables</code>元素作product（积）作为MultiIndex</li>
</ul>
<ol>
<li><p>Series：可以看作是包含一个Index类（index，存放标签）、一个一维ndarray类（values，存放数据）</p>
<p>a.    ser=pd.Series(data=np.darray/dict, index=list)</p>
<p>b.    Series对象可以处理标签不一致的数据，但是只有标签的交集才能得到有意义的结果，其余为NaN</p>
<p>c.    其余性质类似于DataFrame对象</p>
</li>
<li><p>Index属性#todo</p>
<p>a.    index属性</p>
<ol>
<li><p>df1.columns=[]：更改列名称，index同</p>
</li>
<li><p>df1.columns.names=[]：更改列名，index同</p>
</li>
</ol>
</li>
<li><p>pandas库中的其他一些问题</p>
<p>a.    数据类型转换：Series对象和DF对象在运算过程中dtype类型可能发生”无意义”的转换</p>
<ol>
<li><p>dtype=i8的对象之间的+、-结果为dtype=f8类型的对象（当然这个可能是保持和\的一致性）</p>
</li>
<li><p>SeriesObj.reindex(new_index)会”可能”会改变原有数据类型（由i8-&gt;f8）（有增加新index时）</p>
</li>
</ol>
</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/TensorFlow/">TensorFlow</a></span><span class="level-item">10 minutes read (About 1432 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/TensorFlow/README.html">TensorFlow Readme</a></h1><div class="content"><h2 id="常用参数说明"><a href="#常用参数说明" class="headerlink" title="常用参数说明"></a>常用参数说明</h2><ul>
<li><p>函数书写声明同Python全局</p>
</li>
<li><p>以下常用参数如不特殊注明，按照此解释</p>
</li>
</ul>
<h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><ul>
<li><p><code>target = &quot;&quot;/str</code></p>
<ul>
<li>含义：执行引擎</li>
</ul>
</li>
<li><p><code>graph = None/tf.Graph</code></p>
<ul>
<li>含义：Session中加载的图</li>
<li>默认：缺省为当前默认图</li>
</ul>
</li>
<li><p><code>config = None/tf.ConfigProto</code></p>
<ul>
<li>含义：包含Session配置的<em>Protocal Buffer</em></li>
<li>默认：<code>None</code>，默认配置</li>
</ul>
</li>
<li><p><code>fetches = tf.OPs/[tf.OPs]</code></p>
<ul>
<li>含义：需要获得/计算的OPs值列表</li>
<li>默认：无</li>
</ul>
</li>
<li><p><code>feed_dict = None/dict</code></p>
<ul>
<li>含义：替换/赋值Graph中feedable OPs的tensor字典</li>
<li>默认：无</li>
<li>说明<ul>
<li>键为图中节点名称、值为向其赋的值</li>
<li>可向所有可赋值OPs传递值</li>
<li>常配合<code>tf.placeholder</code>（强制要求）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Operators"><a href="#Operators" class="headerlink" title="Operators"></a>Operators</h3><ul>
<li><p><code>name = None/str</code></p>
<ul>
<li>含义：Operations名</li>
<li>默认：<code>None/OP类型</code>，后加上顺序后缀</li>
<li>说明<ul>
<li>重名时TF自动加上<code>_[num]</code>后缀</li>
</ul>
</li>
</ul>
</li>
<li><p><code>axis = None/0/int</code></p>
<ul>
<li>含义：指定张量轴</li>
<li>默认<ul>
<li><code>None</code>：大部分，表示在整个张量上运算</li>
<li><code>0</code>：有些运算难以推广到整个张量，表示在首轴（维）</li>
</ul>
</li>
</ul>
</li>
<li><p><code>keepdims=False/True</code></p>
<ul>
<li>含义：是否保持维度数目</li>
<li>默认：<code>False</code>不保持</li>
</ul>
</li>
<li><p><code>dtype=tf.int32/tf.float32/...</code></p>
<ul>
<li>含义：数据类型</li>
<li>默认：根据其他参数、函数名推断</li>
</ul>
</li>
<li><p><code>shape/dims=(int)/[int]</code></p>
<ul>
<li>含义：各轴维数</li>
<li>默认：<code>None/1</code>???</li>
<li>说明<ul>
<li><code>-1</code>表示该轴维数由TF计算得到</li>
<li>有些情况下，此参数可省略，由TF隐式计算得到，
但显式指明方便debug</li>
</ul>
</li>
</ul>
</li>
<li><p><code>start=int</code></p>
<ul>
<li>含义：起始位置</li>
<li>默认：<code>0</code></li>
</ul>
</li>
<li><p><code>stop=int</code></p>
<ul>
<li>含义：终点位置</li>
<li>默认：一般无</li>
</ul>
</li>
</ul>
<h2 id="TensorFlow基本概念"><a href="#TensorFlow基本概念" class="headerlink" title="TensorFlow基本概念"></a>TensorFlow基本概念</h2><blockquote>
<ul>
<li>TensorFlow将计算的定义、执行分开</li>
</ul>
</blockquote>
<h3 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h3><h4 id="组合计算图"><a href="#组合计算图" class="headerlink" title="组合计算图"></a>组合计算图</h4><ul>
<li>为输入、标签创建placeholder</li>
<li>创建weigth、bias</li>
<li>指定模型</li>
<li>指定损失函数</li>
<li>创建Opitmizer</li>
</ul>
<h4 id="在会话中执行图中操作"><a href="#在会话中执行图中操作" class="headerlink" title="在会话中执行图中操作"></a>在会话中执行图中操作</h4><ul>
<li>初始化Variable</li>
<li>运行优化器</li>
<li>使用<code>FileWriter</code>记录log</li>
<li>查看TensorBoard</li>
</ul>
<h2 id="PyTF-模块"><a href="#PyTF-模块" class="headerlink" title="PyTF 模块"></a>PyTF 模块</h2><h3 id="tf-nn"><a href="#tf-nn" class="headerlink" title="tf.nn"></a><code>tf.nn</code></h3><p><code>tf.nn</code>：神经网络功能支持模块</p>
<ul>
<li><code>rnn_cell</code>：构建循环神经网络子模块</li>
</ul>
<h3 id="tf-contrib"><a href="#tf-contrib" class="headerlink" title="tf.contrib"></a><code>tf.contrib</code></h3><p><code>tf.contrib</code>：包含易于变动、实验性质的功能</p>
<ul>
<li><code>bayesflow</code>：包含贝叶斯计算</li>
<li><code>cloud</code>：云操作</li>
<li><code>cluster_resolver</code>：集群求解</li>
<li><code>compiler</code>：控制TF/XLA JIT编译器</li>
<li><code>copy_graph</code>：在不同计算图之间复制元素</li>
<li><code>crf</code>：条件随机场</li>
<li><code>cudnn_rnn</code>：Cudnn层面循环神经网络</li>
<li><code>data</code>：构造输入数据流水线</li>
<li><code>decision_trees</code>：决策树相关模块</li>
<li><code>deprecated</code>：已经、将被替换的summary函数</li>
<li><code>distributions</code>：统计分布相关操作</li>
<li><code>estimator</code>：自定义标签、预测的对错度量方式</li>
<li><code>factorization</code>：聚类、因子分解</li>
<li><code>ffmpeg</code>：使用FFmpeg处理声音文件</li>
<li><code>framework</code>：框架类工具，包含变量操作、命令空间、
checkpoint操作</li>
<li><code>gan</code>：对抗生成相关</li>
<li><code>graph_editor</code>：计算图操作</li>
<li><code>grid_rnn</code>：GridRNN相关</li>
<li><code>image</code>：图像操作</li>
<li><code>input_pipeline</code>：输入流水线</li>
<li><code>integrate</code>：求解常微分方程</li>
<li><code>keras</code>：Keras相关API</li>
<li><code>kernel_methods</code>：核映射相关方法</li>
<li><code>kfac</code>：KFAC优化器</li>
<li><code>labeled_tensor</code>：有标签的Tensor</li>
<li><code>layers</code>：类似nn里面的函数，经典CNN方法重构</li>
<li><code>learn</code>：类似ski-learn的高级API</li>
<li><code>legacy_seq2seq</code>：经典seq2seq模型</li>
<li><code>linalg</code>：线性代数</li>
<li><code>linear_optimizer</code>：训练线性模型、线性优化器</li>
<li><code>lookup</code>：构建快速查找表</li>
<li><code>losses</code>：loss相关</li>
<li><code>memory_stats</code>：设备内存使用情况</li>
<li><code>meta_graph_transform</code>：计算图转换</li>
<li><code>metrics</code>：各种度量模型表现的方法</li>
<li><code>nccl</code>：收集结果的操作</li>
<li><code>ndlstm</code>：ndlstm相关</li>
<li><code>nn</code>：<code>tf.nn</code>某些方法的其他版本</li>
<li><code>opt</code>：某些优化器的其他版本</li>
<li><code>predictor</code>：构建预测器</li>
<li><code>reduce_slice_ops</code>：切片规约</li>
<li><code>remote_fused_graph</code></li>
<li><code>resampler</code>：重抽样</li>
<li><code>rnn</code>：某些循环神经网络其他版本</li>
<li><code>saved_model</code>：更加易用的模型保存、继续训练、模型转换</li>
<li><code>seq2seq</code>：seq2seq相关模型</li>
<li><code>session_bundle</code></li>
<li><code>signal</code>：信号处理相关</li>
<li><code>slim</code>：contrib主模块交互方式、主要入口</li>
<li><code>solvers</code>：贝叶斯计算</li>
<li><code>sparsemax</code>：稀疏概率激活函数、相关loss</li>
<li><code>specs</code></li>
<li><code>staging</code>：分段输入</li>
<li><code>stat_summarizer</code>：查看运行状态</li>
<li><code>statless</code>：伪随机数</li>
<li><code>tensor_forest</code>：可视化工具</li>
<li><code>testing</code>：单元测试工具</li>
<li><code>tfprof</code>：查看模型细节工具</li>
<li><code>timeseries</code>：时间序列工具</li>
<li><code>tpu</code>：TPU配置</li>
<li><code>training</code>：训练及输入相关工具</li>
<li><code>util</code>：Tensors处理相关工具</li>
</ul>
<h3 id="tf-train"><a href="#tf-train" class="headerlink" title="tf.train"></a><code>tf.train</code></h3><p><code>tf.train</code>：训练模型支持</p>
<ul>
<li><p>优化器</p>
<ul>
<li><code>AdadeltaOptimizer</code>：Adadelta优化器</li>
<li><code>AdamOptimizer</code>：Adam优化器</li>
<li><code>GradientDescentOptimizer</code>：SGD优化器</li>
<li><code>MomentumOptimizer</code>：动量优化器</li>
<li><code>RMSPropOptimizer</code>：RMSProp优化器</li>
</ul>
</li>
<li><p>数据处理</p>
<ul>
<li><code>Coordinator</code>：线程管理器</li>
<li><code>QueueRunner</code>：管理读写队列线程</li>
<li><code>NanTensorHook</code>：loss是否为NaN的捕获器</li>
<li><code>create_global_step</code>：创建global step</li>
<li><code>match_filenames_once</code>：寻找符合规则文件名称</li>
<li><code>start_queue_runners</code>：启动计算图中所有队列</li>
</ul>
</li>
<li><p>tfrecord数据</p>
<ul>
<li><code>Example</code>：tfrecord生成模板</li>
<li><code>batch</code>：生成tensor batch</li>
<li><code>shuffle_batch</code>：创建随机tensor batch</li>
</ul>
</li>
<li><p>模型保存、读取</p>
<ul>
<li><code>Saver</code>：保存模型、变量类</li>
<li><code>NewCheckpointReader</code>：checkpoint文件读取</li>
<li><code>get_checkpoint_state</code>：从checkpoint文件返回模型状态</li>
<li><code>init_from_checkpoint</code>：从checkpoint文件初始化变量</li>
<li><code>latest_checkpoint</code>：寻找最后checkpoint文件</li>
<li><code>list_variable</code>：返回checkpoint文件变量为列表</li>
<li><code>load_variable</code>：返回checkpoint文件某个变量值</li>
</ul>
</li>
</ul>
<h3 id="tf-summary"><a href="#tf-summary" class="headerlink" title="tf.summary"></a><code>tf.summary</code></h3><p><code>tf.summary</code>：配合tensorboard展示模型信息</p>
<ul>
<li><code>FileWriter</code>：文件生成类</li>
<li><code>Summary</code></li>
<li><code>get_summary_description</code>：获取计算节点信息</li>
<li><code>histogram</code>：展示变量分布信息</li>
<li><code>image</code>：展示图片信息</li>
<li><code>merge</code>：合并某个summary信息</li>
<li><code>merge_all</code>：合并所有summary信息至默认计算图</li>
<li><code>scalar</code>：展示标量值</li>
<li><code>text</code>：展示文本信息</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-08-04T11:38:46.000Z" title="8/4/2021, 7:38:46 PM">2021-08-04</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/TensorFlow/">TensorFlow</a></span><span class="level-item">2 minutes read (About 317 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/TensorFlow/tf_config.html">TensorFlow 安装配置</a></h1><div class="content"><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="CUDA、CUDNN、CUDAtookit、NVCC"><a href="#CUDA、CUDNN、CUDAtookit、NVCC" class="headerlink" title="CUDA、CUDNN、CUDAtookit、NVCC"></a>CUDA、CUDNN、CUDAtookit、NVCC</h3><ul>
<li>CUDA：compute unified device architecture，通用并行计算
平台和编程模型，方便使用GPU进行通用计算</li>
<li>cuDNN：深度学习加速库，计算设计的库、中间件<ul>
<li>C++STL的thrust的实现</li>
<li>cublas：GPU版本blas</li>
<li>cuSparse：稀疏矩阵运算</li>
<li>cuFFT：快速傅里叶变换</li>
<li>cuDNN：深度学习网络加速</li>
</ul>
</li>
<li>CUDA Toolkit：包括以下组件<ul>
<li>编译器<code>nvcc</code>：CUDA-C、CUDA-C++编译器，依赖<code>nvvm</code>
优化器
（<code>nvvm</code>本身依赖<code>llvm</code>编译器）</li>
<li>·<code>debuggers</code>、<code>profiler</code>等工具</li>
<li>科学库、实用程序库<ul>
<li>cudart</li>
<li>cudadevrt</li>
<li>cupti</li>
<li>nvml</li>
<li>nvrtc</li>
<li>cublas</li>
<li>cublas_device</li>
</ul>
</li>
<li>示例</li>
<li>驱动：</li>
</ul>
</li>
</ul>
<h2 id="TensorBoard"><a href="#TensorBoard" class="headerlink" title="TensorBoard"></a>TensorBoard</h2><p>TensorBoard是包括在TensorFlow中可视化组件</p>
<ul>
<li>运行启动了TB的TF项目时，操作都会输出为事件日志文件</li>
<li>TB能够把这些日志文件以可视化的方式展示出来<ul>
<li>模型图</li>
<li>运行时行为、状态</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tensorboard --logdir=/path/to/logdir --port XXXX</span><br></pre></td></tr></table></figure>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><h3 id="指令集"><a href="#指令集" class="headerlink" title="指令集"></a>指令集</h3><blockquote>
<p>   Your CPU supports instructions that this TensorFlow binary was not cmpiled to use: SSE1.4, SSE4.2, AVX AVX2 FMA</p>
</blockquote>
<ul>
<li>没从源代码安装以获取这些指令集的支持<ul>
<li>从源代码编译安装</li>
<li>或者设置log级别<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.environ[<span class="string">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span>] = <span class="string">&quot;2&quot;</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Keras/">Keras</a></span><span class="level-item">37 minutes read (About 5531 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Keras/backend.html">Keras 后端</a></h1><div class="content"><h2 id="Keras后端"><a href="#Keras后端" class="headerlink" title="Keras后端"></a>Keras后端</h2><p>Keras是一个模型级的库，提供了快速构建深度学习网络的模块</p>
<ul>
<li><p>Keras并不处理如张量乘法、卷积等底层操作，而是依赖于某种
特定的、优化良好的张量操作库</p>
</li>
<li><p>Keras依赖于处理张量的库就称为“后端引擎”</p>
<ul>
<li>[Theano][Theano]：开源的符号主义张量操作框架，由
蒙特利尔大学LISA/MILA实验室开发</li>
<li>[Tensorflow][Tensorflow]：符号主义的张量操作框架，
由Google开发</li>
<li>[CNTK][CNTK]：由微软开发的商业级工具包</li>
</ul>
</li>
<li><p>Keras将其函数统一封装，使得用户可以以同一个接口调用不同
后端引擎的函数</p>
</li>
</ul>
<ul>
<li>[Theano]: <a target="_blank" rel="noopener" href="http://deeplearning.net/software/theano/">http://deeplearning.net/software/theano/</a></li>
<li>[TensorFlow]: <a target="_blank" rel="noopener" href="http://www.tensorflow.org/">http://www.tensorflow.org/</a></li>
<li>[CNTK]: <a target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/cognitive-toolkit/">https://www.microsoft.com/en-us/cognitive-toolkit/</a></li>
</ul>
<h3 id="切换后端"><a href="#切换后端" class="headerlink" title="切换后端"></a>切换后端</h3><ul>
<li>修改Keras配置文件</li>
<li>定义环境变量<code>KERAS_BACKEND</code>覆盖配置文件中设置（见python
修改环境变量的3中方式）</li>
</ul>
<h3 id="Keras后端抽象"><a href="#Keras后端抽象" class="headerlink" title="Keras后端抽象"></a>Keras后端抽象</h3><p>可以通过Keras后端接口来编写代码，使得Keras模块能够同时在
Theano和TensorFlow两个后端上使用</p>
<ul>
<li>大多数张量操作都可以通过统一的Keras后端接口完成，不必
关心具体执行后端</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line"></span><br><span class="line"><span class="built_in">input</span> = K.placeholder(shape=(<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br><span class="line"><span class="built_in">input</span> = K.placeholder(shape=(<span class="literal">None</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br><span class="line"><span class="built_in">input</span> = K.placeholder(ndim=<span class="number">3</span>)</span><br><span class="line">	<span class="comment"># 实例化输出占位符</span></span><br><span class="line"></span><br><span class="line">val = np.random.random((<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br><span class="line">var = K.variable(value=val)</span><br><span class="line">	<span class="comment"># 实例化共享变量</span></span><br><span class="line">	<span class="comment"># 等价于`tf.Variable`、`theano.shared`</span></span><br><span class="line">var = K.zeros(shape=(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br><span class="line">var = K.ones(shape=(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<h2 id="配置相关函数"><a href="#配置相关函数" class="headerlink" title="配置相关函数"></a>配置相关函数</h2><h3 id="backend"><a href="#backend" class="headerlink" title="backend"></a><code>backend</code></h3><p>返回当前后端</p>
<h3 id="epsilon"><a href="#epsilon" class="headerlink" title="epsilon"></a><code>epsilon</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">K.epsilon()</span><br></pre></td></tr></table></figure>
<p>返回数字表达式使用<em>fuzz factor</em></p>
<h3 id="set-epsilon"><a href="#set-epsilon" class="headerlink" title="set_epsilon"></a><code>set_epsilon</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">K.set_epsilon(e(<span class="built_in">float</span>))</span><br></pre></td></tr></table></figure>
<p>设置模糊因子的值</p>
<h3 id="floatx"><a href="#floatx" class="headerlink" title="floatx"></a><code>floatx</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">K.floatx()</span><br></pre></td></tr></table></figure>
<p>返回默认的浮点数数据类型</p>
<ul>
<li><code>float16</code></li>
<li><code>float32</code></li>
<li><code>float64</code></li>
</ul>
<h3 id="set-floatx"><a href="#set-floatx" class="headerlink" title="set_floatx"></a><code>set_floatx</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">K.set_floatx(</span><br><span class="line">	floatx=<span class="string">&quot;float16&quot;</span>/<span class="string">&quot;float32&quot;</span>/<span class="string">&quot;float64&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>设置默认的浮点数数据类型（字符串表示）</p>
<h3 id="cast-to-floatx"><a href="#cast-to-floatx" class="headerlink" title="cast_to_floatx"></a><code>cast_to_floatx</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">K.cast_to_floatx(x)</span><br></pre></td></tr></table></figure>
<p>将NDA转换为默认的Keras floatx类型（的NDA）</p>
<ul>
<li><p>例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">K.floatx()</span><br><span class="line">	<span class="comment"># &quot;float32&quot;</span></span><br><span class="line">arr = np.array([<span class="number">1.0</span>, <span class="number">2.0</span>], dtype=<span class="string">&quot;flaot64&quot;</span>)</span><br><span class="line">arr.dtype</span><br><span class="line">	<span class="comment"># &quot;float64&quot;</span></span><br><span class="line">new_arr = K.cast_to_float(arr)</span><br><span class="line">new_arr.dtype</span><br><span class="line">	<span class="comment"># &quot;float32&quot;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="image-data-format"><a href="#image-data-format" class="headerlink" title="image_data_format"></a><code>image_data_format</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">K.image_data_format()</span><br></pre></td></tr></table></figure>
<p>返回图像的默认维度顺序</p>
<ul>
<li><code>channels_last</code></li>
<li><code>channels_first</code></li>
</ul>
<h3 id="set-image-data-format"><a href="#set-image-data-format" class="headerlink" title="set_image_data_format"></a><code>set_image_data_format</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">K.set_image_data_format(</span><br><span class="line">	data_format=<span class="string">&quot;channel_first&quot;</span>/<span class="string">&quot;channel_last&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>设置图像的默认维度顺序</p>
<h2 id="辅助函数"><a href="#辅助函数" class="headerlink" title="辅助函数"></a>辅助函数</h2><h3 id="is-keras-tensor"><a href="#is-keras-tensor" class="headerlink" title="is_keras_tensor"></a><code>is_keras_tensor</code></h3><p>判断是否是Keras Tensor对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">np_var = np.array([<span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">K.is_keras_tensor(np_var)</span><br><span class="line">	<span class="comment"># False</span></span><br><span class="line">keras_var = K.variable(np_var)</span><br><span class="line">K.is_keras_tensor(keras_var)</span><br><span class="line">	<span class="comment"># A variable is not a Tensor.</span></span><br><span class="line">	<span class="comment"># False</span></span><br><span class="line">keras_placeholder = K.placeholder(shape=(<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br><span class="line">K.is_keras_tensor(keras_placeholder)</span><br><span class="line">	<span class="comment"># A placeholder is a Tensor.</span></span><br><span class="line">	<span class="comment"># True</span></span><br></pre></td></tr></table></figure>
<h3 id="get-uid"><a href="#get-uid" class="headerlink" title="get_uid"></a><code>get_uid</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">K.get_uid(prefix=<span class="string">&#x27;&#x27;</span>/<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure>
<p>获得默认计算图的uid</p>
<ul>
<li><p>说明</p>
<ul>
<li>依据给定的前缀提供一个唯一的UID</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>prefix</code>：图的可选前缀</li>
</ul>
</li>
<li><p>返回值：图的唯一标识符</p>
</li>
</ul>
<h3 id="reset-uids"><a href="#reset-uids" class="headerlink" title="reset_uids"></a><code>reset_uids</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">K.reset_uids()</span><br></pre></td></tr></table></figure>
<p>重置图的标识符</p>
<h3 id="clear-session"><a href="#clear-session" class="headerlink" title="clear_session"></a><code>clear_session</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">K.clear_session()</span><br></pre></td></tr></table></figure>
<p>结束当前的TF计算图，并创建新图</p>
<ul>
<li>说明<ul>
<li>有效的避免模型/网络层的混乱</li>
</ul>
</li>
</ul>
<h3 id="manual-variable-initialization"><a href="#manual-variable-initialization" class="headerlink" title="manual_variable_initialization"></a><code>manual_variable_initialization</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">K.manual_variable_initialization(</span><br><span class="line">	value=<span class="literal">False</span>/<span class="literal">True</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>设置变量手动初始化标志</p>
<ul>
<li><p>参数</p>
<ul>
<li><p><code>value</code></p>
<ul>
<li><p><code>False</code>：默认，变量在实例时出事的（由其默认值
初始化）</p>
</li>
<li><p><code>True</code>：用户自行初始化，如
<code>tf.initialize_all_variables()</code></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="learning-phase"><a href="#learning-phase" class="headerlink" title="learning_phase"></a><code>learning_phase</code></h4><p>返回学习阶段标致</p>
<ul>
<li><p>返回值：布尔张量</p>
<ul>
<li><code>0</code>：测试模式</li>
<li><code>1</code>：训练模式</li>
</ul>
</li>
</ul>
<h4 id="set-learning-phase"><a href="#set-learning-phase" class="headerlink" title="set_learning_phase"></a><code>set_learning_phase</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">K.set_learning_phase(</span><br><span class="line">	value=<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>设置学习阶段为固定值</p>
<ul>
<li>参数<ul>
<li><code>value</code>：学习阶段值<ul>
<li><code>0</code>：测试模式</li>
<li><code>1</code>：训练模式</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="OPs、Tensors"><a href="#OPs、Tensors" class="headerlink" title="OPs、Tensors"></a>OPs、Tensors</h3><h4 id="is-sparse"><a href="#is-sparse" class="headerlink" title="is_sparse"></a><code>is_sparse</code></h4><p>判断一个Tensor是不是一个稀疏的Tensor</p>
<ul>
<li>返回值：布尔值</li>
</ul>
<blockquote>
<p>   稀不稀疏由Tensor的类型决定，而不是Tensor实际上有多稀疏</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line">a = K.placeholder((<span class="number">2</span>, <span class="number">2</span>), sparse=<span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(K.is_sparse(a))</span><br><span class="line">	<span class="comment"># False</span></span><br><span class="line">b = K.placeholder((<span class="number">2</span>, <span class="number">2</span>), sparse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(K.is_sparse(b))</span><br><span class="line">	<span class="comment"># True</span></span><br></pre></td></tr></table></figure>
<h4 id="to-dense"><a href="#to-dense" class="headerlink" title="to_dense"></a><code>to_dense</code></h4><p>将一个稀疏tensor转换一个不稀疏的tensor并返回</p>
<h4 id="variable"><a href="#variable" class="headerlink" title="variable"></a><code>variable</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">variable</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	value,</span></span></span><br><span class="line"><span class="params"><span class="function">	dtype=<span class="string">&#x27;float32&#x27;</span>/<span class="built_in">str</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>实例化一个张量，返回之</p>
<ul>
<li>参数<ul>
<li><code>value</code>：用来初始化张量的值</li>
<li><code>dtype</code>：张量数据类型</li>
<li><code>name</code>：张量的名字（可选）</li>
</ul>
</li>
</ul>
<h4 id="placeholder"><a href="#placeholder" class="headerlink" title="placeholder"></a><code>placeholder</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">placeholder</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	shape=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	ndim=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dtype=<span class="string">&#x27;float32&#x27;</span>/<span class="built_in">str</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>实例化一个占位符</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>shape</code>：占位符的shape（整数tuple，可能包含None）</li>
<li><code>ndim</code>: 占位符张量的阶数<ul>
<li>要初始化占位符，至少指定<code>shape</code>和<code>ndim</code>之一，
如果都指定则使用<code>shape</code></li>
</ul>
</li>
<li><code>dtype</code>: 占位符数据类型</li>
<li><code>name</code>: 占位符名称（可选）</li>
</ul>
</li>
</ul>
<h4 id="shape"><a href="#shape" class="headerlink" title="shape"></a><code>shape</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shape</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>返回张量的<em>符号shape</em></p>
<ul>
<li>返回值：OPs（需要执行才能得到值）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line">tf_session = K.get_session()</span><br><span class="line">val = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])</span><br><span class="line">kvar = K.variable(value=val)</span><br><span class="line"><span class="built_in">input</span> = keras.backend.placeholder(shape=(<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br><span class="line">K.shape(kvar)</span><br><span class="line">	<span class="comment"># &lt;tf.Tensor &#x27;Shape_8:0&#x27; shape=(2,) dtype=int32&gt;</span></span><br><span class="line">K.shape(<span class="built_in">input</span>)</span><br><span class="line">	<span class="comment"># &lt;tf.Tensor &#x27;Shape_9:0&#x27; shape=(3,) dtype=int32&gt;</span></span><br><span class="line">	<span class="comment"># To get integer shape (Instead, you can use K.int_shape(x))</span></span><br><span class="line">K.shape(kvar).<span class="built_in">eval</span>(session=tf_session)</span><br><span class="line">	<span class="comment"># array([2, 2], dtype=int32)</span></span><br><span class="line">K.shape(<span class="built_in">input</span>).<span class="built_in">eval</span>(session=tf_session)</span><br><span class="line">	<span class="comment"># array([2, 4, 5], dtype=int32)</span></span><br></pre></td></tr></table></figure>
<h4 id="int-shape"><a href="#int-shape" class="headerlink" title="int_shape"></a><code>int_shape</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">int_shape</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>返回张量shape</p>
<ul>
<li>返回值：<code>tuple(int)/None</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line"><span class="built_in">input</span> = K.placeholder(shape=(<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br><span class="line">K.int_shape(<span class="built_in">input</span>)</span><br><span class="line">	<span class="comment"># (2, 4, 5)</span></span><br><span class="line">val = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])</span><br><span class="line">kvar = K.variable(value=val)</span><br><span class="line">K.int_shape(kvar)</span><br><span class="line">	<span class="comment"># (2, 2)</span></span><br></pre></td></tr></table></figure>
<h4 id="ndim"><a href="#ndim" class="headerlink" title="ndim"></a><code>ndim</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ndim</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>返回张量的阶数</p>
<ul>
<li>返回值：int</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line"><span class="built_in">input</span> = K.placeholder(shape=(<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>))</span><br><span class="line">val = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])</span><br><span class="line">kvar = K.variable(value=val)</span><br><span class="line">K.ndim(<span class="built_in">input</span>)</span><br><span class="line">	<span class="comment"># 3</span></span><br><span class="line">K.ndim(kvar)</span><br><span class="line">	<span class="comment"># 2</span></span><br></pre></td></tr></table></figure>
<h4 id="dtype"><a href="#dtype" class="headerlink" title="dtype"></a><code>dtype</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dtype</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>返回张量的数据类型</p>
<ul>
<li>返回值：str<ul>
<li><code>float32</code></li>
<li><code>float32_ref</code></li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line">K.dtype(K.placeholder(shape=(<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>)))</span><br><span class="line">	<span class="comment"># &#x27;float32&#x27;</span></span><br><span class="line">K.dtype(K.placeholder(shape=(<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>), dtype=<span class="string">&#x27;float32&#x27;</span>))</span><br><span class="line">	<span class="comment"># &#x27;float32&#x27;</span></span><br><span class="line">K.dtype(K.placeholder(shape=(<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>), dtype=<span class="string">&#x27;float64&#x27;</span>))</span><br><span class="line">	<span class="comment"># &#x27;float64&#x27;__Keras variable__</span></span><br><span class="line"></span><br><span class="line">kvar = K.variable(np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]]))</span><br><span class="line">K.dtype(kvar)</span><br><span class="line">	<span class="comment"># &#x27;float32_ref&#x27;</span></span><br><span class="line">kvar = K.variable(np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]]), dtype=<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line">K.dtype(kvar)</span><br><span class="line">	<span class="comment"># &#x27;float32_ref&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="eval"><a href="#eval" class="headerlink" title="eval"></a><code>eval</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eval</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>求得张量的值</p>
<ul>
<li>返回值：NDA</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line">kvar = K.variable(np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]]), dtype=<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line">K.<span class="built_in">eval</span>(kvar)</span><br><span class="line">	<span class="comment"># array([[ 1.,  2.],</span></span><br><span class="line">	<span class="comment">#	[ 3.,  4.]], dtype=float32)</span></span><br></pre></td></tr></table></figure>
<h4 id="zeros"><a href="#zeros" class="headerlink" title="`zeros"></a>`zeros</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">zeros</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	shape,</span></span></span><br><span class="line"><span class="params"><span class="function">	dtype=<span class="string">&#x27;float32&#x27;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>生成<code>shape</code>大小的全0张量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line">kvar = K.zeros((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">K.<span class="built_in">eval</span>(kvar)</span><br><span class="line">	<span class="comment"># array([[ 0.,  0.,  0.,  0.],</span></span><br><span class="line">	<span class="comment">#	[ 0.,  0.,  0.,  0.],</span></span><br><span class="line">	<span class="comment">#	[ 0.,  0.,  0.,  0.]], dtype=float32)</span></span><br></pre></td></tr></table></figure>
<h4 id="ones"><a href="#ones" class="headerlink" title="ones"></a><code>ones</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ones</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	shape,</span></span></span><br><span class="line"><span class="params"><span class="function">	dtype=<span class="string">&#x27;float32&#x27;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>生成<code>shape</code>大小的全1张量</p>
<h4 id="eye"><a href="#eye" class="headerlink" title="eye"></a><code>eye</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eye</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	size,</span></span></span><br><span class="line"><span class="params"><span class="function">	dtype=<span class="string">&#x27;float32&#x27;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>生成<code>size</code>大小的单位阵</p>
<h4 id="zeros-like"><a href="#zeros-like" class="headerlink" title="zeros_like"></a><code>zeros_like</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">zeros_like</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>生成与<code>x</code> shape相同的全0张量</p>
<h4 id="ones-like"><a href="#ones-like" class="headerlink" title="ones_like"></a><code>ones_like</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ones_like</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>生成与<code>x</code> shape相同的全1张量</p>
<h3 id="随机常量OPs"><a href="#随机常量OPs" class="headerlink" title="随机常量OPs"></a>随机常量OPs</h3><h4 id="random-uniform-variable"><a href="#random-uniform-variable" class="headerlink" title="random_uniform_variable"></a><code>random_uniform_variable</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">random_uniform_variable</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	shape,</span></span></span><br><span class="line"><span class="params"><span class="function">	low,</span></span></span><br><span class="line"><span class="params"><span class="function">	high,</span></span></span><br><span class="line"><span class="params"><span class="function">	dtype=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	seed=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>初始化均匀分布常量OPs</p>
<ul>
<li>参数<ul>
<li><code>low</code>：浮点数，均匀分布之下界</li>
<li><code>high</code>：浮点数，均匀分布之上界</li>
<li><code>dtype</code>：数据类型</li>
<li><code>name</code>：张量名</li>
<li><code>seed</code>：随机数种子</li>
</ul>
</li>
</ul>
<h4 id="count-params"><a href="#count-params" class="headerlink" title="count_params"></a><code>count_params</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count_params</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>返回张量中标量的个数</p>
<h4 id="cast"><a href="#cast" class="headerlink" title="cast"></a><code>cast</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cast</span>(<span class="params">x, dtype</span>)</span></span><br></pre></td></tr></table></figure>
<p>改变张量的数据类型</p>
<ul>
<li>参数<ul>
<li><code>dtype</code>：<code>float16</code>/<code>float32</code>/<code>float64</code></li>
</ul>
</li>
</ul>
<h4 id="update"><a href="#update" class="headerlink" title="update"></a><code>update</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update</span>(<span class="params">x, new_x</span>)</span></span><br></pre></td></tr></table></figure>
<p>用<code>new_x</code>更新<code>x</code></p>
<h4 id="update-add"><a href="#update-add" class="headerlink" title="update_add"></a><code>update_add</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_add</span>(<span class="params">x, increment</span>)</span></span><br></pre></td></tr></table></figure>
<p>将<code>x</code>增加<code>increment</code>并更新<code>x</code></p>
<h4 id="update-sub"><a href="#update-sub" class="headerlink" title="update_sub"></a><code>update_sub</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_sub</span>(<span class="params">x, decrement</span>)</span></span><br></pre></td></tr></table></figure>
<p>将<code>x</code>减少<code>decrement</code>并更新<code>x</code></p>
<h4 id="moving-average-update"><a href="#moving-average-update" class="headerlink" title="moving_average_update"></a><code>moving_average_update</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">moving_average_update</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	value,</span></span></span><br><span class="line"><span class="params"><span class="function">	momentum</span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>使用移动平均更新<code>x</code></p>
<h4 id="dot"><a href="#dot" class="headerlink" title="dot"></a><code>dot</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dot</span>(<span class="params">x, y</span>)</span></span><br></pre></td></tr></table></figure>
<p>求两个张量的点乘</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = K.placeholder(shape=(<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">y = K.placeholder(shape=(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">xy = K.dot(x, y)</span><br><span class="line">xy</span><br><span class="line">	<span class="comment"># &lt;tf.Tensor &#x27;MatMul_9:0&#x27; shape=(2, 4) dtype=float32&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>当试图计算两个N阶张量的乘积时，与Theano行为相同
<code>(2, 3).(4, 3, 5) = (2, 4, 5))</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = K.placeholder(shape=(<span class="number">32</span>, <span class="number">28</span>, <span class="number">3</span>))</span><br><span class="line">y = K.placeholder(shape=(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">xy = K.dot(x, y)</span><br><span class="line">xy</span><br><span class="line">	<span class="comment"># &lt;tf.Tensor &#x27;MatMul_9:0&#x27; shape=(32, 28, 4) dtype=float32&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = K.random_uniform_variable(shape=(<span class="number">2</span>, <span class="number">3</span>), low=<span class="number">0</span>, high=<span class="number">1</span>)</span><br><span class="line">y = K.ones((<span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>))</span><br><span class="line">xy = K.dot(x, y)</span><br><span class="line">K.int_shape(xy)</span><br><span class="line">	<span class="comment"># (2, 4, 5)</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="batch-dot"><a href="#batch-dot" class="headerlink" title="batch_dot"></a><code>batch_dot</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">batch_dot</span>(<span class="params">x, y, axes=<span class="literal">None</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>按批进行张量<code>x</code>和<code>y</code>的点积</p>
<ul>
<li>参数<ul>
<li><code>x</code>：按batch分块的数据</li>
<li><code>y</code>；同<code>x</code></li>
<li><code>axes</code>：指定进行点乘的轴</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x_batch = K.ones(shape=(<span class="number">32</span>, <span class="number">20</span>, <span class="number">1</span>))</span><br><span class="line">y_batch = K.ones(shape=(<span class="number">32</span>, <span class="number">30</span>, <span class="number">20</span>))</span><br><span class="line">xy_batch_dot = K.batch_dot(x_batch, y_batch, axes=[<span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">K.int_shape(xy_batch_dot)</span><br><span class="line">	<span class="comment"># (32, 1, 30)</span></span><br></pre></td></tr></table></figure>
<h4 id="transpose"><a href="#transpose" class="headerlink" title="transpose"></a><code>transpose</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">transpose</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>张量转置</p>
<h4 id="gather"><a href="#gather" class="headerlink" title="gather"></a><code>gather</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gather</span>(<span class="params">reference, indices</span>)</span></span><br></pre></td></tr></table></figure>
<p>在给定的张量中检索给定下标的向量</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>reference</code>：张量</li>
<li><code>indices</code>：整数张量，其元素为要查询的下标</li>
</ul>
</li>
<li><p>返回值：同<code>reference</code>数据类型相同的张量</p>
</li>
</ul>
<h4 id="max"><a href="#max" class="headerlink" title="max"></a><code>max</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">max</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	axis=<span class="literal">None</span>/<span class="built_in">int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	keepdims=<span class="literal">False</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>求张量中的最大值</p>
<h4 id="min"><a href="#min" class="headerlink" title="min"></a><code>min</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">min</span>(<span class="params">x, axis=<span class="literal">None</span>, keepdims=<span class="literal">False</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>求张量中的最小值</p>
<h4 id="sum"><a href="#sum" class="headerlink" title="sum"></a><code>sum</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sum</span>(x, axis=<span class="literal">None</span>, keepdims=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p>计算张量中元素之和</p>
<h4 id="prod"><a href="#prod" class="headerlink" title="prod"></a><code>prod</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prod(x, axis=<span class="literal">None</span>, keepdims=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p>计算张量中元素之积</p>
<h4 id="cumsum"><a href="#cumsum" class="headerlink" title="cumsum"></a><code>cumsum</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cumsum</span>(<span class="params">x, axis=<span class="number">0</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>在给定轴上求张量的累积和</p>
<h4 id="cumprod"><a href="#cumprod" class="headerlink" title="cumprod"></a><code>cumprod</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cumprod(x, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p>在给定轴上求张量的累积积</p>
<h4 id="var"><a href="#var" class="headerlink" title="var"></a><code>var</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">var</span>(<span class="params">x, axis=<span class="literal">None</span>, keepdims=<span class="literal">False</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>在给定轴上计算张量方差</p>
<h4 id="std"><a href="#std" class="headerlink" title="std"></a><code>std</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">std</span>(<span class="params">x, axis=<span class="literal">None</span>, keepdims=<span class="literal">False</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>在给定轴上求张量元素之标准差</p>
<h4 id="mean"><a href="#mean" class="headerlink" title="mean"></a><code>mean</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mean</span>(<span class="params">x, axis=<span class="literal">None</span>, keepdims=<span class="literal">False</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>在给定轴上求张量元素之均值</p>
<h4 id="any"><a href="#any" class="headerlink" title="any"></a><code>any</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">any</span>(<span class="params">x, axis=<span class="literal">None</span>, keepdims=<span class="literal">False</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>按位或，返回数据类型为uint8的张量（元素为0或1）</p>
<h4 id="all"><a href="#all" class="headerlink" title="all"></a><code>all</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">any</span>(<span class="params">x, axis=<span class="literal">None</span>, keepdims=<span class="literal">False</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>按位与，返回类型为uint8de tensor</p>
<h4 id="argmax"><a href="#argmax" class="headerlink" title="argmax"></a><code>argmax</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">argmax</span>(<span class="params">x, axis=-<span class="number">1</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>在给定轴上求张量之最大元素下标</p>
<h4 id="argmin"><a href="#argmin" class="headerlink" title="argmin"></a><code>argmin</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">argmin</span>(<span class="params">x, axis=-<span class="number">1</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>在给定轴上求张量之最小元素下标</p>
<h3 id="Element-Wise-OPs"><a href="#Element-Wise-OPs" class="headerlink" title="Element-Wise OPs"></a>Element-Wise OPs</h3><h4 id="square"><a href="#square" class="headerlink" title="square"></a><code>square</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">square</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素平方</p>
<h4 id="abs"><a href="#abs" class="headerlink" title="abs"></a><code>abs</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">abs</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素绝对值</p>
<h4 id="sqrt"><a href="#sqrt" class="headerlink" title="sqrt"></a><code>sqrt</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqrt(x)</span><br></pre></td></tr></table></figure>
<p>逐元素开方</p>
<h4 id="exp"><a href="#exp" class="headerlink" title="exp"></a><code>exp</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">exp</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素求自然指数</p>
<h4 id="log"><a href="#log" class="headerlink" title="log"></a><code>log</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素求自然对数</p>
<h4 id="logsumexp"><a href="#logsumexp" class="headerlink" title="logsumexp"></a><code>logsumexp</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logsumexp</span>(<span class="params">x, axis=<span class="literal">None</span>, keepdims=<span class="literal">False</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>在给定轴上计算<code>log(sum(exp()))</code></p>
<ul>
<li>该函数在数值稳定性上超过手动计算<code>log(sum(exp()))</code>，可以
避免由<code>exp</code>和<code>log</code>导致的上溢和下溢</li>
</ul>
<h4 id="round"><a href="#round" class="headerlink" title="round"></a><code>round</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">round</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素四舍五入</p>
<h4 id="sign"><a href="#sign" class="headerlink" title="sign"></a><code>sign</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sign</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素求元素的符号</p>
<ul>
<li>返回值<ul>
<li><code>+1</code></li>
<li><code>-1</code></li>
</ul>
</li>
</ul>
<h4 id="pow"><a href="#pow" class="headerlink" title="pow"></a><code>pow</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pow</span>(<span class="params">x, a</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素求x的a次方</p>
<h4 id="clip"><a href="#clip" class="headerlink" title="clip"></a><code>clip</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">clip</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	min_value,</span></span></span><br><span class="line"><span class="params"><span class="function">	max_value</span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素clip（将超出指定范围的数强制变为边界值）</p>
<h4 id="equal"><a href="#equal" class="headerlink" title="equal"></a><code>equal</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">equal</span>(<span class="params">x, y</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素判相等关系</p>
<ul>
<li>返回值：布尔张量OP</li>
</ul>
<h4 id="not-equal"><a href="#not-equal" class="headerlink" title="not_equal"></a><code>not_equal</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">not_equal</span>(<span class="params">x, y</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素判不等关系</p>
<h4 id="greater"><a href="#greater" class="headerlink" title="greater"></a><code>greater</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">greater</span>(<span class="params">x,y</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素判断<code>x&gt;y</code>关系</p>
<h4 id="greater-equal"><a href="#greater-equal" class="headerlink" title="greater_equal"></a><code>greater_equal</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">greater_equal</span>(<span class="params">x,y</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素判断<code>x&gt;=y</code>关系</p>
<h4 id="lesser"><a href="#lesser" class="headerlink" title="lesser"></a><code>lesser</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lesser</span>(<span class="params">x,y</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素判断<code>x&lt;y</code>关系</p>
<h4 id="lesser-equal"><a href="#lesser-equal" class="headerlink" title="lesser_equal"></a><code>lesser_equal</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lesser_equal</span>(<span class="params">x,y</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素判断<code>x&lt;=y</code>关系</p>
<h4 id="maximum"><a href="#maximum" class="headerlink" title="maximum"></a><code>maximum</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maximum</span>(<span class="params">x, y</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素取两个张量的最大值</p>
<h4 id="minimum"><a href="#minimum" class="headerlink" title="minimum"></a><code>minimum</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minimum</span>(<span class="params">x, y</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素取两个张量的最小值</p>
<h4 id="sin"><a href="#sin" class="headerlink" title="sin"></a><code>sin</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sin</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素求正弦值</p>
<h4 id="cos"><a href="#cos" class="headerlink" title="cos"></a><code>cos</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cos</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素求余弦值</p>
<h3 id="变换OPs"><a href="#变换OPs" class="headerlink" title="变换OPs"></a>变换OPs</h3><h4 id="batch-normalization"><a href="#batch-normalization" class="headerlink" title="batch_normalization"></a><code>batch_normalization</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">batch_normalization</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	mean,</span></span></span><br><span class="line"><span class="params"><span class="function">	var,</span></span></span><br><span class="line"><span class="params"><span class="function">	beta,</span></span></span><br><span class="line"><span class="params"><span class="function">	gamma,</span></span></span><br><span class="line"><span class="params"><span class="function">	epsilon=<span class="number">0.0001</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>对batch的数据进行<em>batch_normalization</em>，计算公式为：
$output = (x-mean)/(\sqrt(var)+\epsilon)*\gamma+\beta$</p>
<ul>
<li>手动指定<code>mean</code>、<code>var</code></li>
</ul>
<h4 id="normalize-batch-in-training"><a href="#normalize-batch-in-training" class="headerlink" title="normalize_batch_in_training"></a><code>normalize_batch_in_training</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">normalize_batch_in_training</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	gamma,</span></span></span><br><span class="line"><span class="params"><span class="function">	beta,</span></span></span><br><span class="line"><span class="params"><span class="function">	reduction_axes,</span></span></span><br><span class="line"><span class="params"><span class="function">	epsilon=<span class="number">0.0001</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>对batch数据先计算其均值和方差，然后再进行
<code>batch_normalization</code></p>
<h4 id="concatenate"><a href="#concatenate" class="headerlink" title="concatenate"></a><code>concatenate</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">concatenate</span>(<span class="params">tensors, axis=-<span class="number">1</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>在给定轴上将一个列表中的张量串联为一个张量</p>
<h4 id="reshape"><a href="#reshape" class="headerlink" title="reshape"></a><code>reshape</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reshape</span>(<span class="params">x, shape</span>)</span></span><br></pre></td></tr></table></figure>
<p>将张量的shape变换为指定shape</p>
<h4 id="permute-dimensions"><a href="#permute-dimensions" class="headerlink" title="permute_dimensions"></a><code>permute_dimensions</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">permute_dimensions</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	pattern(<span class="params"><span class="built_in">tuple</span>(<span class="params"><span class="built_in">int</span></span>)</span>)</span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>按照给定的模式重排一个张量的轴</p>
<ul>
<li>参数<ul>
<li><code>pattern</code>：代表维度下标的tuple如<code>(0, 2, 1)</code></li>
</ul>
</li>
</ul>
<h4 id="resize-images"><a href="#resize-images" class="headerlink" title="resize_images"></a><code>resize_images</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">resize_images</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	X,</span></span></span><br><span class="line"><span class="params"><span class="function">	height_factor(<span class="params">uint</span>),</span></span></span><br><span class="line"><span class="params"><span class="function">	width_factor(<span class="params">uint</span>),</span></span></span><br><span class="line"><span class="params"><span class="function">	dim_ordering=<span class="literal">None</span>/<span class="string">&#x27;th&#x27;</span>/<span class="string">&#x27;tf&#x27;</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>依据给定的缩放因子<code>height_factor</code>、<code>width_factor</code>，改变batch
数据（图片）的shape</p>
<ul>
<li>参数<ul>
<li><code>height_factor</code>/<code>width_factor</code>：正整数</li>
</ul>
</li>
</ul>
<h4 id="resize-volumes"><a href="#resize-volumes" class="headerlink" title="resize_volumes"></a><code>resize_volumes</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">resize_volumes</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	X,</span></span></span><br><span class="line"><span class="params"><span class="function">	depth_factor,</span></span></span><br><span class="line"><span class="params"><span class="function">	height_factor,</span></span></span><br><span class="line"><span class="params"><span class="function">	width_factor,</span></span></span><br><span class="line"><span class="params"><span class="function">	dim_ordering</span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>依据给定的缩放因子，改变一个5D张量数据的shape</p>
<h4 id="repeat-elements"><a href="#repeat-elements" class="headerlink" title="repeat_elements"></a><code>repeat_elements</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">repeat_elements</span>(<span class="params">x, rep, axis</span>)</span></span><br></pre></td></tr></table></figure>
<p>在给定轴上重复张量<strong>元素</strong><code>rep</code>次</p>
<ul>
<li>与<code>np.repeat</code>类似</li>
</ul>
<h4 id="repeat"><a href="#repeat" class="headerlink" title="repeat"></a><code>repeat</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">repeat</span>(<span class="params">x, n</span>)</span></span><br></pre></td></tr></table></figure>
<p>重复2D张量</p>
<h4 id="arange"><a href="#arange" class="headerlink" title="arange"></a><code>arange</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">arange</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	start,</span></span></span><br><span class="line"><span class="params"><span class="function">	stop=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	step=<span class="number">1</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dtype=<span class="string">&quot;int32&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>生成1D的整数序列张量</p>
<ul>
<li><p>参数：同<code>np.arange</code></p>
<ul>
<li>如果只有一个参数被提供了，则<code>0~stop</code></li>
</ul>
</li>
<li><p>返回值：默认数据类型是<code>int32</code>的张量</p>
</li>
</ul>
<h4 id="tile"><a href="#tile" class="headerlink" title="tile"></a><code>tile</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tile</span>(<span class="params">x, n</span>)</span></span><br></pre></td></tr></table></figure>
<p>将<code>x</code>在各个维度上重复<code>n[i]</code>次</p>
<h4 id="batch-flatten"><a href="#batch-flatten" class="headerlink" title="batch_flatten"></a><code>batch_flatten</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">batch_flatten</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>将n阶张量转变为2阶张量，第一维度保留不变</p>
<h4 id="expand-dims"><a href="#expand-dims" class="headerlink" title="expand_dims"></a><code>expand_dims</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">expand_dims</span>(<span class="params">x, dim=-<span class="number">1</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>在<code>dim</code>指定轴后增加一维（轴）</p>
<h4 id="squeeze"><a href="#squeeze" class="headerlink" title="squeeze"></a><code>squeeze</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">squeeze</span>(<span class="params">x, axis</span>)</span></span><br></pre></td></tr></table></figure>
<p>将<code>axis</code>指定的轴从张量中移除（保留轴上首组张量切片）</p>
<h4 id="temporal-padding"><a href="#temporal-padding" class="headerlink" title="temporal_padding"></a><code>temporal_padding</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">temporal_padding</span>(<span class="params">x, padding=<span class="number">1</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>向3D张量中间那个维度的左右两端填充<code>padding</code>个0值</p>
<h4 id="asymmetric-temporal-padding"><a href="#asymmetric-temporal-padding" class="headerlink" title="asymmetric_temporal_padding"></a><code>asymmetric_temporal_padding</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">asymmetric_temporal_padding</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	left_pad=<span class="number">1</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	right_pad=<span class="number">1</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>向3D张量中间的那个维度的左右分别填充0值</p>
<h4 id="spatial-2d-padding"><a href="#spatial-2d-padding" class="headerlink" title="spatial_2d_padding"></a><code>spatial_2d_padding</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">spatial_2d_padding</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	padding=(<span class="params"><span class="number">1</span>, <span class="number">1</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="function">	dim_ordering=<span class="string">&#x27;th&#x27;</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>向4D张量高度、宽度左右两端填充<code>padding[0]</code>和<code>padding[1]</code>
个0值</p>
<h4 id="spatial-3d-padding"><a href="#spatial-3d-padding" class="headerlink" title="spatial_3d_padding"></a><code>spatial_3d_padding</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">spatial_3d_padding</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	padding=(<span class="params"><span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="function">	dim_ordering=<span class="string">&#x27;th&#x27;</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>向5D张量深度、高度、宽度三个维度上填充0值</p>
<h4 id="stack"><a href="#stack" class="headerlink" title="stack"></a><code>stack</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stack</span>(<span class="params">x, axis=<span class="number">0</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>将列表<code>x</code>中张量堆积起来形成维度+1的新张量</p>
<h4 id="one-hot"><a href="#one-hot" class="headerlink" title="one_hot"></a><code>one_hot</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">one_hot</span>(<span class="params">indices, nb_classes</span>)</span></span><br></pre></td></tr></table></figure>
<p>为张量<code>indices</code>进行<em>one_hot</em>编码</p>
<ul>
<li>参数<ul>
<li><code>indices</code>：n维的整数张量</li>
<li><code>nb_classes</code>：<em>one_hot</em>编码列表</li>
</ul>
</li>
<li>输出：n+1维整数张量，最后维为编码</li>
</ul>
<h4 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a><code>reverse</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverse</span>(<span class="params">x, axes</span>)</span></span><br></pre></td></tr></table></figure>
<p>将一个张量在给定轴上反转</p>
<h4 id="get-value"><a href="#get-value" class="headerlink" title="get_value"></a><code>get_value</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_value</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>以NDA的形式返回张量的值</p>
<h4 id="batch-get-value"><a href="#batch-get-value" class="headerlink" title="batch_get_value"></a><code>batch_get_value</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">batch_get_value</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>以<code>[NDA]</code>的形式返回多个张量的值</p>
<h4 id="set-value"><a href="#set-value" class="headerlink" title="set_value"></a><code>set_value</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">set_value</span>(<span class="params">x, value</span>)</span></span><br></pre></td></tr></table></figure>
<p>从NDA将值载入张量中</p>
<h4 id="batch-set-value"><a href="#batch-set-value" class="headerlink" title="batch_set_value"></a><code>batch_set_value</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">batch_set_value</span>(<span class="params">tuples</span>)</span></span><br></pre></td></tr></table></figure>
<p>将多个值载入多个张量变量中</p>
<h4 id="print-tensor"><a href="#print-tensor" class="headerlink" title="print_tensor"></a><code>print_tensor</code></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">def print_tensor(x, message=&#x27;&#x27;)</span><br></pre></td></tr></table></figure>
<p>在求值时打印张量的信息，并返回原张量</p>
<h4 id="function"><a href="#function" class="headerlink" title="function"></a><code>function</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">function</span>(<span class="params">inputs, outputs, updates=[]</span>)</span></span><br></pre></td></tr></table></figure>
<p>实例化一个Keras函数</p>
<ul>
<li>参数<ul>
<li><code>inputs</code>：列表，其元素为占位符或张量变量</li>
<li><code>outputs</code>：输出张量的列表</li>
<li><code>updates</code>：张量列表</li>
</ul>
</li>
</ul>
<h4 id="gradients"><a href="#gradients" class="headerlink" title="gradients"></a><code>gradients</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradients</span>(<span class="params">loss, variables</span>)</span></span><br></pre></td></tr></table></figure>
<p>返回<code>loss</code>函数关于<code>variables</code>的梯度</p>
<h4 id="stop-gradient"><a href="#stop-gradient" class="headerlink" title="stop_gradient"></a><code>stop_gradient</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stop_gradient</span>(<span class="params">variables</span>)</span></span><br></pre></td></tr></table></figure>
<p>Returns <code>variables</code> but with zero gradient with respect to every other variables.</p>
<h4 id="rnn"><a href="#rnn" class="headerlink" title="rnn"></a><code>rnn</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rnn</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	step_function,</span></span></span><br><span class="line"><span class="params"><span class="function">	inputs,</span></span></span><br><span class="line"><span class="params"><span class="function">	initial_states,</span></span></span><br><span class="line"><span class="params"><span class="function">	go_backwards=<span class="literal">False</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	mask=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	constants=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	unroll=<span class="literal">False</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	input_length=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>在张量的时间维上迭代</p>
<ul>
<li><p>参数：</p>
<ul>
<li><p><code>inputs</code>：时域信号的张量，阶数至少为3</p>
</li>
<li><p><code>step_function</code>：每个时间步要执行的函数</p>
<p>参数</p>
<ul>
<li><code>input</code>：不含时间维张量，代表某时间步batch样本</li>
<li><code>states</code>：张量列表</li>
</ul>
<p>返回值</p>
<ul>
<li><code>output</code>：形如<code>(samples, ...)</code>的张量</li>
<li><code>new_states</code>：张量列表，与<code>states</code>的长度相同    </li>
</ul>
</li>
<li><p><code>initial_states</code>：包含<code>step_function</code>状态初始值</p>
</li>
<li><p><code>go_backwards</code>：逆向迭代序列</p>
</li>
<li><p><code>mask</code>：需要屏蔽的数据元素上值为1</p>
</li>
<li><p><code>constants</code>：按时间步传递给函数的常数列表</p>
</li>
<li><p><code>unroll</code></p>
<ul>
<li>当使用TF时，RNN总是展开的’</li>
<li>当使用Theano时，设置该值为<code>True</code>将展开递归网络</li>
</ul>
</li>
<li><p><code>input_length</code></p>
<ul>
<li>TF：不需要此值</li>
<li>Theano：如果要展开递归网络，必须指定输入序列</li>
</ul>
</li>
</ul>
</li>
<li><p>返回值：形如<code>(last_output, outputs, new_states)</code>的张量</p>
<ul>
<li><code>last_output</code>：RNN最后的输出</li>
<li><code>outputs</code>：每个在[s,t]点的输出对应于样本s在t时间的输出</li>
<li><code>new_states</code>: 每个样本的最后一个状态列表</li>
</ul>
</li>
</ul>
<h4 id="switch"><a href="#switch" class="headerlink" title="switch"></a><code>switch</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">switch</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	condition,</span></span></span><br><span class="line"><span class="params"><span class="function">	then_expression,</span></span></span><br><span class="line"><span class="params"><span class="function">	else_expression</span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>依据给定<code>condition</code>（整数或布尔值）在两个表达式之间切换</p>
<ul>
<li>参数<ul>
<li><code>condition</code>：标量张量</li>
<li><code>then_expression</code>：TensorFlow表达式</li>
<li><code>else_expression</code>: TensorFlow表达式</li>
</ul>
</li>
</ul>
<h4 id="in-train-phase"><a href="#in-train-phase" class="headerlink" title="in_train_phase"></a><code>in_train_phase</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">in_train_phase</span>(<span class="params">x, alt</span>)</span></span><br></pre></td></tr></table></figure>
<p>如果处于训练模式，则选择<code>x</code>，否则选择<code>alt</code></p>
<ul>
<li>注意<code>alt</code>应该与<code>x</code>的<code>shape</code>相同</li>
</ul>
<h4 id="in-test-phase"><a href="#in-test-phase" class="headerlink" title="in_test_phase"></a><code>in_test_phase</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">in_test_phase</span>(<span class="params">x, alt</span>)</span></span><br></pre></td></tr></table></figure>
<p>如果处于测试模式，则选择<code>x</code>，否则选择<code>alt</code></p>
<ul>
<li>注意：<code>alt</code>应该与<code>x</code>的shape相同</li>
</ul>
<h2 id="预定义（激活）函数"><a href="#预定义（激活）函数" class="headerlink" title="预定义（激活）函数"></a>预定义（激活）函数</h2><h4 id="relu"><a href="#relu" class="headerlink" title="relu"></a><code>relu</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">relu</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	alpha=<span class="number">0.0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	max_value=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>修正线性单元</p>
<ul>
<li>参数<ul>
<li><code>alpha</code>：负半区斜率</li>
<li><code>max_value</code>: 饱和门限</li>
</ul>
</li>
</ul>
<h4 id="elu"><a href="#elu" class="headerlink" title="elu"></a><code>elu</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">elu</span>(<span class="params">x, alpha=<span class="number">1.0</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>指数线性单元</p>
<ul>
<li>参数<ul>
<li><code>x</code>：输入张量</li>
<li><code>alpha</code>: 标量</li>
</ul>
</li>
</ul>
<h4 id="softmax"><a href="#softmax" class="headerlink" title="softmax"></a><code>softmax</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">softmax</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>计算张量的softmax值</p>
<h4 id="softplus"><a href="#softplus" class="headerlink" title="softplus"></a><code>softplus</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">softplus</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>返回张量的softplus值</p>
<h4 id="softsign"><a href="#softsign" class="headerlink" title="softsign"></a><code>softsign</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">softsign</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>返回张量的softsign值</p>
<h4 id="sigmoid"><a href="#sigmoid" class="headerlink" title="sigmoid"></a><code>sigmoid</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素计算sigmoid值</p>
<h4 id="hard-sigmoid"><a href="#hard-sigmoid" class="headerlink" title="hard_sigmoid"></a><code>hard_sigmoid</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hard_sigmoid</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>分段线性近似的sigmoid，计算速度更快</p>
<h4 id="tanh"><a href="#tanh" class="headerlink" title="tanh"></a><code>tanh</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tanh</span>(<span class="params">x</span>)</span></span><br></pre></td></tr></table></figure>
<p>逐元素计算tanh值 </p>
<h2 id="预定义目标函数"><a href="#预定义目标函数" class="headerlink" title="预定义目标函数"></a>预定义目标函数</h2><h4 id="categorical-crossentropy"><a href="#categorical-crossentropy" class="headerlink" title="categorical_crossentropy"></a><code>categorical_crossentropy</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">categorical_crossentropy</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	output,</span></span></span><br><span class="line"><span class="params"><span class="function">	target,</span></span></span><br><span class="line"><span class="params"><span class="function">	from_logits=<span class="literal">False</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>计算<code>output</code>、<code>target</code>的Categorical Crossentropy（类别交叉熵）</p>
<ul>
<li>参数<ul>
<li><code>output</code>/<code>target</code>：shape相等</li>
</ul>
</li>
</ul>
<h4 id="sparse-categorical-crossentropy"><a href="#sparse-categorical-crossentropy" class="headerlink" title="sparse_categorical_crossentropy"></a><code>sparse_categorical_crossentropy</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sparse_categorical_crossentropy</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	output,</span></span></span><br><span class="line"><span class="params"><span class="function">	target,</span></span></span><br><span class="line"><span class="params"><span class="function">	from_logits=<span class="literal">False</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>计算<code>output</code>、<code>target</code>的Categorical Crossentropy（类别交叉熵）</p>
<ul>
<li>参数<ul>
<li><code>output</code></li>
<li><code>target</code>：同<code>output</code> shape相等，需为整形张量</li>
</ul>
</li>
</ul>
<h4 id="binary-crossentropy"><a href="#binary-crossentropy" class="headerlink" title="binary_crossentropy"></a><code>binary_crossentropy</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_crossentropy</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	output,</span></span></span><br><span class="line"><span class="params"><span class="function">	target,</span></span></span><br><span class="line"><span class="params"><span class="function">	from_logits=<span class="literal">False</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>计算输出张量和目标张量的交叉熵</p>
<h4 id="dropout"><a href="#dropout" class="headerlink" title="dropout"></a><code>dropout</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dropout</span>(<span class="params">x, level, seed=<span class="literal">None</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>随机将<code>x</code>中一定比例的值设置为0，并放缩整个Tensor</p>
<h4 id="l2-normalize"><a href="#l2-normalize" class="headerlink" title="l2_normalize"></a><code>l2_normalize</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">l2_normalize</span>(<span class="params">x, axis</span>)</span></span><br></pre></td></tr></table></figure>
<p>在给定轴上对张量进行L2范数规范化</p>
<h4 id="in-top-k"><a href="#in-top-k" class="headerlink" title="in_top_k"></a><code>in_top_k</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">in_top_k</span>(<span class="params">predictions, targets, k</span>)</span></span><br></pre></td></tr></table></figure>
<p>判断目标是否在<code>predictions</code>的前k大值位置</p>
<p>参数</p>
<ul>
<li><code>predictions</code>：预测值张量</li>
<li><code>targets</code>：真值张量</li>
<li><code>k</code>：整数</li>
</ul>
<h4 id="conv1d"><a href="#conv1d" class="headerlink" title="conv1d"></a><code>conv1d</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">conv1d</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	kernel,</span></span></span><br><span class="line"><span class="params"><span class="function">	strides=<span class="number">1</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	border_mode=<span class="string">&quot;valid&quot;</span>/<span class="string">&quot;same&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	image_shape=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	filter_shape=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>1D卷积</p>
<ul>
<li>参数<ul>
<li><code>kernel</code>：卷积核张量</li>
<li><code>strides</code>：步长，整型</li>
<li><code>border_mode</code><ul>
<li>“same”：</li>
<li>“valid”：</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="conv2d"><a href="#conv2d" class="headerlink" title="conv2d"></a><code>conv2d</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">conv2d</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	kernel,</span></span></span><br><span class="line"><span class="params"><span class="function">	strides=(<span class="params"><span class="number">1</span>, <span class="number">1</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="function">	border_mode=<span class="string">&quot;valid&quot;</span>/<span class="string">&quot;same&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dim_ordering=<span class="string">&quot;th&quot;</span>/<span class="string">&quot;tf&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	image_shape=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	filter_shape=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>2D卷积</p>
<ul>
<li>参数<ul>
<li><code>kernel</code>：卷积核张量</li>
<li><code>strides</code>：步长，长为2的tuple</li>
</ul>
</li>
</ul>
<h4 id="deconv2d"><a href="#deconv2d" class="headerlink" title="deconv2d"></a><code>deconv2d</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deconv2d</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	kernel,</span></span></span><br><span class="line"><span class="params"><span class="function">	output_shape,</span></span></span><br><span class="line"><span class="params"><span class="function">	strides=(<span class="params"><span class="number">1</span>, <span class="number">1</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="function">	border_mode=<span class="string">&quot;valid&quot;</span>/<span class="string">&quot;same&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dim_ordering=<span class="string">&quot;th&quot;</span>/<span class="string">&quot;tf&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	image_shape=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	filter_shape=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>2D反卷积（转置卷积）</p>
<ul>
<li>参数<ul>
<li><code>x</code>：输入张量</li>
<li><code>kernel</code>：卷积核张量</li>
<li><code>output_shape</code>: 输出shape的1D的整数张量</li>
<li><code>strides</code>：步长，tuple类型</li>
</ul>
</li>
</ul>
<h4 id="conv3d"><a href="#conv3d" class="headerlink" title="conv3d"></a><code>conv3d</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">conv3d</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	kernel,</span></span></span><br><span class="line"><span class="params"><span class="function">	strides=(<span class="params"><span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="function">	border_mode=<span class="string">&quot;valid&quot;</span>/<span class="string">&quot;same&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dim_ordering=<span class="string">&quot;th&quot;</span>/<span class="string">&quot;tf&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	volume_shape=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	filter_shape=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>3D卷积</p>
<h4 id="pool2d"><a href="#pool2d" class="headerlink" title="pool2d"></a><code>pool2d</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pool2d</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	pool_size,</span></span></span><br><span class="line"><span class="params"><span class="function">	strides=(<span class="params"><span class="number">1</span>, <span class="number">1</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="function">	border_mode=<span class="string">&quot;valid&quot;</span>/<span class="string">&quot;same&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dim_ordering=<span class="string">&quot;th&quot;</span>/<span class="string">&quot;tf&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	pool_mode=<span class="string">&quot;max&quot;</span>/<span class="string">&quot;avg&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>2D池化</p>
<ul>
<li>参数<ul>
<li><code>pool_size</code>：含有两个整数的tuple，池的大小</li>
<li><code>strides</code>：含有两个整数的tuple，步长</li>
<li><code>pool_mode</code>: “max”，“avg”之一，池化方式</li>
</ul>
</li>
</ul>
<h4 id="pool3d"><a href="#pool3d" class="headerlink" title="pool3d"></a><code>pool3d</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pool3d</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	x,</span></span></span><br><span class="line"><span class="params"><span class="function">	pool_size,</span></span></span><br><span class="line"><span class="params"><span class="function">	strides=(<span class="params"><span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="function">	border_mode=<span class="string">&quot;valid&quot;</span>/<span class="string">&quot;same&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dim_ordering=<span class="string">&quot;th&quot;</span>/<span class="string">&quot;tf&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	pool_mode=<span class="string">&quot;max&quot;</span>/<span class="string">&quot;avg&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>3D池化</p>
<h4 id="bias-add"><a href="#bias-add" class="headerlink" title="bias_add"></a><code>bias_add</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bias_add</span>(<span class="params">x, bias, data_format=<span class="literal">None</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>为张量增加一个偏置项</p>
<h4 id="random-normal"><a href="#random-normal" class="headerlink" title="random_normal"></a><code>random_normal</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">random_normal</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	shape,</span></span></span><br><span class="line"><span class="params"><span class="function">	mean=<span class="number">0.0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	stddev=<span class="number">1.0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dtype=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	seed=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>生成服从正态分布的张量</p>
<ul>
<li>参数<ul>
<li><code>mean</code>：均值</li>
<li><code>stddev</code>：标准差</li>
</ul>
</li>
</ul>
<h4 id="random-uniform"><a href="#random-uniform" class="headerlink" title="random_uniform"></a><code>random_uniform</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">random_uniform</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	shape,</span></span></span><br><span class="line"><span class="params"><span class="function">	minval=<span class="number">0.0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	maxval=<span class="number">1.0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dtype=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	seed=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>生成服从均匀分布值的张量</p>
<ul>
<li>参数<ul>
<li><code>minval</code>：上界</li>
<li><code>maxval</code>：上界</li>
</ul>
</li>
</ul>
<h4 id="random-binomial"><a href="#random-binomial" class="headerlink" title="random_binomial"></a><code>random_binomial</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">random_binomial</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	shape,</span></span></span><br><span class="line"><span class="params"><span class="function">	p=<span class="number">0.0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dtype=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	seed=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>返回具有二项分布值的张量</p>
<ul>
<li>参数<ul>
<li><code>p</code>：二项分布参数</li>
</ul>
</li>
</ul>
<h4 id="truncated-normall"><a href="#truncated-normall" class="headerlink" title="truncated_normall"></a><code>truncated_normall</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">truncated_normal</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	shape,</span></span></span><br><span class="line"><span class="params"><span class="function">	mean=<span class="number">0.0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	stddev=<span class="number">1.0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dtype=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	seed=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>生成服从截尾正态分布值的张量，即在距离均值两个标准差之外的
数据将会被截断并重新生成</p>
<h4 id="ctc-label-dense-to-sparse"><a href="#ctc-label-dense-to-sparse" class="headerlink" title="ctc_label_dense_to_sparse"></a><code>ctc_label_dense_to_sparse</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ctc_label_dense_to_sparse</span>(<span class="params">labels, label_lengths</span>)</span></span><br></pre></td></tr></table></figure>
<p>将ctc标签从稠密形式转换为稀疏形式</p>
<h4 id="ctc-batch-cost"><a href="#ctc-batch-cost" class="headerlink" title="ctc_batch_cost"></a><code>ctc_batch_cost</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ctc_batch_cost</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	y_true,</span></span></span><br><span class="line"><span class="params"><span class="function">	y_pred,</span></span></span><br><span class="line"><span class="params"><span class="function">	input_length,</span></span></span><br><span class="line"><span class="params"><span class="function">	label_length</span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>在batch上运行CTC损失算法</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>y_true</code>：包含标签的真值张量</li>
<li><code>y_pred</code>：包含预测值或输出的softmax值的张量</li>
<li><code>input_length</code>：包含<code>y_pred</code>中每个batch的序列长</li>
<li><code>label_length</code>：包含<code>y_true</code>中每个batch的序列长张量</li>
</ul>
</li>
<li><p>返回值：包含了每个元素的CTC损失的张量</p>
</li>
</ul>
<h4 id="ctc-decode"><a href="#ctc-decode" class="headerlink" title="ctc_decode"></a><code>ctc_decode</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ctc_decode</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	y_pred,</span></span></span><br><span class="line"><span class="params"><span class="function">	input_length,</span></span></span><br><span class="line"><span class="params"><span class="function">	greedy=<span class="literal">True</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	beam_width=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dict_seq_lens=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	dict_values=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>使用贪婪算法或带约束的字典搜索算法解码softmax的输出</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>y_pred</code>：包含预测值或输出的softmax值的张量</li>
<li><code>input_length</code>：包含<code>y_pred</code>中每个batch序列长的张量</li>
<li><code>greedy</code>：使用贪婪算法</li>
<li><code>dict_seq_lens</code>：<code>dic_values</code>列表中各元素的长度</li>
<li><code>dict_values</code>：列表的列表，代表字典</li>
</ul>
</li>
<li><p>返回值：包含了路径可能性（以softmax概率的形式）张量</p>
</li>
<li><p>注意仍然需要一个用来取出argmax和处理空白标签的函数</p>
</li>
</ul>
<h4 id="map-fn"><a href="#map-fn" class="headerlink" title="map_fn"></a><code>map_fn</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">map_fn</span>(<span class="params">fn, elems, name=<span class="literal">None</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>元素elems在函数fn上的映射，并返回结果</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>fn</code>：函数</li>
<li><code>elems</code>：张量</li>
<li><code>name</code>：节点的名字</li>
</ul>
</li>
<li><p>返回值：张量的第一维度等于<code>elems</code>，第二维度取决于<code>fn</code></p>
</li>
</ul>
<h4 id="foldl"><a href="#foldl" class="headerlink" title="foldl"></a><code>foldl</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foldl</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	fn,</span></span></span><br><span class="line"><span class="params"><span class="function">	elems,</span></span></span><br><span class="line"><span class="params"><span class="function">	initializer=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>用fn从左到右连接它们，以减少<code>elems</code>值</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>fn</code>：函数，例如：lambda acc, x: acc + x</li>
<li><code>elems</code>：张量</li>
<li><code>initializer</code>：初始化的值(elems[0])</li>
<li><code>name</code>：节点名</li>
</ul>
</li>
<li><p>返回值：与<code>initializer</code>类型和形状一致</p>
</li>
</ul>
<h4 id="foldr"><a href="#foldr" class="headerlink" title="foldr"></a><code>foldr</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foldr</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	fn,</span></span></span><br><span class="line"><span class="params"><span class="function">	elems,</span></span></span><br><span class="line"><span class="params"><span class="function">	initializer=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>减少<code>elems</code>，用<code>fn</code>从右到左连接它们</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>fn</code>：函数，例如：lambda acc, x: acc + x</li>
<li><code>elems</code>：张量</li>
<li><code>initializer</code>：初始化的值（elems[-1]）</li>
<li><code>name</code>：节点名</li>
</ul>
</li>
<li><p>返回值：与<code>initializer</code>类型和形状一致</p>
</li>
</ul>
<p>_width=None,
    dict_seq_lens=None,
    dict_values=None
)
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">使用贪婪算法或带约束的字典搜索算法解码softmax的输出</span><br><span class="line"></span><br><span class="line">-	参数</span><br><span class="line"></span><br><span class="line">	-	`y_pred`：包含预测值或输出的softmax值的张量</span><br><span class="line">	-	`input_length`：包含`y_pred`中每个batch序列长的张量</span><br><span class="line">	-	`greedy`：使用贪婪算法</span><br><span class="line">	-	`dict_seq_lens`：`dic_values`列表中各元素的长度</span><br><span class="line">	-	`dict_values`：列表的列表，代表字典</span><br><span class="line"></span><br><span class="line">-	返回值：包含了路径可能性（以softmax概率的形式）张量</span><br><span class="line"></span><br><span class="line">-	注意仍然需要一个用来取出argmax和处理空白标签的函数</span><br><span class="line"></span><br><span class="line">####	`map_fn`</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">def map_fn(fn, elems, name=None)</span><br></pre></td></tr></table></figure></p>
<p>元素elems在函数fn上的映射，并返回结果</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>fn</code>：函数</li>
<li><code>elems</code>：张量</li>
<li><code>name</code>：节点的名字</li>
</ul>
</li>
<li><p>返回值：张量的第一维度等于<code>elems</code>，第二维度取决于<code>fn</code></p>
</li>
</ul>
<h4 id="foldl-1"><a href="#foldl-1" class="headerlink" title="foldl"></a><code>foldl</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foldl</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	fn,</span></span></span><br><span class="line"><span class="params"><span class="function">	elems,</span></span></span><br><span class="line"><span class="params"><span class="function">	initializer=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>用fn从左到右连接它们，以减少<code>elems</code>值</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>fn</code>：函数，例如：lambda acc, x: acc + x</li>
<li><code>elems</code>：张量</li>
<li><code>initializer</code>：初始化的值(elems[0])</li>
<li><code>name</code>：节点名</li>
</ul>
</li>
<li><p>返回值：与<code>initializer</code>类型和形状一致</p>
</li>
</ul>
<h4 id="foldr-1"><a href="#foldr-1" class="headerlink" title="foldr"></a><code>foldr</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foldr</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">	fn,</span></span></span><br><span class="line"><span class="params"><span class="function">	elems,</span></span></span><br><span class="line"><span class="params"><span class="function">	initializer=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">	name=<span class="literal">None</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br></pre></td></tr></table></figure>
<p>减少<code>elems</code>，用<code>fn</code>从右到左连接它们</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>fn</code>：函数，例如：lambda acc, x: acc + x</li>
<li><code>elems</code>：张量</li>
<li><code>initializer</code>：初始化的值（elems[-1]）</li>
<li><code>name</code>：节点名</li>
</ul>
</li>
<li><p>返回值：与<code>initializer</code>类型和形状一致</p>
</li>
<li><p><code>name</code>：节点名</p>
</li>
<li><p>返回值：与<code>initializer</code>类型和形状一致</p>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Pandas/">Pandas</a></span><span class="level-item">33 minutes read (About 4992 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Pandas/df_funcs.html">Pandas函数目录</a></h1><div class="content"><h2 id="“内容结构”变换"><a href="#“内容结构”变换" class="headerlink" title="“内容结构”变换"></a>“内容结构”变换</h2><h3 id="合并"><a href="#合并" class="headerlink" title="合并"></a>合并</h3><h4 id="merge"><a href="#merge" class="headerlink" title="merge"></a><code>merge</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DF = pd.merge(</span><br><span class="line">	left(DF),</span><br><span class="line">	right(DF),</span><br><span class="line">	on=col_name/[col_names],</span><br><span class="line">	left_on=<span class="string">&quot;left_col_name&quot;</span>,</span><br><span class="line">	right_on=<span class="string">&quot;right_col_name&quot;</span>,</span><br><span class="line">	left_index=<span class="literal">False</span>/<span class="literal">True</span>,</span><br><span class="line">	right_index=<span class="literal">False</span>/true,</span><br><span class="line">	how=<span class="string">&quot;Inner&quot;</span>/<span class="string">&quot;outer&quot;</span>/<span class="string">&quot;left&quot;</span>/<span class="string">&quot;right&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>功能：合并操作，类似于sql的<em>join</em>操作</p>
</li>
<li><p>参数</p>
<ul>
<li><code>on</code>：merge合并基准列，可以是多个列名称的list，df1、
df2仅有一列名称相同时可省略，否则返回空DF对象</li>
<li><code>left_on</code>、<code>right_on</code>：df1、df2合并基准列名称不同时
使用</li>
<li><code>left_index</code>、<code>right_index</code>：默认为<code>False</code>，值为
<code>True</code>时使用索引作为基准进行合并（此时也可以使用
<code>df1.join(df2)</code>）</li>
<li><code>how</code>：合并方式，默认是inner join，参数取值：’outer’
、’left’、’right’（不知道能不能取’inner’，这个应该
是默认取值，可以使用）</li>
</ul>
</li>
<li><p>其他</p>
<ul>
<li>df1、df2有多个列名相同且不全是合并基准列时，返回的
DF对象的重复列名称会改变</li>
</ul>
</li>
</ul>
<h4 id="join"><a href="#join" class="headerlink" title="join"></a><code>join</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.join(</span><br><span class="line">	other(DF/Ser/[DF]),</span><br><span class="line">	on=<span class="literal">None</span>/[col_names],</span><br><span class="line">	how=<span class="string">&quot;Left/right/outer/inner&quot;</span>,</span><br><span class="line">	lsuffix=<span class="built_in">str</span>,</span><br><span class="line">	rsuffix=<span class="built_in">str</span>,</span><br><span class="line">	sort=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：和其他DF对象进行join操作</p>
</li>
<li><p>参数</p>
<ul>
<li><code>other</code><ul>
<li>参数为Ser时，必须设置field名称</li>
</ul>
</li>
<li><code>on</code><ul>
<li>默认<code>None</code>，按照index-on-index进行join</li>
<li>也可以按照col_name进行join</li>
</ul>
</li>
<li><code>how</code>：同上</li>
<li><code>lsuffix</code>：df1重名列使用的后缀</li>
<li><code>rsuffix</code>：df2重名列使用的后缀</li>
<li><code>sort</code>：按照join-key排序</li>
</ul>
</li>
</ul>
<h4 id="concat"><a href="#concat" class="headerlink" title="concat"></a><code>concat</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Df/Ser = pd.concat(</span><br><span class="line">	objs=[Ser, DF, <span class="built_in">dict</span>],</span><br><span class="line">	axix=<span class="number">0</span>/<span class="number">1</span>/<span class="string">&quot;index&quot;</span>/<span class="string">&quot;columns&quot;</span>,</span><br><span class="line">	join=<span class="string">&quot;Outer&quot;</span>/<span class="string">&quot;inner&quot;</span>,</span><br><span class="line">	join_axes=<span class="literal">None</span>/[index],</span><br><span class="line">	ignore_index=<span class="literal">False</span>/<span class="literal">True</span>,</span><br><span class="line">	keys=<span class="literal">None</span>/[]/[()],</span><br><span class="line">	levels=<span class="literal">None</span>/[],</span><br><span class="line">	names=<span class="literal">None</span>/[index_names],</span><br><span class="line">	verify_integrity=<span class="literal">False</span>,</span><br><span class="line">	copy=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：以某个轴为方向将多个Series对象或DF对象拼接</p>
</li>
<li><p>参数</p>
<ul>
<li><code>objs</code><ul>
<li>dict作为参数值传递，排序后的keys传递给<code>keys</code></li>
</ul>
</li>
<li><code>join</code>：处理其他轴的方式（其他轴长度、命名不同）</li>
<li><code>join_axes</code>：指定其他轴的index</li>
<li><code>ingore_index</code>：默认<code>False</code>，为<code>True</code>拼接后的DF的
Index将为RangeIndex</li>
<li><code>keys</code>：指定构建多级索引最外层Index</li>
<li><code>levels</code>：用于构建多重索引的具体层级，默认从<code>keys</code>
推断</li>
<li><code>names</code>：返回DF对象索引名称</li>
<li><code>verify_integrity</code>：默认<code>False</code>，不检查返回DF对象
是否含有重复index
<code>copy</code>：默认拷贝数据</li>
</ul>
</li>
<li><p>其他</p>
<ul>
<li><p><code>pd.concat</code>只涉及拼接方向，而merge只能沿列数增加的
方向“拼接”</p>
</li>
<li><p><code>pd.concat()</code>时即使有相同的列名称、index序号也不会
重命名</p>
</li>
<li><p><code>pd.concat(axis=1,...)</code>和
<code>pd.merge(left_index=True, right_index=True,...)</code>的
作用应该是一样的，只是不会将相同的列名称重命名</p>
</li>
<li><p><code>pd.merge</code>可以指定合并基准列，而<code>pd.concat</code>只能按
Index“合并”，且只能inner join或时outer join</p>
</li>
</ul>
</li>
<li><p>注意事项</p>
<ul>
<li><p><code>pd.concat</code>默认会对索引进行排序，所以若索引包含不可
比较元素则会报错，尤其是在多重索引情况下</p>
<ul>
<li><p>改变索引类型规避</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 改为categorical索引</span></span><br><span class="line">df.index.astype(<span class="string">&quot;categorical&quot;</span>)</span><br><span class="line"><span class="comment"># 改为str类型</span></span><br><span class="line">df.index.astype(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>reset索引规避</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df_new = pd.cancat([df1.reset_index(), df2.reset_index()])</span><br><span class="line">df_new = df_new.set_index(col_name)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>pd.concat</code>连接会尝试转换数据类型，如：
<code>pd.Timestamp</code>可能会被转换为<code>int</code></p>
</li>
</ul>
</li>
</ul>
<h4 id="combine-first"><a href="#combine-first" class="headerlink" title="combine_first"></a><code>combine_first</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ser = ser1.combine_first(other(Ser))</span><br><span class="line">Df = df1.combine_first(other(DF))</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：和其他DF/Ser进行元素级别的combine，即填充<strong>NULL</strong>
元素<ul>
<li>元素级别</li>
<li>返回对象包含所有的index</li>
</ul>
</li>
</ul>
<h3 id="增、删"><a href="#增、删" class="headerlink" title="增、删"></a>增、删</h3><h4 id="drop"><a href="#drop" class="headerlink" title="drop"></a><code>drop</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DF/<span class="literal">None</span> = df1.drop(</span><br><span class="line">	labels=<span class="literal">None</span>/label/[labels],</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>/<span class="string">&quot;index&quot;</span>/<span class="string">&quot;columns&quot;</span>,</span><br><span class="line">	index=<span class="literal">None</span>/index_name/[index_names],</span><br><span class="line">	columns=<span class="literal">None</span>/col_name/[col_names],</span><br><span class="line">	level=<span class="literal">None</span>/<span class="built_in">int</span>/level_name,</span><br><span class="line">	inplace=<span class="literal">False</span>,</span><br><span class="line">	errors==<span class="string">&quot;Raise/ignore&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：删除df1某轴上的labels</p>
</li>
<li><p>参数</p>
<ul>
<li><code>columns</code>/<code>index</code>：替代<code>axis</code>+<code>label</code>指定需要删除的
列/行</li>
</ul>
</li>
</ul>
<h4 id="new-col-name"><a href="#new-col-name" class="headerlink" title="[new_col_name]"></a><code>[new_col_name]</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1[new_col_name] = <span class="built_in">list</span></span><br><span class="line">df1.loc[new_index_name] = <span class="built_in">list</span></span><br></pre></td></tr></table></figure>
<ul>
<li>说明：添加新列/行<ul>
<li><code>.iloc[new_index_name]</code>不可用</li>
</ul>
</li>
</ul>
<h4 id="append"><a href="#append" class="headerlink" title="append"></a><code>append</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.append(</span><br><span class="line">	other(DF/Ser/<span class="built_in">dict</span>/[]),</span><br><span class="line">	ignore_index=<span class="literal">False</span>,</span><br><span class="line">	verify_integrity=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：将<code>other</code>行追加到df1</li>
</ul>
<h4 id="del"><a href="#del" class="headerlink" title="del"></a><code>del</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> df1[col_name]</span><br><span class="line">	<span class="comment"># python自身语法直接删除某列</span></span><br></pre></td></tr></table></figure>
<h2 id="形、态变换"><a href="#形、态变换" class="headerlink" title="形、态变换"></a>形、态变换</h2><h3 id="形状"><a href="#形状" class="headerlink" title="形状"></a>形状</h3><h4 id="stack"><a href="#stack" class="headerlink" title="stack"></a><code>stack</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DF/Ser = df1.stack(</span><br><span class="line">	level=-<span class="number">1</span>/<span class="built_in">int</span>,</span><br><span class="line">	dropna=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：<strong>旋转</strong><code>level</code>级列索引</p>
</li>
<li><p>参数</p>
<ul>
<li><code>dropna</code>：默认剔除返回DF/Ser对象中NULL行</li>
</ul>
</li>
</ul>
<h4 id="unstack"><a href="#unstack" class="headerlink" title="unstack"></a><code>unstack</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DF/Ser = df1.unstack(</span><br><span class="line">	level=-<span class="number">1</span>/<span class="built_in">int</span>,</span><br><span class="line">	fill_value=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：<strong>旋转</strong><code>level</code>级行索引</p>
</li>
<li><p>参数</p>
<ul>
<li><code>fill_value</code>：替换NaN的值</li>
</ul>
</li>
<li><p>其他</p>
<ul>
<li>两个函数好像都有排序操作，<code>df1.unstack().stack()</code>会
合并层级索引</li>
</ul>
</li>
</ul>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><h4 id="sort-index"><a href="#sort-index" class="headerlink" title="sort_index"></a><code>sort_index</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.sort_index(</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>,</span><br><span class="line">	level=<span class="literal">None</span>/<span class="built_in">int</span>/<span class="built_in">str</span>,</span><br><span class="line">	ascending=<span class="literal">True</span>,</span><br><span class="line">	inplace=<span class="literal">False</span>,</span><br><span class="line">	kind=<span class="string">&quot;Quicksort&quot;</span>/<span class="string">&quot;mergesort&quot;</span>/<span class="string">&quot;heapsort&quot;</span>,</span><br><span class="line">	na_position=<span class="string">&quot;First&quot;</span>/<span class="string">&quot;last&quot;</span>,</span><br><span class="line">	sort_remaining=<span class="literal">True</span>/<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：按照labels排序</p>
</li>
<li><p>参数</p>
<ul>
<li><code>kind</code>：排序方法</li>
<li><code>na_position</code>：默认将NaN放在开头<ul>
<li>对多重索引无效</li>
</ul>
</li>
<li><code>sort_remaining</code>：默认依次对剩余层级排序</li>
</ul>
</li>
</ul>
<h4 id="sort-value"><a href="#sort-value" class="headerlink" title="sort_value"></a><code>sort_value</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.sort_value(</span><br><span class="line">	by(label/[labels]),</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>,</span><br><span class="line">	ascending=<span class="literal">True</span>/<span class="literal">False</span>,</span><br><span class="line">	inplace=<span class="literal">False</span>,</span><br><span class="line">	kind=<span class="string">&quot;Quicksort&quot;</span>/<span class="string">&quot;mergesort&quot;</span>/<span class="string">&quot;heapsort&quot;</span>,</span><br><span class="line">	na_position=<span class="string">&quot;Last&quot;</span>/<span class="string">&quot;first&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：依某labels（行、列）值排列</li>
</ul>
<h4 id="rank"><a href="#rank" class="headerlink" title="rank"></a><code>rank</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.rank(</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>,</span><br><span class="line">	method=<span class="string">&quot;Average&quot;</span>/<span class="string">&quot;min&quot;</span>/<span class="string">&quot;max&quot;</span>/<span class="string">&quot;first&quot;</span>/<span class="string">&quot;dense&quot;</span>,</span><br><span class="line">	numeric_only=<span class="literal">None</span>/<span class="literal">True</span>/<span class="literal">False</span>,</span><br><span class="line">	na_option=<span class="string">&quot;Keep&quot;</span>/<span class="string">&quot;top&quot;</span>/<span class="string">&quot;bottom&quot;</span>,</span><br><span class="line">	ascending=<span class="literal">True</span>,</span><br><span class="line">	pct=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：沿轴计算数值型数据的rank</p>
<ul>
<li>rank值相同者取rank值平均</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>method</code><ul>
<li><code>average</code>：组（延轴分组）rank平均</li>
<li><code>min</code>/<code>max</code>：组内最小/大</li>
<li><code>first</code>：label出现顺序优先</li>
<li><code>dense</code>：类似<code>min</code>，但是rank值总是增加1</li>
</ul>
</li>
<li><code>numeric_only</code>：默认不考虑<strong>含有</strong>非数值型数据label<ul>
<li>但是文档上确实写默认值为<code>None</code></li>
</ul>
</li>
<li><code>na_option</code><ul>
<li><code>keep</code>：NaN值rank值不变</li>
<li><code>top</code>：NaN作为“小”值</li>
<li><code>bottom</code>：NaN作为“大”值</li>
</ul>
</li>
<li><code>ascending</code>：默认小值rank值小</li>
<li><code>pct</code>：默认不计算rank值占比</li>
</ul>
</li>
</ul>
<h4 id="take"><a href="#take" class="headerlink" title="take"></a><code>take</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.take(</span><br><span class="line">	indices([indice]),</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>,</span><br><span class="line">	covert=<span class="literal">True</span>,</span><br><span class="line">	is_copy=<span class="literal">True</span>,</span><br><span class="line">	**kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：按照indices对应的labels顺序返回DF</p>
</li>
<li><p>参数</p>
<ul>
<li><code>indices</code>：指明返回indices、及其顺序<ul>
<li>indices是指行数，不是labels</li>
<li>可以为负值indice，类似list</li>
</ul>
</li>
<li><code>convert</code>：是否处理负值indice（将废除，均处理）</li>
<li><code>is_copy</code>：默认创建副本返回</li>
</ul>
</li>
</ul>
<h4 id="reindex"><a href="#reindex" class="headerlink" title="reindex"></a><code>reindex</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.reindex(</span><br><span class="line">	labels=<span class="literal">None</span>/[labels]/Index,</span><br><span class="line">	index=<span class="literal">None</span>/[labels]/Index,</span><br><span class="line">	columns=<span class="literal">None</span>/[labels],</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>/<span class="string">&quot;index&quot;</span>/<span class="string">&quot;columns&quot;</span>,</span><br><span class="line">	method=<span class="literal">None</span>/<span class="string">&quot;backfill&quot;</span>/<span class="string">&quot;bfill&quot;</span>/<span class="string">&quot;pad&quot;</span>/<span class="string">&quot;ffill&quot;</span>/<span class="string">&quot;nearest&quot;</span>,</span><br><span class="line">	copy=<span class="literal">True</span>/<span class="literal">False</span>,</span><br><span class="line">	level=<span class="literal">None</span>/<span class="built_in">int</span>/level_name,</span><br><span class="line">	fill_value=NaN/scalar,</span><br><span class="line">	limit=<span class="literal">None</span>/limit,</span><br><span class="line">	tolerance=scalar/array-like)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：将DF对象转换有其他Index的对象</p>
<ul>
<li>可以包含之前没有的labels</li>
<li>类似于labels版本<code>.take</code>，是<strong>选择</strong>不是重命名</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>labels</code>：新Index，配合<code>axis</code>决定替换轴</li>
<li><code>index</code>/<code>columns</code>：两根轴的Index</li>
<li><code>method</code>：新labels值填补方法<ul>
<li>用于填补的值不一定会出现在返回DF对象中，可能是
使用原DF对象中未被选择labels</li>
</ul>
</li>
<li><code>copy</code>：默认拷贝副本</li>
<li><code>fill_value</code>：新labels值填补值</li>
<li><code>limit</code>：允许最长连续使用<code>method</code>方法填补值</li>
<li><code>tolerance</code>：使用<code>method</code>方法填补新labels值时，用于
填补labels和新labels的最大差距<ul>
<li>超过<code>tolerance</code>则为默认NaN</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h2><h3 id="简单统计"><a href="#简单统计" class="headerlink" title="简单统计"></a>简单统计</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Ser = df1.<span class="built_in">sum</span>(</span><br><span class="line">	level=<span class="literal">None</span>/<span class="number">0</span>/<span class="number">1</span>,</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">Ser = df1.mean(</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">Ser = df1.std(</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">DF = df1.describe()</span><br><span class="line"></span><br><span class="line">DF = df1.corr()</span><br><span class="line"></span><br><span class="line">DF = df1.cov()</span><br><span class="line"></span><br><span class="line"><span class="built_in">float</span> = ser1.corr(</span><br><span class="line">	ser1)</span><br><span class="line"></span><br><span class="line">Ser = df1.corwith(</span><br><span class="line">	other(DF/Ser),</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>,</span><br><span class="line">	drop=<span class="literal">False</span>/<span class="literal">True</span>)</span><br><span class="line">	<span class="comment"># `other`为DF对象时计算相同名称相关系数</span></span><br></pre></td></tr></table></figure>
<h4 id="value-count"><a href="#value-count" class="headerlink" title="value_count"></a><code>value_count</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Ser = pd.value_counts(</span><br><span class="line">	values(ndarray(1d)),</span><br><span class="line">	sort=<span class="literal">True</span>/<span class="literal">False</span>,</span><br><span class="line">	ascending=<span class="literal">False</span>/<span class="literal">True</span>,</span><br><span class="line">	normalize=<span class="literal">False</span>/<span class="literal">True</span>,</span><br><span class="line">	bins=<span class="literal">None</span>/<span class="built_in">int</span>/[num],</span><br><span class="line">	dropna=<span class="literal">True</span>/<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：计算hisgram</p>
</li>
<li><p>参数</p>
<ul>
<li><code>sort</code>：默认按值排序</li>
<li><code>normalize</code>：默认不正则化（计算相对histgram）</li>
<li><code>bins</code>：hisgrams划分bins<ul>
<li>默认每个值划分为一个bins</li>
<li>给出<code>int</code>时表示数目，<code>(min, max]</code>均等分</li>
<li>给出<code>[num]</code>计算列表内数量（范围外不考虑）</li>
</ul>
</li>
<li><code>dropna</code>：默认不计算NaN值个数</li>
</ul>
</li>
</ul>
<h4 id="quantile"><a href="#quantile" class="headerlink" title="quantile"></a><code>quantile</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Ser/DF = df1.quantile(</span><br><span class="line">	q=<span class="number">0.5</span>/<span class="built_in">float</span>/[<span class="built_in">float</span>],</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>/<span class="string">&quot;index&quot;</span>/<span class="string">&quot;columns&quot;</span>,</span><br><span class="line">	numeric_only=<span class="literal">True</span>,</span><br><span class="line">	interpolation=<span class="string">&quot;linear&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：计算<code>q</code>分位数</p>
</li>
<li><p>参数</p>
<ul>
<li><code>q</code>：分位，可以是列表，计算多个分位数</li>
<li><code>interpolation</code>：分位数计算方式（分位数位i、j间）<ul>
<li><code>linear</code>：<code>i+(j-i)*fraction</code>（线性回归）</li>
<li><code>low</code>：<code>i</code></li>
<li><code>high</code>：<code>i+1</code></li>
<li><code>nearest</code>：<code>i</code>、<code>i+1</code>中近者</li>
<li><code>midpoint</code>：(<code>i</code>+<code>j</code>)/2</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="元素级"><a href="#元素级" class="headerlink" title="元素级"></a>元素级</h2><h3 id="Apply"><a href="#Apply" class="headerlink" title="Apply"></a>Apply</h3><h4 id="apply"><a href="#apply" class="headerlink" title="apply"></a><code>apply</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DF/Ser = df1.apply(</span><br><span class="line">	func(func/&#123;label: func&#125;),</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>/<span class="string">&quot;index&quot;</span>/<span class="string">&quot;columns&quot;</span>,</span><br><span class="line">	broadcast=<span class="literal">False</span>,</span><br><span class="line">	raw=<span class="literal">False</span>,</span><br><span class="line">	reduce=<span class="literal">None</span>/<span class="literal">True</span>/<span class="literal">False</span>,</span><br><span class="line">	args=(),</span><br><span class="line">	**kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：对<code>df1</code>沿轴方向labels应用func</p>
<ul>
<li>可以用于DFGB对象<ul>
<li>为聚合函数时返回DF对象Index为groupby键，类似于
<code>agg</code></li>
<li>非聚合函数时返回DF对象为原Index，类似于
<code>transform</code>，但包含用于groupby的label</li>
<li>但是此时其他参数无法使用，<code>func</code>也仅能为单一
function，而<code>agg</code>可以使用各种</li>
</ul>
</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>broadcast</code>：仅对aggregation（聚合）函数，默认不保持
原shape<ul>
<li>0.23.0 deprecated</li>
</ul>
</li>
<li><code>raw</code>：默认不是将label作为ndarray对象传递，而是保持
Series对象<ul>
<li>如果函数处理nadarry对象，<code>True</code>性能更好</li>
</ul>
</li>
<li><code>reduce</code>：默认根据函数判断是否返回DF<ul>
<li><code>False</code>：尽量返回DF对象</li>
<li>0.23.0 deprecated</li>
</ul>
</li>
<li><code>result_type</code><ul>
<li><code>expand</code>：返回DF对象</li>
<li><code>reduce</code>：尽量返回Ser对象</li>
<li><code>broadcast</code>：保持原shape返回</li>
<li>0.23.0 new</li>
</ul>
</li>
<li><code>args</code>：传递给<code>func</code>的VAR_POSITIONs</li>
<li><code>kwargs</code>：传递给<code>func</code>的VAR_KEYWORDs</li>
</ul>
</li>
</ul>
<h4 id="agg"><a href="#agg" class="headerlink" title="agg"></a><code>agg</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.agg(</span><br><span class="line">	func(<span class="built_in">callable</span>/<span class="string">&quot;func_name&quot;</span>(<span class="built_in">str</span>)/&#123;label:func&#125;/[],</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>/<span class="string">&quot;index&quot;</span>/<span class="string">&quot;columns&quot;</span>,</span><br><span class="line">	*args,</span><br><span class="line">	**kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：聚合</p>
<ul>
<li>可以用于DFGB，必然返回DF，因此要求函数<strong>结果</strong>必须
聚合<ul>
<li>如果分组结果都只有单个label，函数可以非聚合</li>
<li>如果分结果中由多label分组，函数必须聚合</li>
</ul>
</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>func</code><ul>
<li>dict键应为column labels，值为function</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="transform"><a href="#transform" class="headerlink" title="transform"></a><code>transform</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DF = df1/dfgb1.transform(</span><br><span class="line">	func(<span class="built_in">callable</span>/<span class="string">&quot;func_name&quot;</span>(<span class="built_in">str</span>)/<span class="built_in">dict</span>/[]),</span><br><span class="line">	*args,</span><br><span class="line">	**kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：返回应用<code>func</code>处理后DF<ul>
<li>应用于DF对象时，等同于<code>axis=0</code>的<code>agg</code>、<code>apply</code></li>
<li>应用于DFGB对象时，无价值，和应用于原DF对象结果一样，
仅剔除groupby label</li>
</ul>
</li>
</ul>
<h3 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h3><h4 id="replace"><a href="#replace" class="headerlink" title="replace"></a><code>replace</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.replace(</span><br><span class="line">	to_replace=<span class="literal">None</span>/<span class="built_in">str</span>/regex/num/[]/&#123;&#125;/Series,</span><br><span class="line">	value=<span class="literal">None</span>/<span class="built_in">str</span>/num/[]/&#123;&#125;,</span><br><span class="line">	inplace=<span class="literal">False</span>,</span><br><span class="line">	limit=<span class="literal">None</span>/<span class="built_in">int</span>,</span><br><span class="line">	regex=<span class="literal">False</span>,</span><br><span class="line">	method=<span class="string">&quot;pad&quot;</span>/<span class="string">&quot;ffill&quot;</span>/<span class="string">&quot;bfill&quot;</span>/<span class="string">&quot;backfill&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：替换</p>
</li>
<li><p>参数</p>
<ul>
<li><code>to_replace</code>：<strong>被替换</strong>对象<ul>
<li>str/regex/num：匹配str/regex/num的值被替换为<code>value</code></li>
<li>[ ]<ul>
<li><code>value</code>也为list时，长度必须相同</li>
<li>str元素可看作regex</li>
</ul>
</li>
<li>{}<ul>
<li>nested dict顶层键匹配列label，然后应用对应
子dict进行匹配（此时包含<code>value</code>功能）</li>
<li>非顶层键可以为regex</li>
</ul>
</li>
<li>None：此时<code>regex</code>必为str/[]/{}/Ser</li>
</ul>
</li>
<li><code>value</code>：<strong>替换</strong>值<ul>
<li>str/num：替换值</li>
<li>{}：键匹配列label然后替换值，无匹配保持原样</li>
<li>[ ]：长度必须和<code>to_replace</code>相同</li>
</ul>
</li>
<li><code>limit</code>：允许最长连续bfill、ffill替换</li>
<li><code>regex</code><ul>
<li>为<code>True</code>时，<code>to_replace</code>、<code>value</code>将作为regex</li>
<li>代替<code>to_replace</code>作regex替换</li>
</ul>
</li>
<li><code>method</code>：<code>to_replace</code>为list时替换方法</li>
</ul>
</li>
<li><p>说明</p>
<ul>
<li><code>to_replace</code>为{regex:str}时，只替换DF中str匹配的部分
，如果需要替换整个str，需要<code>^.*str.*$</code>匹配整个str</li>
<li>但为{regex:int}时，不需要<code>^.*str.*$</code>也会匹配整个str
并替换为int</li>
</ul>
</li>
</ul>
<h4 id="where"><a href="#where" class="headerlink" title="where"></a><code>where</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">df = df1.where(</span><br><span class="line">	cond(df(<span class="built_in">bool</span>)/<span class="built_in">callable</span>/[]),</span><br><span class="line">	other=num/df/<span class="built_in">callable</span>,</span><br><span class="line">	inplace=false,</span><br><span class="line">	axis=none,</span><br><span class="line">	level=none,</span><br><span class="line">	errors=<span class="string">&quot;raise&quot;</span>,</span><br><span class="line">	try_cast=<span class="literal">False</span>,</span><br><span class="line">	raise_on_error=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：mask <code>True</code>，替换<code>False</code>为<code>other</code>值，默认（<code>other</code>
中无法找到对应值）NaN</p>
<ul>
<li><code>cond</code>、<code>other</code>是按照<code>[index][col]</code>对应位置，而不是
打印位置</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>cond</code><ul>
<li>DF(bool)：<code>True</code>保持原值不变，<code>False</code>从<code>other</code>
替换</li>
<li>callable：应用在<code>df1</code>上，返回DF(bool)，不应改变
`df</li>
<li><code>cond</code>不提供位置视为被替换1`</li>
</ul>
</li>
<li><code>other</code><ul>
<li>num：替换为num</li>
<li>DF：替换值</li>
<li>callable：应用在<code>df1</code>上，返回DF用于替换</li>
</ul>
</li>
<li><code>axis</code>：alignment axis if needed</li>
<li><code>level</code>：alignemnt level if needed</li>
<li><code>errors</code><ul>
<li><code>raise</code>：允许raise exceptions</li>
<li><code>ignore</code>：suppress exceptions，错误时返回原对象</li>
</ul>
</li>
<li><code>try_cast</code>：默认不尝试将结果cast为原输入</li>
</ul>
</li>
</ul>
<h4 id="mask"><a href="#mask" class="headerlink" title="mask"></a><code>mask</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.mask(</span><br><span class="line">	cond(DF(<span class="built_in">bool</span>)/<span class="built_in">callable</span>/[]),</span><br><span class="line">	other=num/DF/<span class="built_in">callable</span>,</span><br><span class="line">	inplace=<span class="literal">False</span>,</span><br><span class="line">	axis=<span class="literal">None</span>,</span><br><span class="line">	level=<span class="literal">None</span>,</span><br><span class="line">	errors=<span class="string">&quot;raise&quot;</span>,</span><br><span class="line">	try_cast=<span class="literal">False</span>,</span><br><span class="line">	raise_on_error=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：<code>True</code>、<code>False</code> mask规则同<code>where</code>相反，其他同</li>
</ul>
<h3 id="筛选"><a href="#筛选" class="headerlink" title="筛选"></a>筛选</h3><h4 id="isin"><a href="#isin" class="headerlink" title="isin"></a><code>isin</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.isin(</span><br><span class="line">	values(iterable/&#123;&#125;/DF))</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：判断元素是否存在于<code>values</code>中</p>
</li>
<li><p>参数</p>
<ul>
<li><code>values</code><ul>
<li>iterable：元素在iterable中为<code>True</code></li>
<li>{}：<code>df1</code>元素在dict中对应键<strong>值</strong>中存在为<code>True</code></li>
<li>DF：<code>df1</code>元素在DF对应index、columns labels存在
才为<code>True</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><h4 id="to-numeric"><a href="#to-numeric" class="headerlink" title="to_numeric"></a><code>to_numeric</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Ser = pd.to_numeric(</span><br><span class="line">	arg([]/()/ndarray(1d)/Ser),</span><br><span class="line">	errors=<span class="string">&quot;Raise&quot;</span>/<span class="string">&quot;ingore&quot;</span>/<span class="string">&quot;coerce&quot;</span>,</span><br><span class="line">	downcast=<span class="literal">None</span>/<span class="string">&quot;integer&quot;</span>/<span class="string">&quot;signed&quot;</span>/<span class="string">&quot;unsigned&quot;</span>/<span class="string">&quot;float&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：转换为numeric类型</p>
</li>
<li><p>参数</p>
<ul>
<li><code>errors</code><ul>
<li><code>raise</code>：无效值将raise exception</li>
<li><code>coerce</code>：无效值设为NaN</li>
<li><code>ignore</code>：无效值保持原样</li>
</ul>
</li>
<li><code>downcast</code>：根据参数downcast值为“最小”类型<ul>
<li>downcast过程中exception不受<code>errors</code>影响</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="to-datetime"><a href="#to-datetime" class="headerlink" title="to_datetime"></a><code>to_datetime</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Ser = pd.to_datetime(</span><br><span class="line">	arg(<span class="built_in">int</span>/<span class="built_in">float</span>/<span class="built_in">str</span>/datetime/[]/()/ndarray(1d)/Ser/DF,</span><br><span class="line">	error=<span class="string">&quot;Raise&quot;</span>/<span class="string">&quot;ignore&quot;</span>/<span class="string">&quot;coerce&quot;</span>,</span><br><span class="line">	dayfirst=<span class="literal">False</span>,</span><br><span class="line">	yearfirst=<span class="literal">False</span>,</span><br><span class="line">	utc=<span class="literal">None</span>/<span class="literal">True</span>,</span><br><span class="line">	box=<span class="literal">True</span>/<span class="literal">False</span>,</span><br><span class="line">	<span class="built_in">format</span>=<span class="literal">None</span>/<span class="built_in">str</span>,</span><br><span class="line">	exact=<span class="literal">True</span>,</span><br><span class="line">	unit=<span class="string">&quot;ns&quot;</span>/<span class="string">&quot;D&quot;</span>/<span class="string">&quot;s&quot;</span>/<span class="string">&quot;ms&quot;</span>/<span class="string">&quot;us&quot;</span>/<span class="string">&quot;ns&quot;</span>,</span><br><span class="line">	infer_datatime_format=<span class="literal">False</span>,</span><br><span class="line">	origin=<span class="string">&quot;unit&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：转换为datetime</p>
</li>
<li><p>参数</p>
<ul>
<li><code>dayfirst</code>：处理类”10/11/12”，设置day在前</li>
<li><code>yearfirst</code>：处理类”10/11/12”，设置year在前</li>
<li><code>utc</code>：默认不返回UTC DatatimeIndex</li>
<li><code>box</code><ul>
<li><code>True</code>：返回DatetimeIndex</li>
<li><code>False</code>：返回ndarray值</li>
</ul>
</li>
<li><code>format</code>：parse格式，如”%d/%m/%y %H:%M:%S”</li>
<li><code>exact</code>：默认要求<code>arg</code>精确匹配<code>format</code></li>
<li><code>unit</code>：<code>arg</code>传递数值时作为单位</li>
<li><code>infer_datatime_format</code>：在<code>format</code>为<code>None</code>时，尝试
猜测格式，并选择最快的方式parse，耗时5~10倍</li>
<li><code>origin</code>：决定参考（起始）时间<ul>
<li><code>unix</code>：起始时间：1970-01-01</li>
<li><code>julian</code>：4714 BC 1.1（此时<code>unit</code>必须为<code>D</code>）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="infer-objects"><a href="#infer-objects" class="headerlink" title="infer_objects"></a><code>infer_objects</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.infer_objects()</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：soft转换数据类型，无法转换保持原样</li>
</ul>
<h4 id="astype"><a href="#astype" class="headerlink" title="astype"></a><code>astype</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DF = df.astype(</span><br><span class="line">	dtype(dtype/&#123;col_name:dtype&#125;),</span><br><span class="line">	copy=<span class="literal">True</span>,</span><br><span class="line">	errors=<span class="string">&quot;raise&quot;</span>/<span class="string">&quot;ingore&quot;</span>,</span><br><span class="line">	**kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：强制转换为<code>dtype</code>类型</p>
</li>
<li><p>参数</p>
<ul>
<li><code>copy</code>：默认返回拷贝</li>
<li><code>kwargs</code>：传递给构造函数的参数</li>
</ul>
</li>
</ul>
<h3 id="Ser"><a href="#Ser" class="headerlink" title="Ser"></a>Ser</h3><h4 id="map"><a href="#map" class="headerlink" title="map"></a><code>map</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Ser = ser1.<span class="built_in">map</span>(</span><br><span class="line">	arg=&#123;&#125;/Ser/<span class="built_in">callable</span>,</span><br><span class="line">	na_action=<span class="literal">None</span>/<span class="string">&quot;ignore&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：对Ser中元素进行映射</p>
<ul>
<li><strong>map</strong>对无法<strong>配置</strong>（dict）返回None而不是保持不变</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>arg</code><ul>
<li>{}：对Ser中值根据键值对映射</li>
<li>callable：对元素<strong>应用</strong>callable</li>
</ul>
</li>
<li><code>no_action</code>：默认对NA也处理，否则忽略</li>
</ul>
</li>
<li><p>其他</p>
<ul>
<li>好像默认会应用类似于<code>apply(convert_type=True)</code>，如
直接取值是<code>np.float64</code>类型，传给函数就变成了<code>float</code>
类型</li>
</ul>
</li>
</ul>
<h4 id="apply-1"><a href="#apply-1" class="headerlink" title="apply"></a><code>apply</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Ser = ser1.apply(</span><br><span class="line">	func(<span class="built_in">callable</span>/&#123;&#125;/[]),</span><br><span class="line">	convert_type=<span class="literal">True</span>/<span class="literal">False</span>,</span><br><span class="line">	args=(),</span><br><span class="line">	**kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：在Ser上应用<code>func</code></p>
</li>
<li><p>参数</p>
<ul>
<li><p><code>func</code></p>
<ul>
<li>{}：返回<strong>多重索引</strong>Ser，键作为顶层索引，不是对
不同值应用不同方法</li>
<li>[ ]：返回DF对象，列labels根据list元素命令，list
元素不能聚合、非聚合混合</li>
</ul>
</li>
<li><p><code>convert_type</code>：默认转换为合适的类型，否则设为
<code>dtype=object</code></p>
</li>
</ul>
</li>
</ul>
<h4 id="agg-1"><a href="#agg-1" class="headerlink" title="agg"></a><code>agg</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Ser = ser1.agg(</span><br><span class="line">	func(<span class="built_in">callable</span>/&#123;&#125;/[]),</span><br><span class="line">	axis=<span class="number">0</span>,</span><br><span class="line">	args=(),</span><br><span class="line">	**kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：好像和<code>apply</code>完全相同，只是参数不同，但<code>axis</code>没用</li>
</ul>
<h2 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h2><h4 id="cut"><a href="#cut" class="headerlink" title="cut"></a><code>cut</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Ser = pd.cut(</span><br><span class="line">	x(array-like),</span><br><span class="line">	bins(<span class="built_in">int</span>/[num]/IntervalIndex),</span><br><span class="line">	right=<span class="literal">True</span>,</span><br><span class="line">	labels=<span class="literal">None</span>/[],</span><br><span class="line">	retbins=<span class="literal">False</span>,</span><br><span class="line">	precision=<span class="number">3</span>/<span class="built_in">int</span>,</span><br><span class="line">	include_lowest=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：返回各个元素所属区间，同时也是对应indice</p>
</li>
<li><p>参数</p>
<ul>
<li><code>bins</code>：左开右闭<ul>
<li>int：将<code>x</code>等分（事实上为了包含最小值，<code>bins</code>
左边界会扩展.1%）</li>
<li>[num]：定义<code>bins</code>边界</li>
</ul>
</li>
<li><code>right</code>：默认包含right-most边界</li>
<li><code>labels</code>：指定生成bins的labels</li>
<li><code>retbins</code>：默认不返回bins，设为<code>True</code>将返回tuple</li>
<li><code>precision</code>：bins labels显示精度</li>
<li><code>include_lowest</code>：第一个bin是否应该包括最小值<ul>
<li>应该仅对<code>bins=[]</code>有效</li>
<li>设为<code>True</code>仍然为左开右闭区间，但是左边界会小于
<code>bins=[]</code>中的最小值</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="qcut"><a href="#qcut" class="headerlink" title="qcut"></a><code>qcut</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Ser = pd.qcut(</span><br><span class="line">	x(array-like),</span><br><span class="line">	q=<span class="built_in">int</span>/quantile_list,</span><br><span class="line">	labels=<span class="literal">None</span>,</span><br><span class="line">	retbins=<span class="literal">False</span>,</span><br><span class="line">	precision=<span class="number">3</span>,</span><br><span class="line">	duplicates=<span class="string">&quot;Raise&quot;</span>/<span class="string">&quot;drop&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：将<code>x</code>按照<code>q</code>划分分位数后进组（即按照数量分组）</p>
</li>
<li><p>参数</p>
<ul>
<li><code>q</code><ul>
<li>int：划分int个等分位数</li>
<li>[num]：将<code>x</code>元素按照给出<strong>分位数</strong>分组</li>
</ul>
</li>
<li><code>duplicates</code><ul>
<li><code>raise</code>：bins边缘不唯一raise exception</li>
<li><code>drop</code>：bins边缘不唯一则丢弃不唯一值</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="groupby"><a href="#groupby" class="headerlink" title="groupby"></a><code>groupby</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DFGB = df1.groupby(</span><br><span class="line">	by(col_name),</span><br><span class="line">	axis=<span class="number">0</span>,</span><br><span class="line">	level=<span class="literal">None</span>,</span><br><span class="line">	as_index=<span class="literal">True</span>,</span><br><span class="line">	sort=<span class="literal">True</span>,</span><br><span class="line">	group_keys=<span class="literal">True</span>,</span><br><span class="line">	squeeze=<span class="literal">False</span>,</span><br><span class="line">	**kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：根据<code>by</code>对DF分组</p>
</li>
<li><p>参数</p>
<ul>
<li><code>by</code><ul>
<li>func：应用于DF的Index上，结果作分组依据</li>
<li>dict/Ser：对Index作映射，映射结果作分组依据</li>
<li>array-like：其值依顺序标记DF行，据此分组，因此
要求长度必须和DF行数相同</li>
<li>col_name/[col_name]：根据col_name分组</li>
</ul>
</li>
<li><code>as_index</code>：默认使用分组依据作为分组Index（labels）</li>
<li><code>sort</code>：默认组内各保持原DF顺序，可以关闭获得更好性能</li>
<li><code>group_keys</code>：默认在calling apply时，添加group键用于
标识各组</li>
<li><code>squeeze</code>：为<code>True</code>时尽可能减少返回值维度，否则返回
consistent type</li>
</ul>
</li>
</ul>
<h2 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h2><h3 id="Index值"><a href="#Index值" class="headerlink" title="Index值"></a>Index值</h3><h4 id="pivot"><a href="#pivot" class="headerlink" title="pivot"></a><code>pivot</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.pivot(</span><br><span class="line">	index=<span class="literal">None</span>/<span class="built_in">str</span>,</span><br><span class="line">	columns=<span class="literal">None</span>/<span class="built_in">str</span>,</span><br><span class="line">	values=<span class="literal">None</span>/<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：根据某列值reshape数据（创建一个<strong>枢</strong>）</p>
</li>
<li><p>参数</p>
<ul>
<li><code>index</code>：用作Index的列名，默认Index</li>
<li><code>columns</code>：用作Column的列名</li>
<li><code>values</code>：填充进新DF对象的列名，默认所有剩余所有列
（列索引为层级索引）</li>
</ul>
</li>
<li><p>其他</p>
<ul>
<li>但是如果选取的两列元素两两组合有重复回报错</li>
</ul>
</li>
</ul>
<h4 id="set-index"><a href="#set-index" class="headerlink" title="set_index"></a><code>set_index</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.set_index(</span><br><span class="line">	keys(col_name/[ ]/[col_names,[ ]]),</span><br><span class="line">	drop=<span class="literal">True</span>,</span><br><span class="line">	append=<span class="literal">False</span>,</span><br><span class="line">	inplace=<span class="literal">False</span>,</span><br><span class="line">	verify_integrity=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：用一列/多列作为新DF的Index（row labels）</p>
</li>
<li><p>参数</p>
<ul>
<li><code>keys</code>：列名，列名列表</li>
<li><code>drop</code>：默认删除用作Index的列</li>
<li><code>append</code>：默认不保留原Index（不以<strong>添加</strong>方式设置
Index）</li>
<li><code>verify_integrity</code>：默认不检查新Index是否唯一，直至
必要的时候</li>
</ul>
</li>
</ul>
<h4 id="reset-index"><a href="#reset-index" class="headerlink" title="reset_index"></a><code>reset_index</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.reset_index(</span><br><span class="line">	level=<span class="literal">None</span>/<span class="built_in">int</span>/<span class="built_in">str</span>/[<span class="built_in">int</span>, <span class="built_in">str</span>],</span><br><span class="line">	drop=<span class="literal">False</span>,</span><br><span class="line">	inplace=<span class="literal">False</span>,</span><br><span class="line">	col_level=<span class="number">0</span>/<span class="built_in">int</span>/<span class="built_in">str</span>,</span><br><span class="line">	col_fill=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：</p>
</li>
<li><p>参数</p>
<ul>
<li><code>level</code>：默认所有层级</li>
<li><code>drop</code>：默认将Index作为一列添加</li>
<li><code>col_level</code>：Index作为列添加进的列索引层次，默认
最高层</li>
<li><code>col_fill</code>：对于多级索引，Index作为列添加时其他层级
的命名，默认xtts </li>
</ul>
</li>
<li><p>其他</p>
<ul>
<li>Index作为新列的名称默认为”index”/“level_0”、
“level_1”等</li>
</ul>
</li>
</ul>
<h3 id="Index属性"><a href="#Index属性" class="headerlink" title="Index属性"></a>Index属性</h3><h4 id="swaplevel"><a href="#swaplevel" class="headerlink" title="swaplevel"></a><code>swaplevel</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DF = df.swaplevel(</span><br><span class="line">	i=-<span class="number">2</span>/<span class="built_in">int</span>/<span class="built_in">str</span>,</span><br><span class="line">	j=-<span class="number">1</span>/<span class="built_in">int</span>/<span class="built_in">str</span>,</span><br><span class="line">	axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：交换i、j两层索引</li>
</ul>
<h4 id="rename"><a href="#rename" class="headerlink" title="rename"></a><code>rename</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DF = df.rename(</span><br><span class="line">	mapper=<span class="literal">None</span>/<span class="built_in">dict</span>/func,</span><br><span class="line">	index=<span class="literal">None</span>/<span class="built_in">dict</span>/func,</span><br><span class="line">	columns=<span class="literal">None</span>/<span class="built_in">dict</span>/func,</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>/<span class="string">&quot;index&quot;</span>/<span class="string">&quot;columns&quot;</span>,</span><br><span class="line">	copy=<span class="literal">True</span>,</span><br><span class="line">	inplace=<span class="literal">False</span>,</span><br><span class="line">	level=<span class="literal">None</span>/<span class="built_in">int</span>/<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：修改labels（行、列名）</p>
</li>
<li><p>参数</p>
<ul>
<li><code>mapper</code>：labels的重命名规则</li>
<li><code>index</code>/<code>columns</code>：行、列labels重命名规则<ul>
<li><code>mapper</code>+<code>axis</code></li>
<li><code>index</code></li>
<li><code>columns</code></li>
</ul>
</li>
<li><code>copy</code>：默认复制数据<ul>
<li><code>inplace</code>为<code>True</code>时，此参数无效</li>
</ul>
</li>
<li><code>level</code>：默认重命名所有level</li>
</ul>
</li>
</ul>
<h4 id="add-prefix"><a href="#add-prefix" class="headerlink" title="add_prefix"></a><code>add_prefix</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DF = df.add_prefix(</span><br><span class="line">	prefix(<span class="built_in">str</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：为列labels添加前缀</li>
</ul>
<h2 id="特殊值"><a href="#特殊值" class="headerlink" title="特殊值"></a>特殊值</h2><h3 id="重复"><a href="#重复" class="headerlink" title="重复"></a>重复</h3><h4 id="unique"><a href="#unique" class="headerlink" title="unique"></a><code>unique</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> = ser1.is_unique</span><br><span class="line">	<span class="comment"># 无重复元素**属性**为`True`</span></span><br><span class="line">Ser = ser1.unique()</span><br><span class="line">	<span class="comment"># 返回非重复元素</span></span><br></pre></td></tr></table></figure>
<h4 id="duplicated"><a href="#duplicated" class="headerlink" title="duplicated"></a><code>duplicated</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Ser(<span class="built_in">bool</span>) = df1.duplicated(</span><br><span class="line">	subset=<span class="literal">None</span>/label/[labels],</span><br><span class="line">	keep=<span class="string">&quot;First&quot;</span>/<span class="string">&quot;last&quot;</span>/<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：返回标识“副本（元素相同）”行的Ser(bool)</p>
</li>
<li><p>参数</p>
<ul>
<li><code>subset</code>：默认检查所有列，否则检查指定列</li>
<li><code>keep</code><ul>
<li><code>first</code>：重复者除第一个外标记为<code>True</code></li>
<li><code>last</code>：重复者除最后一个外标记为<code>True</code></li>
<li>False：重复者均标记为<code>True</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.drop_duplicates(</span><br><span class="line">	subset=<span class="literal">None</span>/label/[labels],</span><br><span class="line">	keep=<span class="string">&quot;First&quot;</span>/<span class="string">&quot;last&quot;</span>/<span class="literal">False</span>,</span><br><span class="line">	inplace=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<h3 id="空"><a href="#空" class="headerlink" title="空"></a>空</h3><h4 id="null"><a href="#null" class="headerlink" title="null"></a><code>null</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DF(<span class="built_in">bool</span>) = df1.isnull()</span><br><span class="line">DF(<span class="built_in">bool</span>) = df1.notnull()</span><br></pre></td></tr></table></figure>
<h4 id="dropna"><a href="#dropna" class="headerlink" title="dropna"></a><code>dropna</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.dropna(</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>,</span><br><span class="line">	how=<span class="string">&quot;Any&quot;</span>/<span class="string">&quot;all&quot;</span>,</span><br><span class="line">	thresh=<span class="literal">None</span>/<span class="built_in">int</span>,</span><br><span class="line">	subset=<span class="literal">None</span>/label/[labels],</span><br><span class="line">	inplace=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：剔除空labels（及其数据）</p>
</li>
<li><p>参数</p>
<ul>
<li><code>how</code>：默认any NaN值存在剔除label</li>
<li><code>thresh</code>：剔除label的NaN值阈值</li>
<li><code>subset</code>：指定考虑的labels</li>
</ul>
</li>
</ul>
<h4 id="fillna"><a href="#fillna" class="headerlink" title="fillna"></a><code>fillna</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.fillna(</span><br><span class="line">	value=<span class="literal">None</span>/scalar/<span class="built_in">dict</span>/Ser/DF,</span><br><span class="line">	method=<span class="literal">None</span>/<span class="string">&quot;backfill&quot;</span>/<span class="string">&quot;bfill&quot;</span>/<span class="string">&quot;pad&quot;</span>/<span class="string">&quot;ffill&quot;</span>,</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>/<span class="string">&quot;index&quot;</span>/<span class="string">&quot;columns&quot;</span>,</span><br><span class="line">	inplace=<span class="literal">False</span>,</span><br><span class="line">	limit=<span class="literal">None</span>/<span class="built_in">int</span>,</span><br><span class="line">	downcast=<span class="literal">None</span>/<span class="built_in">dict</span>,</span><br><span class="line">	**kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：填补NaN值</p>
</li>
<li><p>参数</p>
<ul>
<li><code>value</code>：用于填补NaN的值，dict-like时无法找到的NaN
不被填补</li>
<li><code>method</code><ul>
<li>“pad”/“ffill”：使用last（前一个）值填补</li>
<li>“bfill”/“backfill”：使用next（后一个）值填补</li>
</ul>
</li>
<li><code>limit</code>：填补允许的最大连续NaN值，超过部分保留NaN</li>
<li><code>downcast</code>：数据类型精度降级dict，或者<code>&quot;infer&quot;</code>由
自行推断</li>
</ul>
</li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="any"><a href="#any" class="headerlink" title="any"></a><code>any</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Ser = df1(<span class="built_in">bool</span>).<span class="built_in">any</span>(</span><br><span class="line">	axis=<span class="number">0</span>/<span class="number">1</span>/<span class="string">&quot;index&quot;</span>/<span class="string">&quot;columns&quot;</span>,</span><br><span class="line">	bool_only=<span class="literal">None</span>,</span><br><span class="line">	skipna=<span class="literal">True</span>,</span><br><span class="line">	level=<span class="literal">None</span>/<span class="built_in">int</span>/<span class="built_in">str</span>,</span><br><span class="line">	**kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：label（行、列）对应值存在真返回True</p>
</li>
<li><p>参数</p>
<ul>
<li><code>skipna</code>：默认skip NA，如果全label为NA则结果为NA</li>
<li><code>level</code>：默认考虑整个索引</li>
<li><code>bool_only</code>：默认将所有转换为bool值再做判断</li>
</ul>
</li>
</ul>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/tags/Python/page/7/">Previous</a></div><div class="pagination-next"><a href="/tags/Python/page/9/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/tags/Python/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/tags/Python/page/7/">7</a></li><li><a class="pagination-link is-current" href="/tags/Python/page/8/">8</a></li><li><a class="pagination-link" href="/tags/Python/page/9/">9</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">36</span></span></a><ul><li><a class="level is-mobile" href="/categories/Algorithm/Data-Structure/"><span class="level-start"><span class="level-item">Data Structure</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Heuristic/"><span class="level-start"><span class="level-item">Heuristic</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Issue/"><span class="level-start"><span class="level-item">Issue</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Problem/"><span class="level-start"><span class="level-item">Problem</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Specification/"><span class="level-start"><span class="level-item">Specification</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/C-C/"><span class="level-start"><span class="level-item">C/C++</span></span><span class="level-end"><span class="level-item tag">34</span></span></a><ul><li><a class="level is-mobile" href="/categories/C-C/Cppref/"><span class="level-start"><span class="level-item">Cppref</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/Cstd/"><span class="level-start"><span class="level-item">Cstd</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/MPI/"><span class="level-start"><span class="level-item">MPI</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/STL/"><span class="level-start"><span class="level-item">STL</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/CS/"><span class="level-start"><span class="level-item">CS</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/CS/Character/"><span class="level-start"><span class="level-item">Character</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Parallel/"><span class="level-start"><span class="level-item">Parallel</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Program-Design/"><span class="level-start"><span class="level-item">Program Design</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Storage/"><span class="level-start"><span class="level-item">Storage</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Daily-Life/"><span class="level-start"><span class="level-item">Daily Life</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Daily-Life/Maxism/"><span class="level-start"><span class="level-item">Maxism</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">27</span></span></a><ul><li><a class="level is-mobile" href="/categories/Database/Hadoop/"><span class="level-start"><span class="level-item">Hadoop</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/SQL-DB/"><span class="level-start"><span class="level-item">SQL DB</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/Spark/"><span class="level-start"><span class="level-item">Spark</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/Java/Scala/"><span class="level-start"><span class="level-item">Scala</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">42</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Bash-Programming/"><span class="level-start"><span class="level-item">Bash Programming</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Configuration/"><span class="level-start"><span class="level-item">Configuration</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/File-System/"><span class="level-start"><span class="level-item">File System</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/IPC/"><span class="level-start"><span class="level-item">IPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Process-Schedual/"><span class="level-start"><span class="level-item">Process Schedual</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Shell/"><span class="level-start"><span class="level-item">Shell</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Tool/"><span class="level-start"><span class="level-item">Tool</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Tool/Vi/"><span class="level-start"><span class="level-item">Vi</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Model/"><span class="level-start"><span class="level-item">ML Model</span></span><span class="level-end"><span class="level-item tag">21</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Model/Linear-Model/"><span class="level-start"><span class="level-item">Linear Model</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Model-Component/"><span class="level-start"><span class="level-item">Model Component</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Nolinear-Model/"><span class="level-start"><span class="level-item">Nolinear Model</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Unsupervised-Model/"><span class="level-start"><span class="level-item">Unsupervised Model</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/"><span class="level-start"><span class="level-item">ML Specification</span></span><span class="level-end"><span class="level-item tag">17</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/Click-Through-Rate/"><span class="level-start"><span class="level-item">Click Through Rate</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/Click-Through-Rate/Recommandation-System/"><span class="level-start"><span class="level-item">Recommandation System</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/Computer-Vision/"><span class="level-start"><span class="level-item">Computer Vision</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Specification/FinTech/"><span class="level-start"><span class="level-item">FinTech</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/FinTech/Risk-Control/"><span class="level-start"><span class="level-item">Risk Control</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/Graph-Analysis/"><span class="level-start"><span class="level-item">Graph Analysis</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Specification/NLP/"><span class="level-start"><span class="level-item">NLP</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Technique/"><span class="level-start"><span class="level-item">ML Technique</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Technique/Feature-Engineering/"><span class="level-start"><span class="level-item">Feature Engineering</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Technique/Neural-Network/"><span class="level-start"><span class="level-item">Neural Network</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Theory/"><span class="level-start"><span class="level-item">ML Theory</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Theory/Loss/"><span class="level-start"><span class="level-item">Loss</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Theory/Model-Enhencement/"><span class="level-start"><span class="level-item">Model Enhencement</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Theory/Optimization/"><span class="level-start"><span class="level-item">Optimization</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Algebra/"><span class="level-start"><span class="level-item">Math Algebra</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Algebra/Linear-Algebra/"><span class="level-start"><span class="level-item">Linear Algebra</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Algebra/Universal-Algebra/"><span class="level-start"><span class="level-item">Universal Algebra</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Analysis/"><span class="level-start"><span class="level-item">Math Analysis</span></span><span class="level-end"><span class="level-item tag">23</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Analysis/Fourier-Analysis/"><span class="level-start"><span class="level-item">Fourier Analysis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Functional-Analysis/"><span class="level-start"><span class="level-item">Functional Analysis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Optimization/"><span class="level-start"><span class="level-item">Optimization</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Real-Analysis/"><span class="level-start"><span class="level-item">Real Analysis</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Mixin/"><span class="level-start"><span class="level-item">Math Mixin</span></span><span class="level-end"><span class="level-item tag">18</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Mixin/Statistics/"><span class="level-start"><span class="level-item">Statistics</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Mixin/Time-Series/"><span class="level-start"><span class="level-item">Time Series</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Probability/"><span class="level-start"><span class="level-item">Probability</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">89</span></span></a><ul><li><a class="level is-mobile" href="/categories/Python/Cookbook/"><span class="level-start"><span class="level-item">Cookbook</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Jupyter/"><span class="level-start"><span class="level-item">Jupyter</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Keras/"><span class="level-start"><span class="level-item">Keras</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Matplotlib/"><span class="level-start"><span class="level-item">Matplotlib</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Numpy/"><span class="level-start"><span class="level-item">Numpy</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Pandas/"><span class="level-start"><span class="level-item">Pandas</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Py3Ref/"><span class="level-start"><span class="level-item">Py3Ref</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Py3std/"><span class="level-start"><span class="level-item">Py3std</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Pywin32/"><span class="level-start"><span class="level-item">Pywin32</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Readme/"><span class="level-start"><span class="level-item">Readme</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/TensorFlow/"><span class="level-start"><span class="level-item">TensorFlow</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Twists/"><span class="level-start"><span class="level-item">Twists</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/RLang/"><span class="level-start"><span class="level-item">RLang</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Rust/"><span class="level-start"><span class="level-item">Rust</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Set/"><span class="level-start"><span class="level-item">Set</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/"><span class="level-start"><span class="level-item">Tool</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/Tool/Editor/"><span class="level-start"><span class="level-item">Editor</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Markup-Language/"><span class="level-start"><span class="level-item">Markup Language</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Web-Browser/"><span class="level-start"><span class="level-item">Web Browser</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Windows/"><span class="level-start"><span class="level-item">Windows</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/Web/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/NPM/"><span class="level-start"><span class="level-item">NPM</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/Proxy/"><span class="level-start"><span class="level-item">Proxy</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/Thrift/"><span class="level-start"><span class="level-item">Thrift</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><!--!--><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="UBeaRLy"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">UBeaRLy</p><p class="is-size-6 is-block">Protector of Proxy</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Earth, Solar System</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">392</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">93</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">522</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/xyy15926" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/xyy15926"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-04T15:07:54.896Z">2021-08-04</time></p><p class="title"><a href="/uncategorized/README.html"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-03T07:46:51.000Z">2021-08-03</time></p><p class="title"><a href="/Web/NPM/hexo_config.html">Hexo 建站</a></p><p class="categories"><a href="/categories/Web/">Web</a> / <a href="/categories/Web/NPM/">NPM</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-03T02:32:45.000Z">2021-08-03</time></p><p class="title"><a href="/Web/NPM/config.html">NPM 总述</a></p><p class="categories"><a href="/categories/Web/">Web</a> / <a href="/categories/Web/NPM/">NPM</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-02T08:11:11.000Z">2021-08-02</time></p><p class="title"><a href="/Python/Py3std/internet_data.html">互联网数据</a></p><p class="categories"><a href="/categories/Python/">Python</a> / <a href="/categories/Python/Py3std/">Py3std</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-29T13:55:00.000Z">2021-07-29</time></p><p class="title"><a href="/Linux/Shell/sh_apps.html">Shell 应用程序</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Shell/">Shell</a></p></div></article></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5385776267343559" data-ad-slot="6371777973" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a><p class="is-size-7"><span>&copy; 2021 UBeaRLy</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/xyy15926/proxy"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>