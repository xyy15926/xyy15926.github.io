<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Tag: Module - UBeaRLy</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="UBeaRLy&#039;s Proxy"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="UBeaRLy&#039;s Proxy"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="UBeaRLy"><meta property="og:url" content="https://xyy15926.github.io/"><meta property="og:site_name" content="UBeaRLy"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://xyy15926.github.io/img/og_image.png"><meta property="article:author" content="UBeaRLy"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://xyy15926.github.io"},"headline":"UBeaRLy","image":["https://xyy15926.github.io/img/og_image.png"],"author":{"@type":"Person","name":"UBeaRLy"},"publisher":{"@type":"Organization","name":"UBeaRLy","logo":{"@type":"ImageObject","url":"https://xyy15926.github.io/img/logo.svg"}},"description":""}</script><link rel="alternate" href="/atom.xml" title="UBeaRLy" type="application/atom+xml"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/darcula.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oxanium:wght@300;400;600&amp;family=Roboto+Mono"><link rel="stylesheet" href="/css/cyberpunk.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-5385776267343559" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="UBeaRLy" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Visit on GitHub" href="https://github.com/xyy15926/proxy"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">Module</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-06-09T08:54:21.000Z" title="6/9/2019, 4:54:21 PM">2019-06-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-06-09T08:54:21.000Z" title="6/9/2019, 4:54:21 PM">2019-06-09</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Py3Ref/">Py3Ref</a></span><span class="level-item">36 minutes read (About 5403 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Py3Ref/import_system.html">Python包、模块</a></h1><div class="content"><h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2><h3 id="导入方式"><a href="#导入方式" class="headerlink" title="导入方式"></a>导入方式</h3><p><em>importing</em>操作可以使得模块能够访问其他模块中代码</p>
<ul>
<li><p><code>import</code>：结合了以下两个操作，发起导入调机制最常用方式</p>
<ul>
<li>搜索指定名称模块：对<code>__import__()</code>带有适当参数调用</li>
<li>将搜索结果绑定到当前作用域中名称：<code>__import__</code>返回值
被用于执行名称绑定操作</li>
</ul>
</li>
<li><p><code>__import__()</code>：只执行模块搜索、找到模块后创建<code>module</code></p>
<ul>
<li>可能产生某些副作用<ul>
<li>导入父包</li>
<li>更新各种缓存：<code>sys.modules</code></li>
</ul>
</li>
</ul>
</li>
<li><p><code>importlib.import_module()</code></p>
<ul>
<li>可能会选择绕过<code>__import__</code>，使用其自己的解决方案实现
导入机制</li>
<li>用于为动态模块导入提供支持</li>
</ul>
<blockquote>
<ul>
<li><code>importlib</code>模块参见标准库</li>
</ul>
</blockquote>
</li>
</ul>
<h4 id="子模块"><a href="#子模块" class="headerlink" title="子模块"></a>子模块</h4><ul>
<li>任意机制加载子模块时，父模块命名空间中会添加对子模块对象
的绑定</li>
</ul>
<h3 id="Packages"><a href="#Packages" class="headerlink" title="Packages"></a><em>Packages</em></h3><ul>
<li><p>python只有一种模块对象类型：所有模块都属于该类型，C、
Python语言实现均是</p>
</li>
<li><p>包：为帮助组织模块、并提供名称层次结构引入</p>
<ul>
<li>可将包<strong>视为</strong>文件系统中目录、模块视为目录中文件，
但<strong>包、模块不是必须来自文件系统</strong></li>
<li>类似文件系统，包通过层次结构进行组织：包内包括模块、
子包</li>
</ul>
</li>
<li><p><strong>所有包都是模块，但并非所有模块都是包</strong></p>
<ul>
<li>包是一种特殊的模块</li>
<li>特别的，任何具有<code>__path__</code>属性的模块都被当作包</li>
</ul>
</li>
<li><p>所有模块都有自己的名字</p>
<ul>
<li>子包名与其父包名以<code>.</code>分隔，同python标准属性访问语法</li>
</ul>
</li>
</ul>
<h4 id="Regular-Packages"><a href="#Regular-Packages" class="headerlink" title="Regular Packages"></a><em>Regular Packages</em></h4><p>正规包：通常以包含<code>__init__.py</code>文件的目录形式出现</p>
<ul>
<li><p><code>__init__.py</code>文件可以包含和其他模块中包含python模块相似
的代码</p>
</li>
<li><p>正规包被导入时</p>
<ul>
<li><code>__init__.py</code>文件会隐式被执行，其中定义对象被绑定到
该包命名空间中名称</li>
<li>python会为模块添加额外属性</li>
</ul>
</li>
</ul>
<h4 id="Namespace-Packages"><a href="#Namespace-Packages" class="headerlink" title="Namespace Packages"></a><em>Namespace Packages</em></h4><p>命名空间包：由多个部分构成，每个部分为父包增加一个子包</p>
<ul>
<li><p>包各部分可以物理不相邻，不一定直接对应到文件系统对象，
可能是无实体表示的虚拟模块</p>
<ul>
<li>可能处于文件系统不同位置</li>
<li>可能处于zip文件、网络上，或在导入期间其他可搜索位置</li>
</ul>
</li>
<li><p><code>__path__</code>属性不是普通列表，而是定制的可迭代类型</p>
<ul>
<li>若父包、或最高层级包<code>sys.path</code>路径发生改变，对象会
在包内的下次导入尝试时，自动执行新的对包部分的搜索</li>
</ul>
</li>
<li><p>命名空间包中没有<code>__init__.py</code>文件</p>
<ul>
<li>毕竟可能有多个父目录提供包不同部分，彼此物理不相邻</li>
<li>python会在包、子包导入时为其创建命名空间包</li>
</ul>
</li>
</ul>
<h3 id="导入相关模块属性"><a href="#导入相关模块属性" class="headerlink" title="导入相关模块属性"></a>导入相关模块属性</h3><blockquote>
<ul>
<li>以下属性在加载时被设置，参见
  <em>cs_python/py3ref/import_system</em></li>
</ul>
</blockquote>
<ul>
<li><p><code>__name__</code>：模块完整限定名称，唯一标识模块</p>
</li>
<li><p><code>__loader__</code>：导入系统加载模块时使用的加载器对象</p>
<ul>
<li>主要用于内省</li>
<li>也可用于额外加载器专用功能</li>
</ul>
</li>
<li><p><code>__package__</code>：取代<code>__name__</code>用于主模块计算显式相对
导入</p>
<ul>
<li>模块为包：应设置为<code>__name__</code></li>
<li>模块非包：最高层级模块应设为空字符串，否则为父包名</li>
</ul>
<blockquote>
<ul>
<li>预期同<code>__spec__.parent</code>值相同，未定义时，以
 <code>__spec__.parent</code>作为回退项</li>
</ul>
</blockquote>
</li>
</ul>
<blockquote>
<ul>
<li><code>python &lt;PYSCIRPT&gt;</code>直接执行脚本时<code>__name__</code>被设置为
  <code>__main__</code>、<code>__package__</code>设置为<code>None</code>，此时导入器无法
  解释相对导入中<code>.</code>，相对导入报错</li>
<li><code>python -m &lt;PYSCIRPT&gt;</code>则会按模块逻辑设置<code>__name__</code>、
  <code>__package__</code>，相对导入可以正常执行</li>
</ul>
</blockquote>
<h4 id="spec"><a href="#spec" class="headerlink" title="__spec__"></a><code>__spec__</code></h4><p><code>__spec__</code>：导入模块时要使用的<strong>模块规格说明</strong></p>
<ul>
<li>对<code>__spec__</code>正确设置将同时作用于解释器启动期间
初始化的模块</li>
<li>仅<code>__main__</code>某些情况下被设置为<code>None</code></li>
</ul>
<h4 id="path"><a href="#path" class="headerlink" title="__path__"></a><code>__path__</code></h4><ul>
<li><p><strong>具有该属性模块即为包</strong>：包模块必须设置<code>__path__</code>属性，
非包模块不应设置</p>
</li>
<li><p>在导入子包期间被使用，在导入机制内部功能同<code>sys.path</code>，
即用于提供模块搜索位置列表</p>
<ul>
<li>但受到更多限制，其必须为字符串组成可迭代对象，但若其
没有进一步用处可以设置为空</li>
<li>适用作用于<code>sys.path</code>的规则</li>
<li><code>sys.path_hooks</code>会在遍历包的<code>__path__</code>时被查询</li>
</ul>
</li>
<li><p>可在包的<code>__init__.py</code>中设置、更改</p>
<ul>
<li>在<em>PEP420</em>引入之后，命名空间包不再需要提供仅包含操作
<code>__path__</code>代码的<code>__init__.py</code>文件，导入机制会自动为
命名空间包正确设置<code>__path__</code></li>
<li>在之前其为实现命名空间包的典型方式</li>
</ul>
</li>
</ul>
<h4 id="repr"><a href="#repr" class="headerlink" title="__repr__"></a><code>__repr__</code></h4><ul>
<li><p>若模块具有<code>__spec__</code>，导入机制将尝试使用其中规格信息生成
repr</p>
<ul>
<li><code>name</code></li>
<li><code>loader</code></li>
<li><code>origin</code></li>
<li><code>has_location</code></li>
</ul>
</li>
<li><p>若模块具有<code>__file__</code>属性，将被用作repr的一部分</p>
</li>
<li><p>否则若模块具有<code>__loader__</code>属性且非<code>None</code>，则加载器repr
将被用作模块repr的一部分</p>
</li>
<li><p>其他情况下，仅在repr中适用模块的<code>__name__</code></p>
</li>
</ul>
<blockquote>
<ul>
<li>可以在模块规则说明中显式控制模块对象repr</li>
</ul>
</blockquote>
<h4 id="file-cached"><a href="#file-cached" class="headerlink" title="__file__/__cached__"></a><code>__file__</code>/<code>__cached__</code></h4><blockquote>
<ul>
<li><code>__file__</code>：模块对应的被加载文件的路径名</li>
<li><code>__cached__</code>：编译版本代码（字节码文件）路径</li>
</ul>
</blockquote>
<ul>
<li><p><code>__file__</code>为可选项，须为字符串</p>
<ul>
<li>可以在其无语法意义时不设置</li>
<li>对从共享库动态加载的扩展模块，应为共享库文件路径名</li>
</ul>
</li>
<li><p><code>__cached__</code></p>
<ul>
<li>不要求编译文件已经存在，可以表示<strong>应该存放</strong>编译文件
的位置</li>
<li>不要求<code>__file__</code>已经设置<ul>
<li>有时加载器可以从缓存加载模块但是无法从文件加载</li>
<li>加载静态链接至解释器内部的C模块</li>
</ul>
</li>
</ul>
</li>
<li><p>从<code>.pyc</code>文件加载缓存字节码前会检查其是否最新</p>
<ul>
<li>默认通过比较缓存文件中保存的源文件修改时间戳实现</li>
<li>也支持基于哈希的缓冲文件，此时<code>.pyc</code>文件中保存源文件
哈希值<ul>
<li>检查型：求源文件哈希值再和缓存文件中哈希值比较</li>
<li>非检查型：只要缓存文件存在就直接认为缓存文件有效</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li><code>--check-hash-based-pycs</code>命名行选项设置基于哈希的
 <code>.pyc</code>文件有效性</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="执行相关模块属性"><a href="#执行相关模块属性" class="headerlink" title="执行相关模块属性"></a>执行相关模块属性</h3><ul>
<li><code>__doc__</code>：模块文档字符串</li>
<li><code>__annotaion__</code>：包含变量标注的字典<ul>
<li>在模块体执行时获取</li>
</ul>
</li>
<li><code>__dict__</code>：以字典对象表示的模块命名空间</li>
</ul>
<blockquote>
<ul>
<li>CPython：由于CPython清理模块字典的设定，模块离开作用域时
  模块字典将被清理，即使字典还有活动引用，可以复制该字典、
  保持模块状态以直接使用其字典</li>
</ul>
</blockquote>
<h3 id="sys-modules模块缓存"><a href="#sys-modules模块缓存" class="headerlink" title="sys.modules模块缓存"></a><code>sys.modules</code>模块缓存</h3><p><code>sys.modules</code>映射：缓存之前导入的所有模块（包括中间路径）
（即导入子模块会注册父模块条目）</p>
<ul>
<li><p>其中每个键值对就是限定名称、模块对象</p>
</li>
<li><p>在其中查找模块名称</p>
<ul>
<li>若存在需要导入模块，则导入完成</li>
<li>若名称对应值为<code>None</code>则<code>raise ModuleNotFoundError</code></li>
<li>若找不到指定模块名称，python将继续搜索</li>
</ul>
</li>
<li><p>映射可写，可删除其中键值对</p>
<ul>
<li>不一定破坏关联模块，因为其他模块可能保留对其引用</li>
<li>但是会使<strong>命名模块</strong>缓存条目无效，导致下次导入时重新
搜索命名模块，得到两个不同的两个模块对象</li>
</ul>
<blockquote>
<ul>
<li><code>importlib.reload</code>将重用相同模块对象，通过重新运行
 模块代码重新初始化模块内容</li>
</ul>
</blockquote>
</li>
</ul>
<h2 id="Finders-And-Loaders"><a href="#Finders-And-Loaders" class="headerlink" title="Finders And Loaders"></a><em>Finders And Loaders</em></h2><blockquote>
<ul>
<li><em>Finders</em>：查找器，确定能否使用所知策略找到指定名称模块</li>
<li><em>Loaders</em>：加载器，加载找到的指定模块</li>
<li><em>Importer</em>：导入器，同时实现两种接口的对象，在确定能加载
  所需模块时会返回自身</li>
</ul>
</blockquote>
<ul>
<li><p>导入机制通过<em>import hooks</em>实现扩展</p>
<ul>
<li>可以加入新的查找器以扩展模块搜索范围、作用域</li>
</ul>
</li>
<li><p>工作流程：在<code>sys.modules</code>缓存中无法找到指定名称模块时</p>
<ul>
<li>查找器若能找到指定名称模块，返回模块规格说明<em>spec</em></li>
<li>加载器将利用查找器返回的模块规格说明加载模块</li>
</ul>
</li>
</ul>
<h3 id="Import-Path"><a href="#Import-Path" class="headerlink" title="Import Path"></a><em>Import Path</em></h3><p>导入路径：文件系统路径、zip文件等<em>path term</em>组成的位置列表</p>
<ul>
<li><p>其中元素不局限于文件系统位置，可扩展为字符串指定的任意
可定位资源</p>
<ul>
<li>URL指定资源</li>
<li>数据库查询</li>
</ul>
</li>
<li><p>位置条目来源</p>
<ul>
<li>通常为<code>sys.path</code></li>
<li>对次级包可能来自上级包的<code>__path__</code>属性</li>
</ul>
</li>
<li><p>其中每个路径条目指定一个用于搜索模块的位置</p>
<ul>
<li><em>path based finder</em>将在其中查找导入目标</li>
</ul>
</li>
</ul>
<h4 id="sys-path"><a href="#sys-path" class="headerlink" title="sys.path"></a><code>sys.path</code></h4><p><code>sys.path</code>：模块、包搜索位置的字符串列表</p>
<ul>
<li><p>初始化自<code>PYTHONPATH</code>环境变量、特定安装和实现的默认设置、
执行脚本目录（或当前目录）</p>
</li>
<li><p>其中条目可以指定文件系统中目录、zip文件、可用于搜索模块
的潜在位置</p>
</li>
<li><p>只能出现字符串、字节串，其他数据类型被忽略</p>
<ul>
<li>字节串条目使用的编码由导入路径钩子、
<em>path entry finder</em>确定</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li>所以可以修改<code>sys.path</code>值定制导入路径，CPython实现参见
  <em>cs_python/py3ref/import_system</em></li>
</ul>
</blockquote>
<h4 id="sys-path-import-cache"><a href="#sys-path-import-cache" class="headerlink" title="sys.path_import_cache"></a><code>sys.path_import_cache</code></h4><p><code>sys.path_importer_cache</code>：存放路径条目到路径条目查找器映射
的缓存</p>
<ul>
<li><p>减少查找路径条目对应路径条目查找器的消耗，对特定路径条目
查找对应路径条目查找只需进行一次</p>
</li>
<li><p>可从中移除缓存条目，以强制基于路径查找器执行路径条目搜索</p>
</li>
</ul>
<h3 id="Import-Hooks"><a href="#Import-Hooks" class="headerlink" title="Import Hooks"></a><em>Import Hooks</em></h3><ul>
<li><p><em>meta hooks</em>：元[路径]钩子</p>
<ul>
<li>导入过程开始时被调用，此时仅<code>sys.modules</code>缓存查找
发生，其他导入过程未发生</li>
<li>所以允许元钩子重载<code>sys.path</code>过程、冻结模块甚至内置
模块</li>
</ul>
<blockquote>
<ul>
<li><strong>元钩子即导入器/元路径查找器</strong></li>
<li><code>sys.meta_path</code>为元路径查找器列表，可在其中注册定制
 元钩子</li>
</ul>
</blockquote>
</li>
<li><p><em>path[ entry] hooks</em>：导入路径钩子</p>
<ul>
<li>是<code>sys.path</code>、<code>package.__path__</code>处理的一部分</li>
<li>基于路径的查找器调用其处理路径条目，以获取路径条目
查找器</li>
</ul>
<blockquote>
<ul>
<li><strong>导入路径钩子返回路径条目查找器</strong></li>
<li><code>sys.path_hooks</code>为导入路径钩子列表，可在其中注册
 定制导入路径钩子</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="默认元路径查找器-导入器"><a href="#默认元路径查找器-导入器" class="headerlink" title="默认元路径查找器/导入器"></a>默认元路径查找器/导入器</h3><p>python默认实现<code>sys.meta_path</code>有以下导入器（元路径查找器）</p>
<ul>
<li><code>BuiltinImporter</code>：定位、导入内置模块</li>
<li><code>FrozenImporter</code>：定位、导入冻结模块</li>
<li><code>PathFinder</code>：定位、导入来自<em>import path</em>中模块</li>
</ul>
<blockquote>
<ul>
<li>尝试导入模块时，内置模块、冻结模块导入器优先级较高，所以
  解释器首先搜索<strong>内置</strong>模块</li>
</ul>
</blockquote>
<h2 id="Finder"><a href="#Finder" class="headerlink" title="Finder"></a><em>Finder</em></h2><ul>
<li><p>指定名称模块在<code>sys.modules</code>找不到时，python继续搜索
<code>sys.meta_path</code>，按顺序调用其中元路径查找器</p>
</li>
<li><p>若<code>sys.meta_path</code>处理到列表末尾仍未返回说明对象，则
<code>raise ModuleNotFoundError</code></p>
</li>
</ul>
<blockquote>
<ul>
<li>导入过程中引发的任何异常直接向上传播，并放弃导入过程</li>
<li>对非最高层级模块的导入请求可能会多次遍历元路径</li>
</ul>
</blockquote>
<h3 id="Meta-Path-Finders"><a href="#Meta-Path-Finders" class="headerlink" title="Meta Path Finders"></a><em>Meta Path Finders</em></h3><p>元路径查找器：</p>
<ul>
<li><p>元路径查找器可使用任何策略确定其是否能处理给定名称模块</p>
<ul>
<li>若知道如何处理指定名称的模块，将返回模块规格说明</li>
<li>否则返回<code>None</code></li>
</ul>
</li>
<li><p>模块规格协议：元路径查找器应实现<code>find_spec()</code>方法</p>
<ul>
<li>接受名称、导入路径、目标模块作为参数</li>
<li>返回模块规格说明</li>
</ul>
</li>
</ul>
<h3 id="Spec"><a href="#Spec" class="headerlink" title="Spec"></a><em>Spec</em></h3><ul>
<li><p>模块规格[说明]：基于每个模块封装的模块导入相关信息</p>
<ul>
<li>模块规格中大部分信息对所有模块是公用的</li>
<li>模块规格说明作为模块对象的<code>__spec__</code>属性对外公开</li>
</ul>
</li>
<li><p>用途</p>
<ul>
<li>允许状态在导入系统各组件间传递，如：查询器和加载器</li>
<li>允许导入机制执行加载的样板操作，否则该由加载器负责</li>
</ul>
</li>
</ul>
<h3 id="find-spec"><a href="#find-spec" class="headerlink" title="find_spec"></a><code>find_spec</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">finder</span>.<span class="title">find_spec</span>(<span class="params">fullname, path=<span class="literal">None</span>, target=<span class="literal">None</span></span>):</span></span><br><span class="line">	<span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>fullname</code>：被导入模块的完整限定名称</li>
<li><code>path</code>：供模块搜索使用的路径条目<ul>
<li>对最高层级模块应为<code>None</code></li>
<li>对子模块、子包应为父包<code>__path__</code>属性值，若
相应<code>__path__</code>属性无法访问将
<code>raise ModuleNotFoundError</code></li>
</ul>
</li>
<li><code>target</code>：将被作为稍后加载目标的现有模块对象<ul>
<li>导入系统仅在重加载期间传入目标模块</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li>导入器的<code>find_spec()</code>返回模块规格说明中加载器为<code>self</code></li>
<li>有些元路径查找器仅支持顶级导入，<code>path</code>参数不为<code>None</code>时
  总返回<code>None</code></li>
</ul>
</blockquote>
<h2 id="Loaders"><a href="#Loaders" class="headerlink" title="Loaders"></a><em>Loaders</em></h2><ul>
<li>模块规格说明被找到时，导入机制将在加载该模块时使用<ul>
<li>其中包含的加载器将被使用，若存在</li>
</ul>
</li>
</ul>
<h3 id="加载流程"><a href="#加载流程" class="headerlink" title="加载流程"></a>加载流程</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">module = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> spec.loader <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> <span class="built_in">hasattr</span>(spec.loader, <span class="string">&#x27;create_module&#x27;</span>):</span><br><span class="line">	<span class="comment"># 模块说明中包含加载器，使用加载器创建模块</span></span><br><span class="line">	module = spec.loader.create_module(spec)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> module <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">	<span class="comment"># 否则创建空模块</span></span><br><span class="line">	module = types.ModuleType(spec.name)</span><br><span class="line"></span><br><span class="line"> <span class="comment"># 设置模块导入相关属性</span></span><br><span class="line">_init_module_attrs(spec, module)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> spec.loader <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">	<span class="comment"># 模块说明中不包含加载器</span></span><br><span class="line">	<span class="comment"># 检查模块是否为为命名空间包</span></span><br><span class="line">	<span class="keyword">if</span> spec.submodule_search_locations <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">		<span class="comment"># 设置`sys.modules`</span></span><br><span class="line">		sys.modules[spec.name] = module</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		<span class="keyword">raise</span> ImportError</span><br><span class="line"><span class="keyword">elif</span> <span class="keyword">not</span> <span class="built_in">hasattr</span>(spec.loader, <span class="string">&quot;exec_module&quot;</span>):</span><br><span class="line">	<span class="comment"># 向下兼容现有`load_module`</span></span><br><span class="line">	module = spec.loader.load_module(spec.name)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	sys.modules[spec.name] = module</span><br><span class="line">	<span class="keyword">try</span>:</span><br><span class="line">		<span class="comment"># 模块执行</span></span><br><span class="line">		spec.loader.exec_module(module)</span><br><span class="line">	<span class="keyword">except</span> BaseException:</span><br><span class="line">		<span class="keyword">try</span>:</span><br><span class="line">			<span class="comment"># 加载模块失败则从`sys.modules`中移除</span></span><br><span class="line">			<span class="keyword">del</span> sys.modules[spec.name]</span><br><span class="line">		<span class="keyword">except</span> KeyError:</span><br><span class="line">			<span class="keyword">pass</span></span><br><span class="line">		<span class="keyword">raise</span></span><br><span class="line"><span class="keyword">return</span> sys.modules[spec.name]</span><br></pre></td></tr></table></figure>
<ul>
<li>创建模块对象</li>
<li>设置模块导入相关属性：在执行模块代码前设置</li>
<li><code>sys.modules</code>注册模块</li>
<li>模块执行：模块导入关键，填充模块命名空间</li>
</ul>
<h4 id="create-module创建模块对象"><a href="#create-module创建模块对象" class="headerlink" title="create_module创建模块对象"></a><code>create_module</code>创建模块对象</h4><ul>
<li><p>模块加载器可以选择通过实现<code>create_module</code>方法在加载
期间创建模块对象</p>
<ul>
<li>其应接受模块规格说明作为参数</li>
</ul>
</li>
<li><p>否则导入机制使用<code>types.ModuleType</code>自行创建模块对象</p>
</li>
</ul>
<h4 id="sys-modules注册模块"><a href="#sys-modules注册模块" class="headerlink" title="sys.modules注册模块"></a><code>sys.modules</code>注册模块</h4><ul>
<li>在加载器执行代码前注册，避免模块代码导入自身导致无限
递归、多次加载</li>
<li>若模块为命名空间包，直接注册空模块对象</li>
</ul>
<h4 id="exec-module模块执行"><a href="#exec-module模块执行" class="headerlink" title="exec_module模块执行"></a><code>exec_module</code>模块执行</h4><ul>
<li><p>导入机制调用<code>importlib.abc.Loader.exec_module()</code>方法执行
模块对象</p>
<blockquote>
<ul>
<li>CPython：<code>exec_module</code>不定返回传入模块，其返回值将被
 忽略<blockquote>
<ul>
<li><code>importlib</code>避免直接使用返回值，而是通过在
<code>sys.modules</code>中查找模块名称获取模块对象</li>
<li>可能会间接导致被导入模块可能在<code>sys.modules</code>中
替换其自身</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>
</li>
<li><p>加载器应该该满足</p>
<ul>
<li><p>若模块是python模块（非内置、非动态加载），加载器应该
在模块全局命名空间<code>module.__dict__</code>中执行模块代码</p>
</li>
<li><p>若加载器无法执行指定模块，则应<code>raise ImportError</code>，
在<code>exec_module</code>期间引发的任何其他异常同样被传播</p>
</li>
</ul>
</li>
<li><p>加载失败时作为附带影响被成功加载的模块仍然保留</p>
<blockquote>
<ul>
<li>重新加载模块会保留加载失败模块（最近成功版本）</li>
</ul>
</blockquote>
</li>
</ul>
<h2 id="Path-Based-Finder—PathFinder"><a href="#Path-Based-Finder—PathFinder" class="headerlink" title="Path Based Finder—PathFinder"></a><em>Path Based Finder</em>—<code>PathFinder</code></h2><p>基于路径的查找器：在特定<em>path entry</em>中查找、加载指定的python
模块、包</p>
<ul>
<li><p>基于路径查找器只是遍历<em>import path</em>中的路径条目，将其
关联至处理特定类型路径的<em>path entry finder</em></p>
</li>
<li><p>默认路径条目查找器集合实现了在文件系统中查找模块的所有
语义，可以处理多种文件类型</p>
<ul>
<li>python源码<code>.py</code></li>
<li>python字节码<code>.pyc</code></li>
<li>共享库<code>.so</code></li>
<li>zip包装的上述文件类型（需要<code>zipimport</code>模块支持）</li>
</ul>
</li>
<li><p>作为元路径查找器</p>
<ul>
<li>实现有<code>find_spec</code>协议</li>
<li>并提供额外的钩子、协议以便能扩展、定制可搜索路径条目
的类型，定制模块从<em>import path</em>的查找、加载</li>
</ul>
</li>
</ul>
<h3 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h3><p>导入机制调用基于路径的查找器的<code>find_spec()</code>迭代搜索
<em>import path</em>的路径条目，查找对应路径条目查找器</p>
<ul>
<li><p>先在<code>sys.path_impporter_cache</code>缓存中查找对应路径条目
查找器</p>
</li>
<li><p>若没有在缓存中找到，则迭代调用<code>sys.path_hooks</code>中
<em>Path Entry Hook</em></p>
</li>
<li><p>迭代结束后若没有返回路径条目查找器，则</p>
<ul>
<li>置<code>sys.path_importer_cache</code>对应值为<code>None</code></li>
<li>返回<code>None</code>，表示此元路径查找器无法找到该模块</li>
</ul>
</li>
</ul>
<h4 id="当前目录"><a href="#当前目录" class="headerlink" title="当前目录"></a>当前目录</h4><p>对空字符串表示的当前工作目录同<code>sys.path</code>中其他条目处理方式
有所不同</p>
<ul>
<li><p>若当前工作目录不存在，则<code>sys.path_importer_cache</code>
中不存放任何值</p>
</li>
<li><p>模块查找回对当前工作目录进行全新查找</p>
</li>
<li><p><code>sys.path_importer_cache</code>使用、
<code>importlib.machinery.PathFinder.find_spec()</code>返回路径将是
实际当前工作目录而非空字符串</p>
</li>
</ul>
<h3 id="Path-Entry-Hook"><a href="#Path-Entry-Hook" class="headerlink" title="Path Entry Hook"></a><em>Path Entry Hook</em></h3><p>路径条目钩子：根据路径条目查找对应路径条目查找器的可调用对象</p>
<ul>
<li><p>参数：字符串、字节串，表示要搜索的目录条目</p>
<ul>
<li>字节串的编码由钩子自行决定</li>
<li>若钩子无法解码参数，应<code>raise ImportError</code></li>
</ul>
</li>
<li><p>路径条目钩子返回值</p>
<ul>
<li>可处理路径条目的路径条目查找器</li>
<li><code>raise ImportError</code>：表示钩子无法找到与路径条目对应
路径条目查找器<ul>
<li>该异常会被忽略，并继续对<em>import path</em>迭代</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Path-Entry-Finder—PathEntryFinder"><a href="#Path-Entry-Finder—PathEntryFinder" class="headerlink" title="Path Entry Finder—PathEntryFinder"></a><em>Path Entry Finder</em>—<code>PathEntryFinder</code></h3><p>路径条目查找器：</p>
<blockquote>
<ul>
<li>元路径查找器作用于导入过程的开始，遍历<code>sys.meta_path</code>时</li>
<li>路径条目查找器某种意义上是<strong>基于路径查找器的实现细节</strong></li>
</ul>
</blockquote>
<h4 id="find-spec-1"><a href="#find-spec-1" class="headerlink" title="find_spec"></a><code>find_spec</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">PathEntryFinder</span>.<span class="title">find_spec</span>(<span class="params">fullname, target=<span class="literal">None</span></span>):</span></span><br><span class="line">	<span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>路径条目查找器协议：目录条目查找器需实现<code>find_spec</code>方法</p>
<ul>
<li>以支持模块、已初始化包的导入</li>
<li>给命名空间包提供组成部分</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li><code>fullname</code>：要导入模块的完整限定名称</li>
<li><code>target</code>：目标模块</li>
</ul>
</li>
<li><p>返回值：完全填充好的模块规格说明</p>
<ul>
<li>模块规格说明总是包含加载器集合</li>
<li>但命名空间包的规格说明中<code>loader</code>会被设置为<code>None</code>，
并将<code>submodule_search_locations</code>设置为包含该部分的
列表，以告诉导入机制该规格说明为命名空间包的portion</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li><em>Portion</em>：构成命名空间包的单个目录内文件集合</li>
<li>替代旧式<code>find_loader()</code>、<code>find_module()</code>方法</li>
</ul>
</blockquote>
<h3 id="替换标准导入系统"><a href="#替换标准导入系统" class="headerlink" title="替换标准导入系统"></a>替换标准导入系统</h3><ul>
<li><p>替换<code>sys.meta_path</code>为自定义元路径钩子</p>
<ul>
<li>替换整个导入系统最可靠机制</li>
</ul>
</li>
<li><p>替换内置<code>__import__()</code>函数</p>
<ul>
<li>仅改变导入语句行为而不影响访问导入系统其他接口</li>
<li>可以在某个模块层级替换，只改变某块内部导入语句行为</li>
</ul>
</li>
<li><p>替换<code>find_spec()</code>，引发<code>ModuleNotFoundError</code></p>
<ul>
<li>选择性的防止在元路径钩子导入某些模块</li>
</ul>
</li>
</ul>
<h3 id="main"><a href="#main" class="headerlink" title="__main__"></a><code>__main__</code></h3><ul>
<li><code>__main__</code>模块是在解释器启动时直接初始化，类似<code>sys</code>、
<code>builtins</code>，但是不被归类为内置模块，因为其初始化的方式
取决于启动解释器的旗标（命令行参数）</li>
</ul>
<h4 id="spec-1"><a href="#spec-1" class="headerlink" title="__spec__"></a><code>__spec__</code></h4><p>根据<code>__main__</code>被初始化的方式，<code>__main__.__spec__</code>被设置为
<code>None</code>或相应值</p>
<ul>
<li><p><code>-m</code>选项启动：以脚本方式执行模块</p>
<ul>
<li><p>此时<code>__spec__</code>被设置为相应模块、包规格说明</p>
</li>
<li><p><code>__spec__</code>会在<code>__main__</code>模块作为执行某个目录、zip
文件、其他<code>sys.path</code>条目的一部分加载时被填充</p>
</li>
<li><p>此时<code>__main__</code>对应可导入模块和<code>__main__</code>被视为不同
模块</p>
</li>
</ul>
</li>
<li><p>其余情况</p>
<ul>
<li><p><code>__spec__</code>被设置为<code>None</code></p>
</li>
<li><p>因为用于填充<code>__main__</code>的代码不直接与可导入模块相对应</p>
<ul>
<li>交互型提示</li>
<li><code>-c</code>选项</li>
<li>从stdin运行</li>
<li>从源码、字节码文件运行</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li><code>-m</code>执行模块时<code>sys.path</code>首个值为空字符串，而直接执行脚本
  时首个值为脚本所在目录</li>
</ul>
</blockquote>
<h2 id="Import-Search-Path定制"><a href="#Import-Search-Path定制" class="headerlink" title="Import[ Search] Path定制"></a><em>Import[ Search] Path</em>定制</h2><h3 id="动态增加路径"><a href="#动态增加路径" class="headerlink" title="动态增加路径"></a>动态增加路径</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path.insert(<span class="number">1</span>, /path/to/fold/contains/module)</span><br><span class="line">	<span class="comment"># 临时生效，对不经常使用的模块较好</span></span><br></pre></td></tr></table></figure>
<h3 id="修改PYTHONPATH环境变量"><a href="#修改PYTHONPATH环境变量" class="headerlink" title="修改PYTHONPATH环境变量"></a>修改<code>PYTHONPATH</code>环境变量</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"> #</span><span class="bash"> .bashrc</span></span><br><span class="line">export PYTHONPATH=$PYTHONPATH:/path/to/fold/contains/module</span><br></pre></td></tr></table></figure>
<ul>
<li>对许多程序都使用的模块可以采取此方式</li>
<li>会改变所有Python应用的搜索路径</li>
</ul>
<h3 id="增加-pth文件"><a href="#增加-pth文件" class="headerlink" title="增加.pth文件"></a>增加<code>.pth</code>文件</h3><p>在<code>/path/to/python/site-packages</code>（或其他查找路径目录）下
添加<code>.pth</code>配置文件，内容为需要添加的路径</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> # extras.pth</span><br><span class="line">/path/to/fold/contains/module</span><br></pre></td></tr></table></figure>
<ul>
<li>简单、推荐</li>
<li>python在遍历已知库文件目录过程中，遇到<code>.pth</code>文件会将其中
路径加入<code>sys.path</code>中</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-05-20T14:24:33.000Z" title="5/20/2019, 10:24:33 PM">2019-05-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-05-20T14:24:33.000Z" title="5/20/2019, 10:24:33 PM">2019-05-20</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Py3Ref/">Py3Ref</a></span><span class="level-item">10 minutes read (About 1546 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Py3Ref/dm_executions.html">数据模型--执行相关</a></h1><div class="content"><ul>
<li><p>以下类型为内部类型，由解释器内部使用、但被暴露给用户，
其定义可能随着未来解释器版本更新而变化</p>
<ul>
<li>代码对象</li>
<li>帧对象</li>
<li>回溯对象</li>
<li>切片对象：参见<em>cs_python/py3ref/dm_basics</em></li>
<li>静态方法对象：参见<em>cs_python/py3ref/#todo</em></li>
<li>类方法对象：参见<em>cs_python/py3ref/#todo</em></li>
</ul>
</li>
</ul>
<h2 id="Module"><a href="#Module" class="headerlink" title="Module"></a><em>Module</em></h2><p>模块：python代码的基本组织单元</p>
<ul>
<li>导入系统创建<ul>
<li><code>import</code>语句</li>
<li><code>importlibd.import_module()</code>、<code>__import__()</code>函数</li>
</ul>
</li>
<li>模块对象具有由字典<code>__dict__</code>实现的命名空间<ul>
<li>属性引用：被转换为该字典中查找<code>m.__dict__[&#39;x&#39;]</code></li>
<li>属性赋值：更新模块命名字典空间</li>
<li>不包含用于初始化模块的代码对象</li>
<li>模块中定义函数<code>__globals__</code>属性引用其</li>
</ul>
</li>
</ul>
<h3 id="元属性"><a href="#元属性" class="headerlink" title="元属性"></a>元属性</h3><ul>
<li><code>__name__</code>：模块名称</li>
<li><code>__doc__</code>：模块文档字符串</li>
<li><code>__annotaion__</code>：包含变量标注的字典<ul>
<li>在模块体执行时获取</li>
</ul>
</li>
<li><code>__file__</code>：模块对应的被加载文件的路径名<ul>
<li>若加载自一个文件，某些类型模块可能没有<ul>
<li>C模块静态链接至解释器内部</li>
</ul>
</li>
<li>从共享库动态加载的扩展模块，该属性为共享库文件路径名</li>
</ul>
</li>
<li><code>__dict__</code>：以字典对象表示的模块命名空间</li>
</ul>
<blockquote>
<ul>
<li>CPython：由于CPython清理模块字典的设定，模块离开作用域时
  模块字典将被清理，即使字典还有活动引用，可以复制该字典、
  保持模块状态以直接使用其字典</li>
</ul>
</blockquote>
<h2 id="Code-Object"><a href="#Code-Object" class="headerlink" title="Code Object"></a><em>Code Object</em></h2><p>代码对象：“伪编译”为字节的可执行python代码，也称<em>bytecode</em></p>
<ul>
<li><p>代码对象和函数对象区别</p>
<ul>
<li>代码对象不包含上下文；函数对象包含对函数全局对象
（函数所属模块）的显式引用</li>
<li>默认参数值存放于函数对象而不是代码对象</li>
<li>代码对象不可变，也不包含对可变对象的应用</li>
</ul>
</li>
<li><p>代码对象由内置<code>compile()</code>函数返回</p>
<ul>
<li>可以通过函数对象<code>__code__</code>属性从中提取</li>
<li>可以作为参数传给<code>exec()</code>、<code>eval()</code>函数执行</li>
</ul>
</li>
</ul>
<h3 id="特殊属性"><a href="#特殊属性" class="headerlink" title="特殊属性"></a>特殊属性</h3><ul>
<li><code>co_name</code>：函数名称</li>
<li><code>co_argcount</code>：位置参数数量</li>
<li><code>co_nlocals</code>：函数使用的本地变量数量（包括参数）</li>
<li><code>co_varnames</code>：包含本地变量名称的元组</li>
<li><code>co_freevars</code>：包含自由变量的元组</li>
<li><code>co_code</code>：表示字节码指令序列的字符串</li>
<li><code>co_consts</code>：包含字节码所使用的字面值元组<ul>
<li>若代码对象表示一个函数，第一项为函数文档字符，没有
则为<code>None</code></li>
</ul>
</li>
<li><code>co_names</code>：包含字节码所使用的名称的元组</li>
<li><code>co_filenames</code>：被编译代码所在文件名</li>
<li><code>co_firstlineno</code>：函数首行行号</li>
<li><code>co_lnotab</code>：以编码表示的字节码偏移量到行号映射的字符串</li>
<li><code>co_stacksize</code>：要求栈大小（包括本地变量）</li>
<li><code>co_flags</code>：以编码表示的多个解释器所用标志的整形数<ul>
<li><code>0x04</code>位：函数使用<code>*arguments</code>接受任意数量位置参数</li>
<li><code>0x08</code>位：函数使用<code>**keywords</code>接受任意数量关键字参数</li>
<li><code>0x20</code>位：函数是生成器</li>
<li><code>0x2000</code>位：函数编译时使用启用未来除法特性</li>
<li>其他位被保留为内部使用</li>
</ul>
</li>
</ul>
<h2 id="Frame-Objects"><a href="#Frame-Objects" class="headerlink" title="Frame Objects"></a><em>Frame Objects</em></h2><p>栈帧对象：执行帧</p>
<ul>
<li>可能出现在回溯对象中，还会被传递给注册跟踪函数</li>
</ul>
<h3 id="特殊只读属性"><a href="#特殊只读属性" class="headerlink" title="特殊只读属性"></a>特殊只读属性</h3><ul>
<li><code>f_back</code>：前一帧对象，指向主调函数<ul>
<li>最底层堆栈帧则为<code>None</code></li>
</ul>
</li>
<li><code>f_code</code>：此栈帧中所执行的代码对象</li>
<li><code>f_locals</code>：查找本地变量的字典</li>
<li><code>f_globals</code>：查找全局变量</li>
<li><code>f_builtins</code>：查找内置名称</li>
<li><code>f_lasti</code>：精确指令，代码对象字节码字符串的索引</li>
</ul>
<h3 id="特殊可写属性"><a href="#特殊可写属性" class="headerlink" title="特殊可写属性"></a>特殊可写属性</h3><ul>
<li><code>f_trace</code>：<code>None</code>，或代码执行期间调用各类事件的函数<ul>
<li>通常每行新源码触发一个事件</li>
</ul>
</li>
<li><code>f_trace_lines</code>：设置是否每行新源码触发一个事件</li>
<li><code>f_trace_opcodes</code>：设置是否允许按操作码请求事件</li>
<li><code>f_lineno</code>：帧当前行号<ul>
<li>可以通过写入<code>f_lineno</code>实现Jump命令</li>
</ul>
</li>
</ul>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><ul>
<li><code>.clear()</code>：清楚该帧持有的全部对本地变量的引用<ul>
<li>若该栈帧为属于生成器，生成器被完成</li>
<li>有助于打破包含帧对象的循环引用</li>
<li>若帧当前正在执行则会<code>raise RuntimeError</code></li>
</ul>
</li>
</ul>
<h2 id="Traceback-Objects"><a href="#Traceback-Objects" class="headerlink" title="Traceback Objects"></a><em>Traceback Objects</em></h2><p>回溯对象：表示异常的栈跟踪记录</p>
<ul>
<li><p>异常被印发时会自动创建回溯对象，并将其关联到异常的可写
<code>__traceback__</code>属性</p>
<ul>
<li>查找异常句柄使得执行栈展开时，会在每个展开层级的当前
回溯之前插入回溯对象</li>
<li>进入异常句柄时，栈跟踪将对程序启用</li>
<li>获取：<code>sys.exc_info()</code>返回的元组第三项、异常的
<code>__traceback__</code>属性</li>
<li>程序没有合适的处理句柄时，栈跟踪将写入标准错误</li>
</ul>
</li>
<li><p>可通过<code>types.TracebackType</code>显式创建</p>
<ul>
<li>由回溯对象创建者决定如何链接<code>tb_next</code>属性构成完整
栈追踪</li>
</ul>
</li>
</ul>
<h3 id="特殊只读属性-1"><a href="#特殊只读属性-1" class="headerlink" title="特殊只读属性"></a>特殊只读属性</h3><ul>
<li><code>tb_frame</code>：执行当前层级的执行栈帧</li>
<li><code>tb_lineno</code>：给出发生异常所在行号</li>
<li><code>tb_lasti</code>：最后具体指令</li>
</ul>
<blockquote>
<ul>
<li>若异常出现在没有匹配的<code>except</code>子句、没有<code>finally</code>子句
  的<code>try</code>中，回溯对象中的行号、最后指令可能于相应帧对象中
  行号不同</li>
</ul>
</blockquote>
<h3 id="特殊可写属性-1"><a href="#特殊可写属性-1" class="headerlink" title="特殊可写属性"></a>特殊可写属性</h3><ul>
<li><code>tb_next</code>：栈跟踪中下一层级（通往发生异常的帧），没有
下一层级则为<code>None</code></li>
</ul>
<h2 id="I-O对象-文件对象"><a href="#I-O对象-文件对象" class="headerlink" title="I/O对象/文件对象"></a>I/O对象/文件对象</h2><p>文件对象：表示打开的文件</p>
<ul>
<li><p>创建文件对象</p>
<ul>
<li><code>open()</code>内置函数</li>
<li><code>os.popen()</code>、<code>os.fdopen()</code></li>
<li><code>socket.makefile()</code></li>
</ul>
</li>
<li><p><code>sys.stdin</code>、<code>sys.stdout</code>、<code>sys.stderr</code>会初始化为对应于
解释器的标准输入、输出、错误流对象</p>
<ul>
<li>均以文本模式打开</li>
<li>遵循<code>io.TextIOBase</code>抽象类所定义接口</li>
</ul>
</li>
</ul>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">36</span></span></a><ul><li><a class="level is-mobile" href="/categories/Algorithm/Data-Structure/"><span class="level-start"><span class="level-item">Data Structure</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Heuristic/"><span class="level-start"><span class="level-item">Heuristic</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Issue/"><span class="level-start"><span class="level-item">Issue</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Problem/"><span class="level-start"><span class="level-item">Problem</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Specification/"><span class="level-start"><span class="level-item">Specification</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/C-C/"><span class="level-start"><span class="level-item">C/C++</span></span><span class="level-end"><span class="level-item tag">34</span></span></a><ul><li><a class="level is-mobile" href="/categories/C-C/Cppref/"><span class="level-start"><span class="level-item">Cppref</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/Cstd/"><span class="level-start"><span class="level-item">Cstd</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/MPI/"><span class="level-start"><span class="level-item">MPI</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/STL/"><span class="level-start"><span class="level-item">STL</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/CS/"><span class="level-start"><span class="level-item">CS</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/CS/Character/"><span class="level-start"><span class="level-item">Character</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Parallel/"><span class="level-start"><span class="level-item">Parallel</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Program-Design/"><span class="level-start"><span class="level-item">Program Design</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Storage/"><span class="level-start"><span class="level-item">Storage</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Daily-Life/"><span class="level-start"><span class="level-item">Daily Life</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Daily-Life/Maxism/"><span class="level-start"><span class="level-item">Maxism</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">27</span></span></a><ul><li><a class="level is-mobile" href="/categories/Database/Hadoop/"><span class="level-start"><span class="level-item">Hadoop</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/SQL-DB/"><span class="level-start"><span class="level-item">SQL DB</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/Spark/"><span class="level-start"><span class="level-item">Spark</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/Java/Scala/"><span class="level-start"><span class="level-item">Scala</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">42</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Bash-Programming/"><span class="level-start"><span class="level-item">Bash Programming</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Configuration/"><span class="level-start"><span class="level-item">Configuration</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/File-System/"><span class="level-start"><span class="level-item">File System</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/IPC/"><span class="level-start"><span class="level-item">IPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Process-Schedual/"><span class="level-start"><span class="level-item">Process Schedual</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Shell/"><span class="level-start"><span class="level-item">Shell</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Tool/"><span class="level-start"><span class="level-item">Tool</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Tool/Vi/"><span class="level-start"><span class="level-item">Vi</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Model/"><span class="level-start"><span class="level-item">ML Model</span></span><span class="level-end"><span class="level-item tag">21</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Model/Linear-Model/"><span class="level-start"><span class="level-item">Linear Model</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Model-Component/"><span class="level-start"><span class="level-item">Model Component</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Nolinear-Model/"><span class="level-start"><span class="level-item">Nolinear Model</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Unsupervised-Model/"><span class="level-start"><span class="level-item">Unsupervised Model</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/"><span class="level-start"><span class="level-item">ML Specification</span></span><span class="level-end"><span class="level-item tag">17</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/Click-Through-Rate/"><span class="level-start"><span class="level-item">Click Through Rate</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/Click-Through-Rate/Recommandation-System/"><span class="level-start"><span class="level-item">Recommandation System</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/Computer-Vision/"><span class="level-start"><span class="level-item">Computer Vision</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Specification/FinTech/"><span class="level-start"><span class="level-item">FinTech</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/FinTech/Risk-Control/"><span class="level-start"><span class="level-item">Risk Control</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/Graph-Analysis/"><span class="level-start"><span class="level-item">Graph Analysis</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Specification/NLP/"><span class="level-start"><span class="level-item">NLP</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Technique/"><span class="level-start"><span class="level-item">ML Technique</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Technique/Feature-Engineering/"><span class="level-start"><span class="level-item">Feature Engineering</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Technique/Neural-Network/"><span class="level-start"><span class="level-item">Neural Network</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Theory/"><span class="level-start"><span class="level-item">ML Theory</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Theory/Loss/"><span class="level-start"><span class="level-item">Loss</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Theory/Model-Enhencement/"><span class="level-start"><span class="level-item">Model Enhencement</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Theory/Optimization/"><span class="level-start"><span class="level-item">Optimization</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Algebra/"><span class="level-start"><span class="level-item">Math Algebra</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Algebra/Linear-Algebra/"><span class="level-start"><span class="level-item">Linear Algebra</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Algebra/Universal-Algebra/"><span class="level-start"><span class="level-item">Universal Algebra</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Analysis/"><span class="level-start"><span class="level-item">Math Analysis</span></span><span class="level-end"><span class="level-item tag">23</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Analysis/Fourier-Analysis/"><span class="level-start"><span class="level-item">Fourier Analysis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Functional-Analysis/"><span class="level-start"><span class="level-item">Functional Analysis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Optimization/"><span class="level-start"><span class="level-item">Optimization</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Real-Analysis/"><span class="level-start"><span class="level-item">Real Analysis</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Mixin/"><span class="level-start"><span class="level-item">Math Mixin</span></span><span class="level-end"><span class="level-item tag">18</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Mixin/Statistics/"><span class="level-start"><span class="level-item">Statistics</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Mixin/Time-Series/"><span class="level-start"><span class="level-item">Time Series</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Probability/"><span class="level-start"><span class="level-item">Probability</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">89</span></span></a><ul><li><a class="level is-mobile" href="/categories/Python/Cookbook/"><span class="level-start"><span class="level-item">Cookbook</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Jupyter/"><span class="level-start"><span class="level-item">Jupyter</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Keras/"><span class="level-start"><span class="level-item">Keras</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Matplotlib/"><span class="level-start"><span class="level-item">Matplotlib</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Numpy/"><span class="level-start"><span class="level-item">Numpy</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Pandas/"><span class="level-start"><span class="level-item">Pandas</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Py3Ref/"><span class="level-start"><span class="level-item">Py3Ref</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Py3std/"><span class="level-start"><span class="level-item">Py3std</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Pywin32/"><span class="level-start"><span class="level-item">Pywin32</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Readme/"><span class="level-start"><span class="level-item">Readme</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/TensorFlow/"><span class="level-start"><span class="level-item">TensorFlow</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Twists/"><span class="level-start"><span class="level-item">Twists</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/RLang/"><span class="level-start"><span class="level-item">RLang</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Rust/"><span class="level-start"><span class="level-item">Rust</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Set/"><span class="level-start"><span class="level-item">Set</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/"><span class="level-start"><span class="level-item">Tool</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/Tool/Editor/"><span class="level-start"><span class="level-item">Editor</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Markup-Language/"><span class="level-start"><span class="level-item">Markup Language</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Web-Browser/"><span class="level-start"><span class="level-item">Web Browser</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Windows/"><span class="level-start"><span class="level-item">Windows</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/Web/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/NPM/"><span class="level-start"><span class="level-item">NPM</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/Proxy/"><span class="level-start"><span class="level-item">Proxy</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/Thrift/"><span class="level-start"><span class="level-item">Thrift</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><!--!--><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="UBeaRLy"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">UBeaRLy</p><p class="is-size-6 is-block">Protector of Proxy</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Earth, Solar System</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">392</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">93</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">522</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/xyy15926" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/xyy15926"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-04T15:07:54.896Z">2021-08-04</time></p><p class="title"><a href="/uncategorized/README.html"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-03T07:46:51.000Z">2021-08-03</time></p><p class="title"><a href="/Web/NPM/hexo_config.html">Hexo 建站</a></p><p class="categories"><a href="/categories/Web/">Web</a> / <a href="/categories/Web/NPM/">NPM</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-03T02:32:45.000Z">2021-08-03</time></p><p class="title"><a href="/Web/NPM/config.html">NPM 总述</a></p><p class="categories"><a href="/categories/Web/">Web</a> / <a href="/categories/Web/NPM/">NPM</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-02T08:11:11.000Z">2021-08-02</time></p><p class="title"><a href="/Python/Py3std/internet_data.html">互联网数据</a></p><p class="categories"><a href="/categories/Python/">Python</a> / <a href="/categories/Python/Py3std/">Py3std</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-29T13:55:00.000Z">2021-07-29</time></p><p class="title"><a href="/Linux/Shell/sh_apps.html">Shell 应用程序</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Shell/">Shell</a></p></div></article></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5385776267343559" data-ad-slot="6995841235" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="UBeaRLy" height="28"></a><p class="is-size-7"><span>&copy; 2021 UBeaRLy</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/xyy15926/proxy"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>