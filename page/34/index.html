<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>UBeaRLy</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="UBeaRLy&#039;s Proxy"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="UBeaRLy&#039;s Proxy"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="UBeaRLy"><meta property="og:url" content="https://xyy15926.github.io/"><meta property="og:site_name" content="UBeaRLy"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://xyy15926.github.io/img/og_image.png"><meta property="article:author" content="UBeaRLy"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://xyy15926.github.io"},"headline":"UBeaRLy","image":["https://xyy15926.github.io/img/og_image.png"],"author":{"@type":"Person","name":"UBeaRLy"},"publisher":{"@type":"Organization","name":"UBeaRLy","logo":{"@type":"ImageObject","url":"https://xyy15926.github.io/img/logo.svg"}},"description":""}</script><link rel="alternate" href="/atom.xml" title="UBeaRLy" type="application/atom+xml"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/darcula.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oxanium:wght@300;400;600&amp;family=Roboto+Mono"><link rel="stylesheet" href="/css/cyberpunk.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><script data-ad-client="pub-5385776267343559" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="follow_it-verification-code" content="SVBypAPPHxjjr7Y4hHfn"><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="UBeaRLy" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Visit on GitHub" href="https://github.com/xyy15926/proxy"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:08.000Z" title="2/17/2019, 11:57:08 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Web/">Web</a><span> / </span><a class="link-muted" href="/categories/Web/CSS/">CSS</a></span><span class="level-item">6 minutes read (About 907 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Web/CSS/css.html">CSS</a></h1><div class="content"><h2 id="CSS属性"><a href="#CSS属性" class="headerlink" title="CSS属性"></a>CSS属性</h2><ul>
<li><code>display</code>：元素展示<ul>
<li><code>inline</code>：默认，内联元素</li>
<li><code>flex</code>：弹性容器</li>
<li><code>none</code>：不显示</li>
<li><code>block</code>：块级元素，元素前后有换行符</li>
<li><code>inline-block</code>：行内块元素</li>
<li><code>list-item</code>：列表元素</li>
<li><code>run-in</code>：根据上下文作为块级元素或内联元素</li>
<li><code>table</code>：表格元素<code>&lt;table&gt;</code>，前后有换行符<ul>
<li><code>inline-table</code>：内联表格元素，前后无换行符</li>
<li><code>table-row-group</code></li>
<li><code>table-row</code></li>
<li><code>table-header-group</code></li>
<li><code>table-footer-group</code></li>
<li><code>table-column-group</code></li>
<li><code>table-column</code></li>
<li><code>table-cell</code></li>
<li><code>table-caption</code></li>
</ul>
</li>
<li><code>inherit</code></li>
</ul>
</li>
</ul>
<h3 id="弹性容器Flex"><a href="#弹性容器Flex" class="headerlink" title="弹性容器Flex"></a>弹性容器Flex</h3><h4 id="flex"><a href="#flex" class="headerlink" title="flex"></a><code>flex</code></h4><p><strong>弹性容器</strong>内元素空间分配</p>
<ul>
<li><code>flex-grow flex-shrink flex-basis</code>简写，只给出一个值时
相当于<code>flex-grow</code></li>
<li><code>auto</code>：同<code>1 1 auto</code></li>
<li><code>none</code>：同<code>0 0 auto</code></li>
<li><code>initial</code>：初始值，同<code>0 0 auto</code></li>
<li><code>inherit</code>：</li>
</ul>
<h4 id="flex-grow"><a href="#flex-grow" class="headerlink" title="flex-grow"></a><code>flex-grow</code></h4><p>（弹性容器内）元素相对于其他元素项目扩展的量</p>
<ul>
<li><code>auto</code></li>
<li><code>inherit</code></li>
<li><code>&#123;num&#125;</code>：相对于其他元素的扩展量，默认为0，应该是按照比例分</li>
</ul>
<h4 id="flex-shrink"><a href="#flex-shrink" class="headerlink" title="flex-shrink"></a><code>flex-shrink</code></h4><p>（弹性容器内）元素相对于其他元素收缩的量</p>
<h4 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a><code>flex-basis</code></h4><p>（弹性容器内）元素基础长度</p>
<ul>
<li><code>auto</code></li>
<li><code>inherit</code></li>
<li>具体长度（<code>%, px, em</code>为单位）</li>
</ul>
<h4 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a><code>flex-flow</code></h4><ul>
<li><code>flex-direction flex-wrap</code></li>
<li><code>initial</code></li>
<li><code>inherit</code></li>
</ul>
<h4 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a><code>flex-direction</code></h4><p>弹性容器内元素方向</p>
<ul>
<li><code>row</code>：默认，灵活元素水平排列</li>
<li><code>row-reverse</code>：灵活元素水平反向排列</li>
<li><code>column</code>：灵活元素竖直排列</li>
<li><code>column-reverse</code>：灵活元素竖直反向排列</li>
<li><code>initial</code></li>
<li><code>inherit</code></li>
</ul>
<h4 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a><code>flex-wrap</code></h4><p>弹性容器内元素是否拆行/列</p>
<ul>
<li><code>nowrap</code>：默认，灵活项目不拆行/列</li>
<li><code>wrap</code>：灵活项目必要时拆行/列</li>
<li><code>wrap-reverse</code>：灵活项目必要时反向拆行/列</li>
<li><code>initial</code></li>
<li><code>inherit</code></li>
</ul>
<h3 id="弹性容器Align"><a href="#弹性容器Align" class="headerlink" title="弹性容器Align"></a>弹性容器Align</h3><h4 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a><code>align-items</code></h4><p><strong>弹性容器</strong>内侧轴（竖直方向）对齐各项元素，适合含有单行元素</p>
<ul>
<li><code>stretch</code>：默认，元素拉伸对齐，元素大小确定时同
<code>flex-start</code>效果</li>
<li><code>center</code>：元素堆叠在容器中心</li>
<li><code>flex-start</code>：元素堆叠向容器开头</li>
<li><code>flex-end</code>：元素堆叠向容器结尾</li>
<li><code>baseline</code>：元素位于容器基线上</li>
<li><code>initial</code>：初始值</li>
<li><code>inherit</code>：从父类继承</li>
</ul>
<h4 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a><code>align-content</code></h4><p>和<code>align-items</code>有相同的功能，适合多行元素
（这个好像作用单位是<strong>弹性容器</strong>的行）</p>
<ul>
<li><code>stretch</code>：默认，元素拉伸对齐，元素大小确定时同
<code>flex-start</code>效果</li>
<li><code>center</code>：元素堆叠在容器中心</li>
<li><code>flex-start</code>：元素堆叠向容器开头</li>
<li><code>flex-end</code>：元素堆叠向容器结尾</li>
<li><code>space-between</code>：元素向容器两端堆叠，元素间保持间距</li>
<li><code>space-around</code>：类似<code>space-between</code>，但元素于容器
边界直接也有间距</li>
<li><code>initial</code>：初始值</li>
<li><code>inherit</code>：从父类继承</li>
</ul>
<h4 id="align-self"><a href="#align-self" class="headerlink" title="align-self"></a><code>align-self</code></h4><p>设置<strong>弹性容器</strong>内元素本身侧轴方向上的对齐方式</p>
<ul>
<li><code>auto</code>：默认，继承父容器<code>align-items</code>属性，没有
父容器则为<code>stretch</code></li>
<li><code>stretch</code>：元素拉伸对齐，元素大小确定时同
<code>flex-start</code>效果</li>
<li><code>center</code>：元素堆叠在容器中心</li>
<li><code>flex-start</code>：元素堆叠向容器开头</li>
<li><code>flex-end</code>：元素堆叠向容器结尾</li>
<li><code>baseline</code>：元素位于容器基线上</li>
<li><code>initial</code>：初始值</li>
<li><code>inherit</code>：从父类继承</li>
</ul>
<h4 id="justify"><a href="#justify" class="headerlink" title="justify"></a><code>justify</code></h4><p><strong>弹性容器</strong>内水平排列各项元素</p>
<ul>
<li><code>flex-start</code>：默认，元素位于容器开头</li>
<li><code>flex-end</code>：元素堆叠向容器结尾</li>
<li><code>center</code>：元素堆叠在容器中心</li>
<li><code>space-between</code>：元素向容器两端堆叠，元素间保持间距</li>
<li><code>space-around</code>：类似<code>space-between</code>，但元素于容器
边界直接也有间距</li>
<li><code>initial</code>：初始值</li>
<li><code>inherit</code>：从父类继承</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:08.000Z" title="2/17/2019, 11:57:08 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Web/">Web</a><span> / </span><a class="link-muted" href="/categories/Web/Thrift/">Thrift</a></span><span class="level-item">8 minutes read (About 1229 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Web/Thrift/thrift_intro.html">Thrift简介</a></h1><div class="content"><h2 id="Thrift架构"><a href="#Thrift架构" class="headerlink" title="Thrift架构"></a>Thrift架构</h2><ul>
<li><p>Thrift是跨语言、C/S模式、服务器部署框架</p>
</li>
<li><p>使用Interface Definition Language（IDL）定义RPC接口
、数据类型</p>
</li>
<li><p>然后通过Thrift编译器生成不同语言的<strong>代码</strong>，并由生成
代码负责RPC<strong>协议层</strong>、<strong>传输层</strong>实现</p>
<ul>
<li>支持服务器端和客户端编译生成代码为不同语言</li>
<li>客户端、服务端代码调用生成代码搭建C/S</li>
</ul>
</li>
<li><p>Thrift支持动态（执行）、静态（编译）</p>
</li>
</ul>
<h3 id="Thrift网络栈"><a href="#Thrift网络栈" class="headerlink" title="Thrift网络栈"></a>Thrift网络栈</h3><p><img src="/imgs/thrift_structure" alt="thrift_structure"></p>
<h4 id="TTransport"><a href="#TTransport" class="headerlink" title="TTransport"></a>TTransport</h4><p>传输层，定义数据传输方式</p>
<ul>
<li><p>可以是TPC/IP、共享内存、共享文件等，作为运行时库</p>
</li>
<li><p>提供了一个简单的网络读写抽象层，使Thrift底层TTransport
从系统其他部分（如：序列化、反序列化）解耦</p>
</li>
<li><p>接口方法包括</p>
<ul>
<li><code>open</code></li>
<li><code>close</code></li>
<li><code>read</code></li>
<li><code>write</code></li>
<li><code>listen</code></li>
<li><code>accept</code></li>
<li><code>flush</code></li>
</ul>
</li>
</ul>
<h5 id="传输协议"><a href="#传输协议" class="headerlink" title="传输协议"></a>传输协议</h5><ul>
<li>TSocket：阻塞式socket</li>
<li>TFramedTransport：frame为单位进行传输，非阻塞式</li>
<li>TFileTransport：文件形式传输</li>
<li>TMemoryTransport：直接对内存进行I/O<ul>
<li>Java实现时使用了简单的ByteArrayOutputStream</li>
</ul>
</li>
<li>TZlibTransport：使用zlib进行压缩，同其他方式联合使用<ul>
<li>目前无java实现</li>
</ul>
</li>
</ul>
<h4 id="TProtocol"><a href="#TProtocol" class="headerlink" title="TProtocol"></a>TProtocol</h4><p>协议层，定义数据传输格式</p>
<ul>
<li><p>定义了一种将内存的数据结构映射成可传输格式的机制，即定义
数据类型在TTransport和自身间进行解、编码</p>
</li>
<li><p>需要实现编码机制，负责对数据进行序列化、反序列化</p>
</li>
</ul>
<h5 id="数据格式"><a href="#数据格式" class="headerlink" title="数据格式"></a>数据格式</h5><ul>
<li>TBinaryProtocal：二进制格式</li>
<li>TCompactProtocal：压缩格式</li>
<li>TJSONProtocol：JSON格式</li>
<li>TSimpleJSONProtocal：提供JSON只写协议，生成文件容易
通过脚本语言解析</li>
<li>TDebugProtocol：简单易懂的可读文本格式，便于debug</li>
</ul>
<h4 id="TProcessor"><a href="#TProcessor" class="headerlink" title="TProcessor"></a>TProcessor</h4><p>封装了从输入数据流中读取、向输出数据流中写的操作</p>
<ul>
<li>读写数据流用TProtocol对象表示</li>
<li>和服务相关的TProcessor由Thrift编译器产生</li>
<li>工作流程<ul>
<li>使用输入TProtocol从连接中读取数据</li>
<li>将处理授权给用户实现的handler</li>
<li>使用输出TProtocol向连接中写入数据</li>
</ul>
</li>
</ul>
<h3 id="服务模型"><a href="#服务模型" class="headerlink" title="服务模型"></a>服务模型</h3><ul>
<li>创建TTransport对象</li>
<li>为TTransport对象创建输入、输出TProtocol对象</li>
<li>基于输入、输出TProtocol对象创建TProcessor对象</li>
<li>等待连接请求，交由TProcessor处理</li>
</ul>
<h4 id="支持的服务模型"><a href="#支持的服务模型" class="headerlink" title="支持的服务模型"></a>支持的服务模型</h4><ul>
<li>TSimpleServer：简单单线程服务模型</li>
<li>TThreadPoolServer：多线程服务模型，使用标准阻塞式I/O</li>
<li>TNonblockingServer：多线程服务模型，使用非阻塞式I/O<ul>
<li>需使用TFrameTransport传输方式</li>
</ul>
</li>
</ul>
<h2 id="Thrift语法"><a href="#Thrift语法" class="headerlink" title="Thrift语法"></a>Thrift语法</h2><h3 id="句法"><a href="#句法" class="headerlink" title="句法"></a>句法</h3><ul>
<li><p>支持shell的<code>#</code>注释、C/C++的<code>//</code>/<code>/**/</code>注释</p>
</li>
<li><p>struct等复杂类型定义中</p>
<ul>
<li>类型名和<code>&#123;</code>之间必须有空格</li>
<li>各字段之间<code>,</code>分割（末尾不能有<code>,</code>）</li>
<li>方法可以使用<code>;</code>、<code>,</code>结尾</li>
</ul>
</li>
</ul>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><ul>
<li>可以是基本类型、结构体</li>
<li>参数是常量<code>const</code>，不能作为返回值</li>
</ul>
<h4 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h4><ul>
<li>可以是基本类型、结构体</li>
</ul>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h3><p>不支持无符号整形</p>
<ul>
<li><code>bool</code></li>
<li><code>byte</code></li>
<li><code>i16</code></li>
<li><code>i32</code></li>
<li><code>i64</code></li>
<li><code>double</code></li>
<li><code>string</code></li>
<li><code>binary</code>：字节数组</li>
</ul>
<h3 id="泛型（容器）"><a href="#泛型（容器）" class="headerlink" title="泛型（容器）"></a>泛型（容器）</h3><p>容器中元素类型可以是除了service以外的任何类型（包括结构体、
异常）</p>
<ul>
<li><code>map&lt;t1, t2&gt;</code>：字典</li>
<li><code>list&lt;t1&gt;</code>：列表</li>
<li><code>set&lt;t1&gt;</code>：集合</li>
</ul>
<h3 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h3><p>Thrift结构体概念上同C结构体：将相关数据封装</p>
<figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Work</span> </span>&#123;</span><br><span class="line">	<span class="number">1</span>: <span class="built_in">i32</span> num1=<span class="number">0</span>,</span><br><span class="line">	<span class="number">2</span>: <span class="built_in">i32</span> num2,</span><br><span class="line">	<span class="number">3</span>: Operation op,</span><br><span class="line">	<span class="number">4</span>: <span class="keyword">optional</span> <span class="built_in">string</span> comment,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>编译为面向对象语言时：将被转换为类</p>
</li>
<li><p>结构体中，每个字段包含</p>
<ul>
<li>整数ID</li>
<li>数据类型</li>
<li>字段名</li>
<li>可选的默认值</li>
</ul>
</li>
<li><p>字段可选：<strong>规范</strong>的struct定义中，每个域都使用<code>optional</code>
、<code>required</code>关键字标识</p>
<ul>
<li><code>optional</code>：字段未设置时，序列化输出时不被包括</li>
<li><code>required</code>：字段未设置时，Thrift给与提示</li>
</ul>
</li>
<li><p>不支持继承</p>
</li>
</ul>
<h3 id="Exception"><a href="#Exception" class="headerlink" title="Exception"></a>Exception</h3><figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">exception</span> <span class="title">InvalidOperation</span> </span>&#123;</span><br><span class="line">	<span class="number">1</span>: <span class="built_in">i32</span> what,</span><br><span class="line">	<span class="number">2</span>: <span class="built_in">string</span> why</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>异常在语法、功能上类似于结构体，使用<code>exception</code>声明，但
语义不同</li>
</ul>
<h3 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h3><p>Thrift编译器根据选择的目标语言为server产生服务接口代码，为
client产生桩代码</p>
<ul>
<li>函数、参数列表定义方式同struct</li>
<li>支持继承：<code>extends</code></li>
</ul>
<figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">service</span> <span class="title">Twitter</span> </span>&#123;</span><br><span class="line">	# Twitter和`&#123;`中需要有空格</span><br><span class="line">	<span class="keyword">void</span> ping(),</span><br><span class="line">	<span class="built_in">bool</span> postTweet(<span class="number">1</span>: Tweet tweet);</span><br><span class="line">	TweetSearchResult searchTweets(<span class="number">1</span>: <span class="built_in">string</span> query);</span><br><span class="line">	<span class="keyword">oneway</span> <span class="keyword">void</span> zip();</span><br></pre></td></tr></table></figure>
<h3 id="enum"><a href="#enum" class="headerlink" title="enum"></a>enum</h3><p>枚举类型</p>
<ul>
<li>枚举常量必须时32位正整数</li>
</ul>
<figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">TweetType</span> </span>&#123;</span><br><span class="line">	TWEET,</span><br><span class="line">	RETWEET = <span class="number">2</span>,</span><br><span class="line">	DM = <span class="number">0</span>xa,</span><br><span class="line">	REPLY</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="const"><a href="#const" class="headerlink" title="const"></a>const</h3><p>常量</p>
<ul>
<li>复杂类型、结构体可以使用JSON标识</li>
</ul>
<figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">i32</span> INT_CONST = <span class="number">1234</span></span><br><span class="line"><span class="keyword">const</span> map&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt; MAP_CONST = &#123;<span class="string">&quot;hello&quot;</span>: <span class="string">&quot;world&quot;</span>, <span class="string">&quot;1&quot;</span>: <span class="string">&quot;2&quot;</span>&#125;</span><br></pre></td></tr></table></figure>
<h3 id="typedef"><a href="#typedef" class="headerlink" title="typedef"></a>typedef</h3><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">typedef i32 new<span class="emphasis">_type</span></span><br></pre></td></tr></table></figure>
<h2 id="namespace"><a href="#namespace" class="headerlink" title="namespace"></a>namespace</h2><p>Thrift命名空间同C++中namespace类似</p>
<ul>
<li>均提供组织（隔离）代码的方式</li>
<li>因为不同的语言有不同的命名空间定义方式（如：python中
module），Thrift允许针对特定语言定义namespace</li>
</ul>
<figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> cpp com.example.project</span><br><span class="line"><span class="keyword">namespace</span> java com.example.project</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Keras/">Keras</a></span><span class="level-item">6 minutes read (About 867 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Keras/README.html">Keras Readme</a></h1><div class="content"><h2 id="常用参数说明"><a href="#常用参数说明" class="headerlink" title="常用参数说明"></a>常用参数说明</h2><ul>
<li>函数书写声明同Python全局说明</li>
<li>以下常用参数如不特殊注明，按照此解释</li>
</ul>
<h3 id="Common"><a href="#Common" class="headerlink" title="Common"></a>Common</h3><ul>
<li><p><code>seed=None/int</code></p>
<ul>
<li>含义：随机数种子</li>
</ul>
</li>
<li><p><code>padding=&quot;valid&quot;/&quot;same&quot;/&quot;causal&quot;</code></p>
<ul>
<li>含义：补0策略<ul>
<li>“valid”：只进行有效有效卷积，忽略边缘数据，输入
数据比输出数据shape减小</li>
<li>“same”：保留边界处卷积结果，输入数据和数据shape
相同</li>
<li>“causal”：产生膨胀（因果卷积），即<code>output[t]</code>
不依赖<code>input[t+1:]</code>，对不能违反时间顺序的时序
信号建模时有用</li>
</ul>
</li>
<li>默认：<em>valid</em></li>
</ul>
</li>
</ul>
<h3 id="Layers"><a href="#Layers" class="headerlink" title="Layers"></a>Layers</h3><ul>
<li><p><code>input_shape=None/(int,...)</code></p>
<ul>
<li>含义：输入数据shape<ul>
<li>Layers只有首层需要传递该参数，之后层可自行推断</li>
<li>传递tuple中<code>None</code>表示改维度边长</li>
</ul>
</li>
<li>默认：<code>None</code>，由Layers自行推断</li>
</ul>
</li>
<li><p><code>data_format=None/&quot;channels_last&quot;/&quot;channels_first&quot;</code></p>
<ul>
<li>含义：通道轴位置<ul>
<li>类似于<code>dim_ordering</code>，但是是Layer参数</li>
</ul>
</li>
<li>默认<ul>
<li>大部分：<code>None</code>由配置文件（默认”channels_last”）
、环境变量决定</li>
<li>Conv1DXX：”channels_last”</li>
<li>其实也不一定，最好每次手动指定</li>
</ul>
</li>
</ul>
</li>
<li><p><code>dim_ordering=None/&quot;th&quot;/&quot;tf&quot;</code></p>
<ul>
<li>含义：中指定channals轴位置(<code>th</code>batch后首、<code>tf</code>尾）</li>
<li>默认：<code>None</code>以Keras配置为准</li>
<li>注意：Deprecated，Keras1.x中使用</li>
</ul>
</li>
</ul>
<h3 id="Conv-Layers"><a href="#Conv-Layers" class="headerlink" title="Conv Layers"></a>Conv Layers</h3><ul>
<li><p><code>filters(int)</code></p>
<ul>
<li>含义：输出维度<ul>
<li>对于卷积层，就是卷积核数目，因为卷积共享卷积核</li>
<li>对于局部连接层，是卷积核<strong>组数</strong>，不共享卷积核
，实际上对每组有很多不同权重</li>
</ul>
</li>
</ul>
</li>
<li><p><code>kernel_size(int/(int)/[int])</code></p>
<ul>
<li>含义：卷积核形状，单值则各方向等长</li>
</ul>
</li>
<li><p><code>strides(int/(int)/[int])</code></p>
<ul>
<li>含义：卷积步长，单值则各方向相同</li>
<li>默认：<code>1</code>移动一个步长</li>
</ul>
</li>
<li><p><code>dilation_rate(int/(int)/[int])</code></p>
<ul>
<li>含义：膨胀比例<ul>
<li>即核元素之间距离</li>
<li><code>dilation_rate</code>、<code>strides</code>最多只能有一者为1，
即核膨胀、移动扩张最多只能出现一种</li>
</ul>
</li>
<li>默认：<code>1</code>不膨胀，核中个元素相距1</li>
</ul>
</li>
<li><p><code>use_bias=True/False</code></p>
<ul>
<li>含义：是否使用偏置项</li>
<li>默认：<code>True</code>使用偏置项</li>
</ul>
</li>
<li><p><code>activation=str/func</code></p>
<ul>
<li>含义：该层激活函数<ul>
<li><code>str</code>：预定义激活函数字符串</li>
<li><code>func</code>：自定义element-wise激活函数</li>
</ul>
</li>
<li>默认：<code>None</code>不做处理（即线性激活函数）</li>
</ul>
</li>
<li><p><code>kernel_initializer=str/func</code></p>
<ul>
<li>含义：权值初始化方法<ul>
<li><code>str</code>：预定义初始化方法名字符串
（参考Keras Initializer）</li>
<li><code>func</code>：初始化权重的初始化器</li>
</ul>
</li>
<li>默认：<code>glorot_uniform</code>初始化为平均值</li>
</ul>
</li>
<li><p><code>bias_initializer=str/func</code></p>
<ul>
<li>含义：偏置初始化方法<ul>
<li><code>str</code>：预定义初始化方法名字符串</li>
<li><code>func</code>：初始化权重的初始化器</li>
</ul>
</li>
<li>默认：<code>zeros</code>初始化为全0</li>
</ul>
</li>
<li><p><code>kernel_regularizer=None/obj</code></p>
<ul>
<li>含义：施加在权重上的正则项
（参考Keras Regularizer对象）</li>
<li>默认：<code>None</code>不使用正则化项</li>
</ul>
</li>
<li><p><code>bias_regularizer=None/obj</code></p>
<ul>
<li>含义：施加在偏置上的正则项
（参考Keras Regularizer对象）</li>
<li>默认：<code>None</code>不使用正则化项</li>
</ul>
</li>
<li><p><code>activity_regularizer=None/obj</code></p>
<ul>
<li>含义：施加在输出上的正则项
（参考Keras Regularizer对象）</li>
<li>默认：<code>None</code>不使用正则化项</li>
</ul>
</li>
<li><p><code>kernel_constraint=None/obj</code></p>
<ul>
<li>含义：施加在权重上的约束项
（参考Keras Constraints）</li>
<li>默认：<code>None</code>不使用约束项</li>
</ul>
</li>
<li><p><code>bias_constraint=None</code></p>
<ul>
<li>含义：施加在偏置上的约束项
（参考Keras Constraints）</li>
<li>默认：<code>None</code>不使用约束项</li>
</ul>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Keras/">Keras</a></span><span class="level-item">4 minutes read (About 635 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Keras/acitivation.html">激活函数</a></h1><div class="content"><ul>
<li><p>通过设置单独的激活层实现</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Activation, Dense</span><br><span class="line"></span><br><span class="line">model.add(Dense(<span class="number">64</span>))</span><br><span class="line">model.add(Activation(<span class="string">&#x27;tanh&#x27;</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>也可以在构造层对象时通过传递<code>activation</code>参数实现</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.add(Dense(<span class="number">64</span>, activation=<span class="string">&#x27;tanh&#x27;</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以通过传递一个逐元素运算的Theano/TensorFlow/CNTK函数
来作为激活函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line"></span><br><span class="line">model.add(Dense(<span class="number">64</span>, activation=K.tanh))</span><br><span class="line">model.add(Activation(K.tanh))</span><br></pre></td></tr></table></figure>
<h2 id="softmax"><a href="#softmax" class="headerlink" title="softmax"></a>softmax</h2></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">softmax(</span><br><span class="line">	x(tensor),</span><br><span class="line">	axis=-<span class="number">1</span>/<span class="built_in">int</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Softmax激活函数</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>x</code>：张量</li>
<li><code>axis</code>：整数，代表softmax所作用的维度</li>
</ul>
</li>
<li><p>返回值：softmax变换后的张量。</p>
</li>
<li><p>异常：</p>
<ul>
<li><code>ValueError</code>： In case <code>dim(x) == 1</code></li>
</ul>
</li>
</ul>
<h2 id="elu"><a href="#elu" class="headerlink" title="elu"></a>elu</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">elu(</span><br><span class="line">	x,</span><br><span class="line">	alpha=<span class="number">1.0</span>/num</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>指数线性单元</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>alpha</code>：一个标量，表示负数部分的斜率。</li>
</ul>
</li>
<li><p>返回值：线性指数激活</p>
<ul>
<li>如果 <code>x &gt; 0</code>，返回值为 <code>x</code></li>
<li>如果 <code>x &lt; 0</code> 返回值为 <code>alpha * (exp(x)-1)</code></li>
</ul>
</li>
<li><p>参考文献</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1511.07289">Fast and Accurate Deep Network Learning by Exponential Linear Units (ELUs)</a></li>
</ul>
</li>
</ul>
<h2 id="selu"><a href="#selu" class="headerlink" title="selu"></a>selu</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">selu(x)</span><br></pre></td></tr></table></figure>
<p>可伸缩的指数线性单元（SELU）。</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>x</code>: 一个用来用于计算激活函数的张量或变量。</li>
</ul>
</li>
<li><p>返回值：可伸缩线性指数激活</p>
<ul>
<li>可伸缩的指数线性激活：<code>scale * elu(x, alpha)</code>
（<code>scale, alpha</code>应该是预定义常数？）</li>
</ul>
</li>
<li><p>注意</p>
<ul>
<li>与「lecun_normal」初始化方法一起使用。</li>
<li>与 dropout 的变种「AlphaDropout」一起使用。</li>
<li>只要正确初始化权重（参见 <code>lecun_normal</code> 初始化方法）
并且输入的数量「足够大」（参见参考文献获得更多信息）
，选择合适的<code>alpha</code>和<code>scale</code>的值，就可以在两个连续层
之间保留输入的均值和方差</li>
</ul>
</li>
<li><p>参考文献</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1706.02515">Self-Normalizing Neural Networks</a></li>
</ul>
</li>
</ul>
<h2 id="softplus"><a href="#softplus" class="headerlink" title="softplus"></a>softplus</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">softplus(x)</span><br></pre></td></tr></table></figure>
<p>Softplus 激活函数</p>
<ul>
<li>返回值：$log(exp(x) + 1)$</li>
</ul>
<h2 id="softsign"><a href="#softsign" class="headerlink" title="softsign"></a>softsign</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">softsign(x)</span><br></pre></td></tr></table></figure>
<p>Softsign 激活函数</p>
<ul>
<li>返回值：$x / (abs(x) + 1)$</li>
</ul>
<h2 id="relu"><a href="#relu" class="headerlink" title="relu"></a>relu</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">relu(</span><br><span class="line">	x,</span><br><span class="line">	alpha=<span class="number">0.0</span>,</span><br><span class="line">	max_value=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>线性修正单元。</p>
<ul>
<li><p>参数</p>
<ul>
<li><code>alpha</code>：负数部分的斜率。默认为 0。</li>
<li><code>max_value</code>：输出的最大值</li>
</ul>
</li>
<li><p>返回值：线性修正单元激活</p>
<ul>
<li><code>x &gt; 0</code>：返回值为 <code>x</code></li>
<li><code>x &lt; 0</code>：返回值为 <code>alpha * x</code></li>
<li>如果定义了<code>max_value</code>，则结果将截断为此值</li>
</ul>
</li>
</ul>
<h2 id="tanh"><a href="#tanh" class="headerlink" title="tanh"></a>tanh</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tanh(x)</span><br></pre></td></tr></table></figure>
<p>双曲正切激活函数</p>
<h2 id="sigmoid"><a href="#sigmoid" class="headerlink" title="sigmoid"></a>sigmoid</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sigmoid(x)</span><br></pre></td></tr></table></figure>
<p>Sigmoid 激活函数</p>
<h2 id="hard-sigmoid"><a href="#hard-sigmoid" class="headerlink" title="hard_sigmoid"></a>hard_sigmoid</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hard_sigmoid(x)</span><br></pre></td></tr></table></figure>
<p>Hard sigmoid 激活函数。</p>
<ul>
<li><p>说明</p>
<ul>
<li>计算速度比 sigmoid 激活函数更快。</li>
</ul>
</li>
<li><p>返回值：Hard sigmoid 激活：</p>
<ul>
<li><code>x &lt; -2.5</code>：返回 0</li>
<li><code>x &gt; 2.5</code>：返回 1</li>
<li><code>-2.5 &lt;= x &lt;= 2.5</code>：返回 <code>0.2 * x + 0.5</code></li>
</ul>
</li>
</ul>
<h2 id="linear"><a href="#linear" class="headerlink" title="linear"></a>linear</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">linear(x)</span><br></pre></td></tr></table></figure>
<p>线性激活函数（即不做任何改变）</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Keras/">Keras</a></span><span class="level-item">a few seconds read (About 54 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Keras/config.html">Keras 安装配置</a></h1><div class="content"><h2 id="Keras配置文件"><a href="#Keras配置文件" class="headerlink" title="Keras配置文件"></a>Keras配置文件</h2><h3 id="HOME-keras-keras-json"><a href="#HOME-keras-keras-json" class="headerlink" title="$HOME/.keras/keras.json"></a><code>$HOME/.keras/keras.json</code></h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;image_data_format&quot;</span>: <span class="string">&quot;channel_last&quot;</span>,</span><br><span class="line">		# 指定Keras将要使用数据维度顺序</span><br><span class="line">	<span class="attr">&quot;epsilon&quot;</span>: <span class="number">1e-07</span>,</span><br><span class="line">		# 防止除0错误数字</span><br><span class="line">	<span class="attr">&quot;flaotx&quot;</span>: <span class="string">&quot;float32&quot;</span>,</span><br><span class="line">		# 浮点数精度</span><br><span class="line">	<span class="attr">&quot;backend&quot;</span>: <span class="string">&quot;tensorflow&quot;</span></span><br><span class="line">		# 指定Keras所使用后端</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a></span><span class="level-item">a few seconds read (About 62 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/README.html">Matplotlib约定</a></h1><div class="content"><h2 id="函数书写声明"><a href="#函数书写声明" class="headerlink" title="函数书写声明"></a>函数书写声明</h2><ul>
<li>函数书写声明同Python全局</li>
<li>以下常用参数如不特殊注明，按照此解释</li>
</ul>
<h3 id="Pyplot"><a href="#Pyplot" class="headerlink" title="Pyplot"></a>Pyplot</h3><ul>
<li><p><code>data=dict/pd.DataFrame</code></p>
<ul>
<li>其他<ul>
<li>属于kwargs中参数</li>
<li>传参时，相应键值对替代对应参数</li>
</ul>
</li>
</ul>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-09-09T05:17:38.000Z" title="9/9/2020, 1:17:38 PM">2020-09-09</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Matplotlib/">Matplotlib</a></span><span class="level-item">5 minutes read (About 776 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Matplotlib/config.html">Matplotlib 配置</a></h1><div class="content"><h2 id="配置文件matplotlibrc"><a href="#配置文件matplotlibrc" class="headerlink" title="配置文件matplotlibrc"></a>配置文件<code>matplotlibrc</code></h2><h3 id="配置文件路径"><a href="#配置文件路径" class="headerlink" title="配置文件路径"></a>配置文件路径</h3><ul>
<li><code>/current/dir/matplotplibrc</code></li>
<li><code>$MATPLOTLIBRC/matplotlibrc</code></li>
<li><code>~/.config/matplotlib/matplotlibrc(~/.matplotlib/matplotlibrc)</code></li>
<li><code>/path/to/matlabplot/mpl-data/matplotlibrc</code></li>
</ul>
<h3 id="查看实际路径"><a href="#查看实际路径" class="headerlink" title="查看实际路径"></a>查看实际路径</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python -c <span class="string">&#x27;import matplotlib as mpl; print(mpl.matplotlib_fname())&#x27;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="中文问题"><a href="#中文问题" class="headerlink" title="中文问题"></a>中文问题</h2><h3 id="字符编码问题"><a href="#字符编码问题" class="headerlink" title="字符编码问题"></a>字符编码问题</h3><ul>
<li><p>python2中默认字符编码方案是ascii，需要更改为utf-8</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(<span class="string">&quot;utf8&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>python3则默认为utf-8编码，无需其他操作</p>
</li>
</ul>
<h3 id="字体文件缺失"><a href="#字体文件缺失" class="headerlink" title="字体文件缺失"></a>字体文件缺失</h3><ul>
<li>mpl不兼容ttc文件，只能识别ttf文件</li>
<li>mpl默认使用<code>/path/to/matplotlib/mpl-data/fonts</code>中的字体
文件</li>
</ul>
<blockquote>
<ul>
<li>ttc和ttf格式参见<em>cs_program/character</em></li>
</ul>
</blockquote>
<h4 id="管理单个图表"><a href="#管理单个图表" class="headerlink" title="管理单个图表"></a>管理单个图表</h4><ul>
<li>通过mpl<em>字体管理器</em>管理<strong>单个</strong>图表元素字体<ul>
<li>对每个需要使用该字体的图表元素，都需要传递相应的参数</li>
<li>无需字体都不需要安装</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ch=mpl.font_manager.FontProperties(fname=/path/to/font.ttf)</span><br><span class="line">ax.set_title(name, fontproperties=ch)</span><br></pre></td></tr></table></figure>
<h4 id="运行时配置MPL默认字体"><a href="#运行时配置MPL默认字体" class="headerlink" title="运行时配置MPL默认字体"></a>运行时配置MPL默认字体</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># 必须在`plt.plot()`类似的绘图语句执行之前执行</span></span><br><span class="line"> <span class="comment"># `font-name`为已安装字体名称而不是字体文件名</span></span><br><span class="line">mpl.rcParams[<span class="string">&#x27;font.default-font-family&#x27;</span>].insert(<span class="number">0</span>, font-name)</span><br><span class="line"> <span class="comment"># 查看当前默认font-family</span></span><br><span class="line">mpl.font_manager.FontProperties().get_family()</span><br><span class="line"> <span class="comment"># 一般默认字体族是&quot;sans-serif&quot;，所以应该将字体名称插入其首位</span></span><br><span class="line">mpl.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>].insert(<span class="number">0</span>, font-name)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>运行时指定“已安装”字体给<strong>当前执行</strong>mpl配置中默认字体</p>
<ul>
<li><p>系统中已安装<strong>ttf字体</strong>，即<code>fc-</code>查找目录</p>
<ul>
<li><code>/usr/share/fonts/</code></li>
<li><code>$HOME/.local/share/fonts/</code></li>
<li><code>$HOME/.fonts/</code></li>
</ul>
</li>
<li><p><code>/path/to/matplotlib/mpl-data/fonts/</code>中字体文件对应
字体</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>已安装字体指<code>mpl.font_manager.FontManager</code>能找到字体，但
不是所有系统已安装字体，mpl均可找到、使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取mpl所有可用字体并排序</span></span><br><span class="line"><span class="built_in">sorted</span>([i.name <span class="keyword">for</span> i <span class="keyword">in</span> mpl.font_manager.FontManger().ttflist])</span><br></pre></td></tr></table></figure>
<ul>
<li><p>字体文件问题：mpl不兼容ttc字体文件</p>
</li>
<li><p>缓存问题：mpl可能在<code>~/.cache/matplotlib/</code>下有cache
文件，mpl会直接从中获取可用字体列表，新字体可能需
删除才能在mpl中生效</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取mpl缓存文件夹</span></span><br><span class="line">mpl.get_cachedir()</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="修改MPL配置文件"><a href="#修改MPL配置文件" class="headerlink" title="修改MPL配置文件"></a>修改MPL配置文件</h4><ul>
<li><p>修改配置文件更改<strong>全局</strong>默认字体</p>
<ul>
<li><p>将字体名称添加在默认字体族首位，作为最优先候选字体</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">font.sans-serif : font-name,</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>同样要求mpl能够找到、使用相应的字体文件</p>
</li>
</ul>
<h2 id="图片显示"><a href="#图片显示" class="headerlink" title="图片显示"></a>图片显示</h2><h3 id="X11依赖"><a href="#X11依赖" class="headerlink" title="X11依赖"></a>X11依赖</h3><ul>
<li><p>mpl一般在常用于包含有X11的图形化界面中，所以若X11不可用
则需修改mpl配置</p>
</li>
<li><p>对生成pdf、png、svg等，可以修改后端为<code>Agg</code></p>
<ul>
<li><p>运行时修改</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="comment"># 须在导入`pyplot`前执行</span></span><br><span class="line">mpl.use(<span class="string">&quot;Agg&quot;</span>)</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">backend: TkAgg</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>   By default, matplotlib ships configured to work with a
    graphical user interface which may require an X11
    connection. Since many barebones application servers
    don’t have X11 enabled, you may get errors if you don’t
    configure matplotlib for use in these environments.
    Most importantly, you need to decide what kinds of
    images you want to generate(PNG, PDF, SVG) and configure
    the appropriate default backend. For 99% of users, this
    will be the Agg backend, which uses the C++ antigrain
    rendering engine to make nice PNGs</p>
</blockquote>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Matplotlib/">Matplotlib</a></span><span class="level-item">3 minutes read (About 404 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Matplotlib/plt.html">Matplotlib.plot笔记</a></h1><div class="content"><h2 id="图像元素"><a href="#图像元素" class="headerlink" title="图像元素"></a>图像元素</h2><h3 id="Figure"><a href="#Figure" class="headerlink" title="Figure"></a>Figure</h3><p>整个窗口（句柄）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fig=plt.figure(num=<span class="literal">None</span>, figsize=<span class="literal">None</span>, dpi=<span class="literal">None</span>,</span><br><span class="line">facecolor=<span class="literal">None</span>, edgecolor=<span class="literal">None</span>, frameon=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Axes"><a href="#Axes" class="headerlink" title="Axes"></a>Axes</h3><p>图像（子图）（句柄）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">None</span>=plt.subplot(*arg, **karg)</span><br><span class="line">	// 创建并激活axes</span><br><span class="line"><span class="literal">None</span>=plt.subplot(num=<span class="built_in">int</span>(row-col-index)</span><br><span class="line"><span class="literal">None</span>=plt.subplot(row, col, index)</span><br><span class="line"></span><br><span class="line">fig, axs=plt.subplots(rows=<span class="built_in">int</span>, cols=<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">fig.add_subplot(rows=<span class="built_in">int</span>, cols=<span class="built_in">int</span>, index=<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">ax=fig.add_axes(rect=[left,buttom,width,height],</span><br><span class="line">	projection=<span class="string">&#x27;aitoff&#x27;</span>/<span class="string">&#x27;hammer&#x27;</span>...)</span><br><span class="line">	// 指定地点、大小子图</span><br><span class="line">	// `rect`参数是百分比</span><br></pre></td></tr></table></figure>
<h3 id="Axies"><a href="#Axies" class="headerlink" title="Axies"></a>Axies</h3><p>轴</p>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul>
<li><p>这三个图像元素都是以句柄形式操作，可以理解为每次操作
都是在一个“容器”中操作，容器由plt管理，每次
<code>plt.show()</code>将图像全部展示之后，容器被回收，创建新容器</p>
</li>
<li><p>因此<code>plt.show()</code>之后，之前容器中的元素更改无法影响到新容器</p>
</li>
<li><p><code>plt</code>可以当作当前激活状态的axes元素的句柄使用</p>
</li>
</ul>
<h2 id="绘图"><a href="#绘图" class="headerlink" title="绘图"></a>绘图</h2><h3 id="线图"><a href="#线图" class="headerlink" title="线图"></a>线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="literal">None</span>=ax(*args, **kwargs)</span><br><span class="line">	<span class="comment"># `args`</span></span><br><span class="line">		<span class="comment"># [x]=range(len(y))/list</span></span><br><span class="line">		<span class="comment"># y=list</span></span><br><span class="line">		<span class="comment"># [fmt]=str</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># `kwargs`</span></span><br><span class="line">		<span class="comment"># data：类似df、dict的indexable对象，传递时x、y可用</span></span><br><span class="line">			标签代替</span><br><span class="line">		<span class="comment"># linewidth</span></span><br><span class="line">		<span class="comment"># markersize</span></span><br><span class="line">		<span class="comment"># color</span></span><br><span class="line">		<span class="comment"># marker</span></span><br><span class="line">		<span class="comment"># linestyle</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># examples</span></span><br><span class="line"><span class="literal">None</span>=ax([x], y, [fmt], [x2], y2, [fmt2], **kwargs）</span><br><span class="line"><span class="literal">None</span>=ax(<span class="string">&#x27;xlabel&#x27;</span>, <span class="string">&#x27;ylabel&#x27;</span>, data=indexable_obj)</span><br><span class="line"><span class="literal">None</span>=ax(2d-array[<span class="number">0</span>], 2d-array[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure>
<h3 id="柱状图"><a href="#柱状图" class="headerlink" title="柱状图"></a>柱状图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">list</span>=ax.bar(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">	<span class="comment"># `args`</span></span><br><span class="line">		<span class="comment"># x=list</span></span><br><span class="line">		<span class="comment"># height=num/list</span></span><br><span class="line">		<span class="comment"># [width]=num/list</span></span><br><span class="line">		<span class="comment"># [bottom]=num/list</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># `kwargs`</span></span><br><span class="line">		<span class="comment"># align=&#x27;center&#x27;/&#x27;edge&#x27;</span></span><br><span class="line">		<span class="comment"># agg_filter=func</span></span><br><span class="line">		<span class="comment"># alpha=None/float</span></span><br><span class="line">		<span class="comment"># capstyle=&#x27;butt&#x27;/&#x27;round&#x27;/&#x27;projecting&#x27;</span></span><br><span class="line"><span class="comment">#todo</span></span><br></pre></td></tr></table></figure>
<h3 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>=ax.pie(x, explode=<span class="literal">None</span>/<span class="built_in">list</span>(%), labels=<span class="literal">None</span>/<span class="built_in">list</span>,</span><br><span class="line">	colors=<span class="literal">None</span>/<span class="built_in">list</span>(color), autopct=<span class="literal">None</span>/<span class="built_in">str</span>/func,</span><br><span class="line">	pctdistance=<span class="number">0.6</span>, shadow=<span class="literal">False</span>, labeldistance=<span class="number">1.1</span>,</span><br><span class="line">	startangle=<span class="literal">None</span>, radius=<span class="literal">None</span>/<span class="built_in">float</span>,</span><br><span class="line">	counterclock=<span class="literal">True</span>, textprops=<span class="literal">None</span>, center=(<span class="number">0</span>,<span class="number">0</span>),</span><br><span class="line">	frame=<span class="literal">False</span>, rotatelables=<span class="literal">False</span>, hold=<span class="literal">None</span>,</span><br><span class="line">	data=<span class="literal">None</span>/<span class="built_in">dict</span>(param_above))</span><br></pre></td></tr></table></figure>
<h3 id="箱线图"><a href="#箱线图" class="headerlink" title="箱线图"></a>箱线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>=ax.boxplot(x, notch=<span class="literal">False</span>, sym=<span class="literal">None</span>/<span class="built_in">str</span>,</span><br><span class="line">	vert=<span class="literal">True</span>, whis=<span class="number">1.5</span>/<span class="built_in">str</span>/<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-08-02T03:11:29.000Z" title="8/2/2021, 11:11:29 AM">2021-08-02</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Jupyter/">Jupyter</a></span><span class="level-item">2 minutes read (About 298 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Jupyter/config.html">Jupyter 常用基础</a></h1><div class="content"><h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><h3 id="生成配置文件"><a href="#生成配置文件" class="headerlink" title="生成配置文件"></a>生成配置文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ jupyter notebook --generate-config</span><br><span class="line">	# 生成配置文件，默认为`~/jupyter/jupyter-notebook-config.py`</span><br></pre></td></tr></table></figure>
<h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.password = <span class="string">u&#x27;sha1:xxxxxxxx&#x27;</span></span><br><span class="line">	<span class="comment"># 配置sha1格式密文，需要自己手动生成</span></span><br><span class="line">c.NotebookApp.ip = <span class="string">&quot;*&quot;</span></span><br><span class="line">	<span class="comment"># 配置运行访问ip地址</span></span><br><span class="line">c.NotebookApp.open_brower = <span class="literal">False</span></span><br><span class="line">	<span class="comment"># 默认启动时不开启浏览器</span></span><br><span class="line">c.NotebookApp.port = <span class="number">8888</span></span><br><span class="line">	<span class="comment"># 监听端口，默认</span></span><br><span class="line">c.NotebookAPp.notebook_dir = <span class="string">u&quot;/path/to/dir&quot;</span></span><br><span class="line">	<span class="comment"># jupyter默认显示羡慕路径</span></span><br><span class="line">c.NotebookApp.certfile = <span class="string">u&quot;/path/to/ssl_cert_file&quot;</span></span><br><span class="line">c.NotebookAppp.keyfile = <span class="string">u&quot;/path/to/ssl_keyfile&quot;</span></span><br><span class="line">	<span class="comment"># jupyter使用ssl证书文件</span></span><br><span class="line">	<span class="comment"># 一般只有使用自己生成证书</span></span><br></pre></td></tr></table></figure>
<h4 id="生成密文"><a href="#生成密文" class="headerlink" title="生成密文"></a>生成密文</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> notebook.auth <span class="keyword">import</span> passwd</span><br><span class="line">passwd()</span><br><span class="line">	<span class="comment"># 输入密码两次，然后就会返回对应密文，写入配置文件</span></span><br></pre></td></tr></table></figure>
<h3 id="远程访问"><a href="#远程访问" class="headerlink" title="远程访问"></a>远程访问</h3><p>jupyter必须使用https登陆、访问</p>
<ul>
<li><p>因此服务端必须有ssl证书，</p>
<ul>
<li>自己生成的证书默认浏览器不认可，浏览器访问会高危，
高级进入即可<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -x509 -nodes -days 365 -newkey rsa:1024 -keyout key_name.key -out cert_name.pem</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>访问时也必须加上<code>https://</code>前缀，一般默认<code>http://</code>前缀
会报服务器无响应（没配置重定向，应该是）</p>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-21T09:27:37.000Z" title="3/21/2019, 5:27:37 PM">2019-03-21</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-02-17T03:57:07.000Z" title="2/17/2019, 11:57:07 AM">2019-02-17</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Pandas/">Pandas</a></span><span class="level-item">10 minutes read (About 1573 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Python/Pandas/data_structure.html">Pandas数据结构</a></h1><div class="content"><h2 id="DataFrame"><a href="#DataFrame" class="headerlink" title="DataFrame"></a>DataFrame</h2><p>可以看作包含两个Index类（index、columns）、一个二维ndarray类
（values）</p>
<ul>
<li>二维values + 结构化index + 结构化columns<ul>
<li>values自己还有两根只能使用integer indice的轴</li>
</ul>
</li>
<li>结构同数据库表相似：列为属性，行为个体</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DF = pd.DataFrame(</span><br><span class="line">	data=ndarray/&#123;col_name: val&#125;/DF/array-like,</span><br><span class="line">	index=Index/array-like,</span><br><span class="line">	columns=Index/array-like,</span><br><span class="line">	dtype=<span class="literal">None</span>/dtype,</span><br><span class="line">	copy=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment"># `data=dict`：可以通过`columns`仅使用部分键值对创建</span></span><br><span class="line">	<span class="comment"># `copy`：仅影响`data`为DF/ndarray时，默认不使用拷贝</span></span><br></pre></td></tr></table></figure>
<h3 id="DF行列逻辑"><a href="#DF行列逻辑" class="headerlink" title="DF行列逻辑"></a>DF行列逻辑</h3><p>可以通过<code>DF = df1.T</code>作转制更改行列逻辑</p>
<h4 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h4><h5 id="列优先"><a href="#列优先" class="headerlink" title="列优先"></a>列优先</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Ser = df1[col_name]</span><br><span class="line">Ser = df1.col_name</span><br><span class="line">	<span class="comment"># 取列</span></span><br><span class="line">Ser = df1[col_level_0, col_level_1,...]</span><br><span class="line">Ser = df1[(col_level_0, col_level_1,...)]</span><br><span class="line">Ser = df1.col_level_0.col_level_1</span><br><span class="line">	<span class="comment"># 对层级索引取列</span></span><br><span class="line"></span><br><span class="line">Val = df1[col_name][index_name]</span><br><span class="line">Val = df1.col_name.index_name</span><br><span class="line">	<span class="comment"># 取具体值</span></span><br><span class="line">	<span class="comment"># 属性方式，要求`*_name`为字符串</span></span><br><span class="line">	<span class="comment"># `.`、`[]`应该是覆盖过</span></span><br><span class="line"></span><br><span class="line">Val = df1[col_level_0, col_level_1,...]\</span><br><span class="line">	[index_level_0, index_level_1,...]</span><br><span class="line"></span><br><span class="line">Val = df1[(col_level_0, col_level_1,...)]\</span><br><span class="line">	[index_level_0, index_level_1,...]</span><br><span class="line"></span><br><span class="line">Val = df1.col_level_0.col_level_1....\</span><br><span class="line">	.index_level_0.index_level_1...</span><br><span class="line">	<span class="comment"># 对层级索引取值</span></span><br><span class="line"></span><br><span class="line">DF = df1[cond1 &amp; cond2 &amp;...]</span><br><span class="line">DF = df1[cond1][cond2]...</span><br><span class="line">	<span class="comment"># `condX`为Ser(bool)</span></span><br><span class="line">	<span class="comment"># 两种讲道理应该没差</span></span><br></pre></td></tr></table></figure>
<h5 id="行优先"><a href="#行优先" class="headerlink" title="行优先"></a>行优先</h5><h6 id="loc"><a href="#loc" class="headerlink" title=".loc[]"></a><code>.loc[]</code></h6><p>行优先,逻辑和df1[]列优先类似</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Ser = df.loc[index_name]</span><br><span class="line">	<span class="comment"># 取行</span></span><br><span class="line">Ser = df.loc[index_level_0, index_level_1,...]</span><br><span class="line">Ser = df.loc[(index_level_0, index_level_1,...)]</span><br><span class="line">	<span class="comment"># 层级索引取行Ser/DF</span></span><br><span class="line"></span><br><span class="line">Val = df1.loc[index_name, column_name]</span><br><span class="line">	<span class="comment"># 还可以这样的取值</span></span><br><span class="line">	<span class="comment"># 不建议使用，容易照成混淆</span></span><br><span class="line"> <span class="comment"># Val = df1.loc.index_name`</span></span><br><span class="line">	<span class="comment"># 不可</span></span><br><span class="line"></span><br><span class="line">Val = df1.loc[index_level_0, index_level_1,...]\</span><br><span class="line">	[col_level_0, col_level_1,...]</span><br><span class="line">	<span class="comment"># 层级索引时，index、col不能混在一起</span></span><br><span class="line"></span><br><span class="line">Val = df1.loc[(index_level_0, index_level_1,...)]\</span><br><span class="line">	[(col_level_0, col_level_1,...)]</span><br></pre></td></tr></table></figure>
<h6 id="iloc"><a href="#iloc" class="headerlink" title=".iloc[]"></a><code>.iloc[]</code></h6><p>indices locate，应视为对value（ndarray）进行操作，index和
columns的结构对其没有任何影响</p>
<ul>
<li>在层级索引情况下，仍然返回Ser</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Ser = df1.iloc[indice]</span><br><span class="line">	<span class="comment"># 返回values第indice行Ser对象</span></span><br><span class="line">Val = df1.iloc[index_indice, col_indice]</span><br><span class="line">	<span class="comment"># 取得values第index_indice行、第col_indice列元素</span></span><br></pre></td></tr></table></figure>
<h6 id="ix"><a href="#ix" class="headerlink" title=".ix[]"></a><code>.ix[]</code></h6><p><code>.loc</code>、<code>.iloc</code>的封装，不建议使用</p>
<ul>
<li>优先使用<code>.loc</code>，除非参数为int、且Index不是int类型</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ser = df1.ix[index]</span><br></pre></td></tr></table></figure>
<h5 id="行优先快速版本"><a href="#行优先快速版本" class="headerlink" title="行优先快速版本"></a>行优先快速版本</h5><p><strong>只能</strong>、<strong>必须</strong>取一个值</p>
<ul>
<li>不能用于获取切片</li>
<li><p>对于多重索引必须将Index、Columns所有level全部指定</p>
</li>
<li><p><code>.iat</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Val = df1.iat[index_indice, col_indice]</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>.at</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Val = df1.at[index_name, col_name]</span><br><span class="line">	<span class="comment"># 单索引</span></span><br><span class="line">Val = df1.at[(index_level_0, index_level_1,...), (col_level_0, col_level_1,...)]</span><br><span class="line">	<span class="comment"># 多重索引必须指定全部level保证只取到一个值</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><h4 id="Values切片"><a href="#Values切片" class="headerlink" title="Values切片"></a>Values切片</h4><p>切片对象是values</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.iloc[irow_start: irow_end, icol_start: icol_end]</span><br><span class="line">	<span class="comment"># 对values的切片，参数都是indices</span></span><br><span class="line">	<span class="comment"># 这个应该就是ndarray切片操作，不包括上限</span></span><br><span class="line">	<span class="comment"># 如果只对行切片，可以省略`.iloc`，但不建议，因为这个</span></span><br><span class="line">		<span class="comment"># 同时也可以表示Index切片（优先）</span></span><br></pre></td></tr></table></figure>
<h4 id="Index切片"><a href="#Index切片" class="headerlink" title="Index切片"></a>Index切片</h4><p>切片对象是index，包括上限</p>
<h5 id="全切片"><a href="#全切片" class="headerlink" title="全切片"></a>全切片</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.loc[</span><br><span class="line">	(index_0, index_1,...): (index_0, index_1,...),</span><br><span class="line">	(col_0, col_1,...): (col_0, col_1,...)]</span><br><span class="line">	<span class="comment"># `.loc`可以替换为`.ix`，但不能删除，不建议使用</span></span><br></pre></td></tr></table></figure>
<h5 id="行切片"><a href="#行切片" class="headerlink" title="行切片"></a>行切片</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DF = df1.loc[[(index_0, index_1,...),...]]</span><br><span class="line">DF = df1.loc[(index_0, index_1,...): (index_0, index_1,...)]</span><br><span class="line">	<span class="comment"># index_level可以不用指定到最低level，</span></span><br><span class="line">	<span class="comment"># 同样的，`.loc`可以替换为`.ix`，但不建议使用</span></span><br></pre></td></tr></table></figure>
<h5 id="列切片"><a href="#列切片" class="headerlink" title="列切片"></a>列切片</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DF = df1[[col_name,...]]</span><br><span class="line">DF = df1.loc[:, (col_0,...): (col_0,...)]</span><br><span class="line">	<span class="comment"># `.loc`可以替换为`.ix`，但是不能删除，不建议使用</span></span><br><span class="line">	<span class="comment"># 列切片没有`:`语法，只能通过设置行切片为`:`得到</span></span><br></pre></td></tr></table></figure>
<h3 id="DF数据共享逻辑"><a href="#DF数据共享逻辑" class="headerlink" title="DF数据共享逻辑"></a>DF数据共享逻辑</h3><p>DF数据（values）共享的逻辑</p>
<ul>
<li>一般尽量共享数据，直至无法处理（数据同时增加/删除行、列）</li>
<li>有些方法会有<code>copy</code>参数，可以显式控制是否拷贝副本<ul>
<li>如<code>.reindex</code>默认拷贝副本</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">df1_T = df1.T</span><br><span class="line">	<span class="comment"># 两个此时共享数据，对任一的更改会反映在另一者</span></span><br><span class="line">df1_T[<span class="string">&quot;new_col_1&quot;</span>] = [ ]</span><br><span class="line">	<span class="comment"># 添加新列后，两者仍然共享公共部分数据，只是`df1`中无法</span></span><br><span class="line">		<span class="comment"># 访问新列</span></span><br><span class="line">df1[<span class="string">&quot;new_col_2&quot;</span>] = [ ]</span><br><span class="line">	<span class="comment"># 此时两者数据均独立</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># 类似的`del`删除列也是如此逻辑</span></span><br></pre></td></tr></table></figure>
<h2 id="Index-索引"><a href="#Index-索引" class="headerlink" title="Index 索引"></a>Index 索引</h2><p>使用integer作为index时注意df1.ix[]的逻辑</p>
<h3 id="MultiIndex-层级索引"><a href="#MultiIndex-层级索引" class="headerlink" title="MultiIndex 层级索引"></a>MultiIndex 层级索引</h3><p>层级索引允许以低维度形式表示高纬度数据</p>
<ul>
<li>层级索引可以使用tuple形式表示：<code>(level_0, level_1,...)</code><ul>
<li>需要注意区分和tuple本身作为index<ul>
<li>打印时可以tuple有括号，而层级索引没有</li>
<li>层级索引有时可以省略括号</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="from-arrays"><a href="#from-arrays" class="headerlink" title="from_arrays"></a><code>from_arrays</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Index = pd.MultiIndex.from_arrays(</span><br><span class="line">	arrays([[],[]]),</span><br><span class="line">	sortorder=<span class="literal">None</span>/<span class="built_in">int</span>,</span><br><span class="line">	names=<span class="literal">None</span>/[])</span><br><span class="line"></span><br><span class="line">Index = [</span><br><span class="line">	level_0_list,</span><br><span class="line">	level_1_list,...]</span><br><span class="line">	<span class="comment"># 隐式构建层级索引，各list长度相同，其按顺序组合</span></span><br><span class="line">	<span class="comment"># 可以在：DF构造参数、给DF对象Index赋值等使用</span></span><br><span class="line">	<span class="comment"># 应该是可以看作pandas使用`from_arrays`处理</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：将arrays转换为MultiIndex</p>
</li>
<li><p>参数</p>
<ul>
<li><code>arrays</code>：包含多个list作为各个level索引<ul>
<li>各list按照传递顺序决定level</li>
<li><strong>不会自动合并</strong>不连续labels（否则需要交换数据位置）</li>
</ul>
</li>
<li><code>sortorder</code>：sortedness级别？</li>
<li><code>names</code>：level名</li>
</ul>
</li>
</ul>
<h4 id="from-tuples"><a href="#from-tuples" class="headerlink" title="from_tuples"></a><code>from_tuples</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Index = pd.MultiIndex.from_tuples(</span><br><span class="line">	tuples=[<span class="built_in">tuple</span>-like],</span><br><span class="line">	sortorder=<span class="literal">None</span>/<span class="built_in">int</span>,</span><br><span class="line">	names=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>说明：将<code>tuples</code>转换为MultiIndex</p>
</li>
<li><p>参数</p>
<ul>
<li><code>tuples</code>：每个tuple为一个index，按照tuple中元素顺序
决定各元素level</li>
</ul>
</li>
</ul>
<h4 id="from-product"><a href="#from-product" class="headerlink" title="from_product"></a><code>from_product</code></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Index = pd.MultiIndex.from_product(</span><br><span class="line">	iterables([[]]/[iterables]),</span><br><span class="line">	sortorder=<span class="literal">None</span>/<span class="built_in">int</span>,</span><br><span class="line">	names)</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：对<code>iterables</code>元素作product（积）作为MultiIndex</li>
</ul>
<ol>
<li><p>Series：可以看作是包含一个Index类（index，存放标签）、一个一维ndarray类（values，存放数据）</p>
<p>a.    ser=pd.Series(data=np.darray/dict, index=list)</p>
<p>b.    Series对象可以处理标签不一致的数据，但是只有标签的交集才能得到有意义的结果，其余为NaN</p>
<p>c.    其余性质类似于DataFrame对象</p>
</li>
<li><p>Index属性#todo</p>
<p>a.    index属性</p>
<ol>
<li><p>df1.columns=[]：更改列名称，index同</p>
</li>
<li><p>df1.columns.names=[]：更改列名，index同</p>
</li>
</ol>
</li>
<li><p>pandas库中的其他一些问题</p>
<p>a.    数据类型转换：Series对象和DF对象在运算过程中dtype类型可能发生”无意义”的转换</p>
<ol>
<li><p>dtype=i8的对象之间的+、-结果为dtype=f8类型的对象（当然这个可能是保持和\的一致性）</p>
</li>
<li><p>SeriesObj.reindex(new_index)会”可能”会改变原有数据类型（由i8-&gt;f8）（有增加新index时）</p>
</li>
</ol>
</li>
</ol>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/33/">Previous</a></div><div class="pagination-next"><a href="/page/35/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/33/">33</a></li><li><a class="pagination-link is-current" href="/page/34/">34</a></li><li><a class="pagination-link" href="/page/35/">35</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/40/">40</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">36</span></span></a><ul><li><a class="level is-mobile" href="/categories/Algorithm/Data-Structure/"><span class="level-start"><span class="level-item">Data Structure</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Heuristic/"><span class="level-start"><span class="level-item">Heuristic</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Issue/"><span class="level-start"><span class="level-item">Issue</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Problem/"><span class="level-start"><span class="level-item">Problem</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Specification/"><span class="level-start"><span class="level-item">Specification</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/C-C/"><span class="level-start"><span class="level-item">C/C++</span></span><span class="level-end"><span class="level-item tag">34</span></span></a><ul><li><a class="level is-mobile" href="/categories/C-C/Cppref/"><span class="level-start"><span class="level-item">Cppref</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/Cstd/"><span class="level-start"><span class="level-item">Cstd</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/MPI/"><span class="level-start"><span class="level-item">MPI</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/STL/"><span class="level-start"><span class="level-item">STL</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/CS/"><span class="level-start"><span class="level-item">CS</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/CS/Character/"><span class="level-start"><span class="level-item">Character</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Parallel/"><span class="level-start"><span class="level-item">Parallel</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Program-Design/"><span class="level-start"><span class="level-item">Program Design</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Storage/"><span class="level-start"><span class="level-item">Storage</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Daily-Life/"><span class="level-start"><span class="level-item">Daily Life</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Daily-Life/Maxism/"><span class="level-start"><span class="level-item">Maxism</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">27</span></span></a><ul><li><a class="level is-mobile" href="/categories/Database/Hadoop/"><span class="level-start"><span class="level-item">Hadoop</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/SQL-DB/"><span class="level-start"><span class="level-item">SQL DB</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/Spark/"><span class="level-start"><span class="level-item">Spark</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/Java/Scala/"><span class="level-start"><span class="level-item">Scala</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">42</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Bash-Programming/"><span class="level-start"><span class="level-item">Bash Programming</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Configuration/"><span class="level-start"><span class="level-item">Configuration</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/File-System/"><span class="level-start"><span class="level-item">File System</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/IPC/"><span class="level-start"><span class="level-item">IPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Process-Schedual/"><span class="level-start"><span class="level-item">Process Schedual</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Shell/"><span class="level-start"><span class="level-item">Shell</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Tool/"><span class="level-start"><span class="level-item">Tool</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Tool/Vi/"><span class="level-start"><span class="level-item">Vi</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Model/"><span class="level-start"><span class="level-item">ML Model</span></span><span class="level-end"><span class="level-item tag">21</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Model/Linear-Model/"><span class="level-start"><span class="level-item">Linear Model</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Model-Component/"><span class="level-start"><span class="level-item">Model Component</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Nolinear-Model/"><span class="level-start"><span class="level-item">Nolinear Model</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Unsupervised-Model/"><span class="level-start"><span class="level-item">Unsupervised Model</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/"><span class="level-start"><span class="level-item">ML Specification</span></span><span class="level-end"><span class="level-item tag">17</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/Click-Through-Rate/"><span class="level-start"><span class="level-item">Click Through Rate</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/Click-Through-Rate/Recommandation-System/"><span class="level-start"><span class="level-item">Recommandation System</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/Computer-Vision/"><span class="level-start"><span class="level-item">Computer Vision</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Specification/FinTech/"><span class="level-start"><span class="level-item">FinTech</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/FinTech/Risk-Control/"><span class="level-start"><span class="level-item">Risk Control</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/Graph-Analysis/"><span class="level-start"><span class="level-item">Graph Analysis</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Specification/NLP/"><span class="level-start"><span class="level-item">NLP</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Technique/"><span class="level-start"><span class="level-item">ML Technique</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Technique/Feature-Engineering/"><span class="level-start"><span class="level-item">Feature Engineering</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Technique/Neural-Network/"><span class="level-start"><span class="level-item">Neural Network</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Theory/"><span class="level-start"><span class="level-item">ML Theory</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Theory/Loss/"><span class="level-start"><span class="level-item">Loss</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Theory/Model-Enhencement/"><span class="level-start"><span class="level-item">Model Enhencement</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Theory/Optimization/"><span class="level-start"><span class="level-item">Optimization</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Algebra/"><span class="level-start"><span class="level-item">Math Algebra</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Algebra/Linear-Algebra/"><span class="level-start"><span class="level-item">Linear Algebra</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Algebra/Universal-Algebra/"><span class="level-start"><span class="level-item">Universal Algebra</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Analysis/"><span class="level-start"><span class="level-item">Math Analysis</span></span><span class="level-end"><span class="level-item tag">23</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Analysis/Fourier-Analysis/"><span class="level-start"><span class="level-item">Fourier Analysis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Functional-Analysis/"><span class="level-start"><span class="level-item">Functional Analysis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Optimization/"><span class="level-start"><span class="level-item">Optimization</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Real-Analysis/"><span class="level-start"><span class="level-item">Real Analysis</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Mixin/"><span class="level-start"><span class="level-item">Math Mixin</span></span><span class="level-end"><span class="level-item tag">18</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Mixin/Statistics/"><span class="level-start"><span class="level-item">Statistics</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Mixin/Time-Series/"><span class="level-start"><span class="level-item">Time Series</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Probability/"><span class="level-start"><span class="level-item">Probability</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">89</span></span></a><ul><li><a class="level is-mobile" href="/categories/Python/Cookbook/"><span class="level-start"><span class="level-item">Cookbook</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Jupyter/"><span class="level-start"><span class="level-item">Jupyter</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Keras/"><span class="level-start"><span class="level-item">Keras</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Matplotlib/"><span class="level-start"><span class="level-item">Matplotlib</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Numpy/"><span class="level-start"><span class="level-item">Numpy</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Pandas/"><span class="level-start"><span class="level-item">Pandas</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Py3Ref/"><span class="level-start"><span class="level-item">Py3Ref</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Py3std/"><span class="level-start"><span class="level-item">Py3std</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Pywin32/"><span class="level-start"><span class="level-item">Pywin32</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Readme/"><span class="level-start"><span class="level-item">Readme</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/TensorFlow/"><span class="level-start"><span class="level-item">TensorFlow</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Twists/"><span class="level-start"><span class="level-item">Twists</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/RLang/"><span class="level-start"><span class="level-item">RLang</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Rust/"><span class="level-start"><span class="level-item">Rust</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Set/"><span class="level-start"><span class="level-item">Set</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/"><span class="level-start"><span class="level-item">Tool</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/Tool/Editor/"><span class="level-start"><span class="level-item">Editor</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Markup-Language/"><span class="level-start"><span class="level-item">Markup Language</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Web-Browser/"><span class="level-start"><span class="level-item">Web Browser</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Windows/"><span class="level-start"><span class="level-item">Windows</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/Web/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/NPM/"><span class="level-start"><span class="level-item">NPM</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/Proxy/"><span class="level-start"><span class="level-item">Proxy</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/Thrift/"><span class="level-start"><span class="level-item">Thrift</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><!--!--><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="UBeaRLy"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">UBeaRLy</p><p class="is-size-6 is-block">Protector of Proxy</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Earth, Solar System</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">392</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">93</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">522</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/xyy15926" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/xyy15926"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-04T15:07:54.896Z">2021-08-04</time></p><p class="title"><a href="/uncategorized/README.html"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-03T07:46:51.000Z">2021-08-03</time></p><p class="title"><a href="/Web/NPM/hexo_config.html">Hexo 建站</a></p><p class="categories"><a href="/categories/Web/">Web</a> / <a href="/categories/Web/NPM/">NPM</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-03T02:32:45.000Z">2021-08-03</time></p><p class="title"><a href="/Web/NPM/config.html">NPM 总述</a></p><p class="categories"><a href="/categories/Web/">Web</a> / <a href="/categories/Web/NPM/">NPM</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-02T08:11:11.000Z">2021-08-02</time></p><p class="title"><a href="/Python/Py3std/internet_data.html">互联网数据</a></p><p class="categories"><a href="/categories/Python/">Python</a> / <a href="/categories/Python/Py3std/">Py3std</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-29T13:55:00.000Z">2021-07-29</time></p><p class="title"><a href="/Linux/Shell/sh_apps.html">Shell 应用程序</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Shell/">Shell</a></p></div></article></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="pub-5385776267343559" data-ad-slot="6995841235" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="https://api.follow.it/subscription-form/WWxwMVBsOUtoNTdMSlJ4Z1lWVnRISERsd2t6ek9MeVpEUWs0YldlZGxUdXlKdDNmMEZVV1hWaFZFYWFSNmFKL25penZodWx3UzRiaVkxcnREWCtOYUJhZWhNbWpzaUdyc1hPangycUh5RTVjRXFnZnFGdVdSTzZvVzJBcTJHKzl8aXpDK1ROWWl4N080YkFEK3QvbEVWNEJuQjFqdWdxODZQcGNoM1NqbERXST0=/8" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="UBeaRLy" height="28"></a><p class="is-size-7"><span>&copy; 2021 UBeaRLy</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/xyy15926/proxy"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>