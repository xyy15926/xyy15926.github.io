<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>表达式 - UBeaRLy</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="UBeaRLy&#039;s Proxy"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="UBeaRLy&#039;s Proxy"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="表达式"><meta property="og:type" content="blog"><meta property="og:title" content="表达式"><meta property="og:url" content="https://xyy15926.github.io/Python/Py3Ref/expressions.html"><meta property="og:site_name" content="UBeaRLy"><meta property="og:description" content="表达式"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://xyy15926.github.io/img/og_image.png"><meta property="article:published_time" content="2019-06-05T16:04:02.000Z"><meta property="article:modified_time" content="2019-06-05T16:04:02.000Z"><meta property="article:author" content="UBeaRLy"><meta property="article:tag" content="Python"><meta property="article:tag" content="Py3Ref"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://xyy15926.github.io/Python/Py3Ref/expressions.html"},"headline":"表达式","image":["https://xyy15926.github.io/img/og_image.png"],"datePublished":"2019-06-05T16:04:02.000Z","dateModified":"2019-06-05T16:04:02.000Z","author":{"@type":"Person","name":"UBeaRLy"},"publisher":{"@type":"Organization","name":"UBeaRLy","logo":{"@type":"ImageObject","url":"https://xyy15926.github.io/img/logo.svg"}},"description":"表达式"}</script><link rel="canonical" href="https://xyy15926.github.io/Python/Py3Ref/expressions.html"><link rel="alternate" href="/atom.xml" title="UBeaRLy" type="application/atom+xml"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/darcula.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oxanium:wght@300;400;600&amp;family=Roboto+Mono"><link rel="stylesheet" href="/css/cyberpunk.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><script data-ad-client="pub-5385776267343559" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="follow_it-verification-code" content="SVBypAPPHxjjr7Y4hHfn"><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="UBeaRLy" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Visit on GitHub" href="https://github.com/xyy15926/proxy"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-06-05T16:04:02.000Z" title="6/6/2019, 12:04:02 AM">2019-06-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-06-05T16:04:02.000Z" title="6/6/2019, 12:04:02 AM">2019-06-06</time></span><span class="level-item"><a class="link-muted" href="/categories/Python/">Python</a><span> / </span><a class="link-muted" href="/categories/Python/Py3Ref/">Py3Ref</a></span><span class="level-item">42 minutes read (About 6291 words)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>&nbsp;visits</span></div></div><h1 class="title is-3 is-size-4-mobile">表达式</h1><div class="content"><h2 id="Atoms"><a href="#Atoms" class="headerlink" title="Atoms"></a><em>Atoms</em></h2><p>原子：表达式最基本元素</p>
<ul>
<li><p>最简单原子</p>
<ul>
<li>标识符</li>
<li>字面值</li>
</ul>
</li>
<li><p>以圆括号、方括号、花括号包括的形式在语法上也被归为原子</p>
</li>
</ul>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">atom      ::=  identifier | literal | enclosure</span><br><span class="line">enclosure ::=  parenth_form | list_display | dict_display | set_display | generator_expression | yield_atom</span><br></pre></td></tr></table></figure>
<h3 id="Indentifiers-Names"><a href="#Indentifiers-Names" class="headerlink" title="Indentifiers/Names"></a><em>Indentifiers/Names</em></h3><p>名称：作为原子出现的标识符</p>
<ul>
<li>名称被绑定到对象时：对原子求值将返回相应对象</li>
<li>名称未绑定时：对原子求值将<code>raise NameError</code></li>
</ul>
<h4 id="Private-Name-Mangling"><a href="#Private-Name-Mangling" class="headerlink" title="Private Name Mangling"></a><em>Private Name Mangling</em></h4><blockquote>
<ul>
<li>类的私有名称：文本形式出现在类定义中以两个、更多下划线
  开头且不以两个、更多下划线结尾的标识符</li>
</ul>
</blockquote>
<p>私有名称转换：在为私有名称生成代码前，其被转换为更长形式</p>
<ul>
<li><p>转换方式：在名称前插入类名、下划线</p>
<ul>
<li>若转换后名称太长（超过255字符），<strong>某些实现中</strong>可能
发生截断</li>
</ul>
</li>
<li><p>转换独立于标识符使用的句法</p>
</li>
<li><p>若类名仅由下划线组成，则不会进行转换</p>
</li>
</ul>
<h3 id="Literals"><a href="#Literals" class="headerlink" title="Literals"></a><em>Literals</em></h3><p>字面值：</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">literal ::=  stringliteral | bytesliteral | integer | floatnumber | imagnumber</span><br></pre></td></tr></table></figure>
<ul>
<li><p>对字面值求值将返回改值对应类型的对象</p>
<ul>
<li>对浮点数、复数，值可能为近似值</li>
</ul>
</li>
<li><p>所有字面值都对应不可变数据类型</p>
<ul>
<li>所以对象标识的重要性不如其实际值</li>
</ul>
</li>
<li><p>多次对具有相同值的字面值求值，可能得到相同对象、或具有
相同值的不同对象</p>
<ul>
<li>元组是不可变对象，适用字面值规则：两次出现的空元组
产生对象可能相同、也可能不同<h1 id="todo"><a href="#todo" class="headerlink" title="todo"></a>todo</h1></li>
</ul>
</li>
</ul>
<h3 id="Parenthesized-Forms"><a href="#Parenthesized-Forms" class="headerlink" title="Parenthesized Forms"></a><em>Parenthesized Forms</em></h3><p>带括号形式：包含在<code>()</code>的<strong>可选表达式列表</strong></p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parenth_form ::= <span class="string">&quot;(&quot;</span> [starred_expression] <span class="string">&quot;)&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>带圆括号表达式列表将返回表达式所产生的任何东西</p>
<ul>
<li>内容为空的圆括号返回空元组对象</li>
<li>列表包含至少一个逗号，产生元组</li>
<li>否则，产生表达式列表对应的单一表达式</li>
</ul>
</li>
<li><p>元组不是由圆括号构建，实际是<code>,</code>逗号操作符起作用</p>
<ul>
<li>空元组是例外，此时圆括号必须，因为表达式中不带圆括号
的“空”会导致歧义</li>
</ul>
</li>
</ul>
<h3 id="List-Set-Dict-Generator-Tuple"><a href="#List-Set-Dict-Generator-Tuple" class="headerlink" title="List/Set/Dict/Generator-Tuple"></a><em>List/Set/Dict/Generator-Tuple</em></h3><blockquote>
<ul>
<li><em>display</em>：显式列出容器内容</li>
<li><em>comprehension</em>：推导式，通过循环、筛选指令计算</li>
</ul>
</blockquote>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">comprehension ::=  expression comp_for</span><br><span class="line">comp_for      ::=  [<span class="string">&quot;async&quot;</span>] <span class="string">&quot;for&quot;</span> target_list <span class="string">&quot;in&quot;</span> or_test [comp_iter]</span><br><span class="line">comp_iter     ::=  comp_for | comp_if</span><br><span class="line">comp_if       ::=  <span class="string">&quot;if&quot;</span> expression_nocond [comp_iter]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>推导式结构：单独表达式后加至少一个<code>for</code>子句以及零个、或
多个<code>for</code>或<code>if</code>子句</p>
<ul>
<li><code>for</code>、<code>if</code>子句视为代码块，按<strong>从左到右顺序嵌套</strong>
（类似<code>for</code>循环嵌套）</li>
<li>每次<strong>到达最内层代码块时</strong>对表达式求值以产生元素</li>
</ul>
</li>
<li><p>除最左边<code>for</code>子句中可迭代表达式，推导式在另一个隐式嵌套
作用域内执行</p>
<ul>
<li>确保赋给目标列表的名称不会“泄露”到外层作用域</li>
<li>最左边<code>for</code>子句中可迭代表达式直接在外层作用域中被
求值，然后作为参数传递给隐式嵌套作用域</li>
<li>后续<code>for</code>子句、最左侧<code>for</code>子句中任何筛选条件不能在
外层作用域中被求值，因为其可能依赖于从最左侧可迭代
对象中获得的值</li>
</ul>
</li>
<li><p>为确保推导式总能得到类型正确的容器，隐式嵌套作用域内禁止
使用<code>yield</code>、<code>yield from</code>表达式，因为其会对外层作用域
造成附加影响</p>
</li>
<li><p>若推导式包含<code>async for</code>子句、<code>await</code>表达式，则为异步
推导式</p>
</li>
</ul>
<h4 id="List-Displays"><a href="#List-Displays" class="headerlink" title="List Displays"></a><em>List Displays</em></h4><p>列表显式：用<code>[]</code>方括号括起的、可能为空的表达式系列</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list_display ::= <span class="string">&quot;[&quot;</span> [starred_list | comprehesion] <span class="string">&quot;]&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>列表显式会产生新的列表对象，内容通过表达式、推导式指定</li>
<li>提供逗号分隔的表达式时：元素从左至右求值，按此顺序放入
列表对象</li>
<li>提供推导式时：根据推导式产生结果元素进行构建</li>
</ul>
<h4 id="Set-Displays"><a href="#Set-Displays" class="headerlink" title="Set Displays"></a><em>Set Displays</em></h4><p>集合显式：用<code>&#123;&#125;</code>花括号标明，与字典区别在于没有冒号分隔键值</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set_display ::=  <span class="string">&quot;&#123;&quot;</span> (starred_list | comprehension) <span class="string">&quot;&#125;&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>集合显式产生可变集合对象，内容通过表达式、推导式指定</li>
<li>提供逗号分隔的表达式时：元素从左至右求值，按此顺序放入
列表对象</li>
<li>提供推导式时：根据推导式产生结果元素进行构建</li>
</ul>
<blockquote>
<ul>
<li>空集合不能使用<code>&#123;&#125;</code>构建，此构建的是空字典</li>
</ul>
</blockquote>
<h4 id="Dict-Displays"><a href="#Dict-Displays" class="headerlink" title="Dict Displays"></a><em>Dict Displays</em></h4><p>字典显式：用<code>&#123;&#125;</code>花括号括起来的、可能为空的键值对</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dict_display       ::=  <span class="string">&quot;&#123;&quot;</span> [key_datum_list | dict_comprehension] <span class="string">&quot;&#125;&quot;</span></span><br><span class="line">key_datum_list     ::=  key_datum (<span class="string">&quot;,&quot;</span> key_datum)* [<span class="string">&quot;,&quot;</span>]</span><br><span class="line">key_datum          ::=  expression <span class="string">&quot;:&quot;</span> expression | <span class="string">&quot;**&quot;</span> or_expr</span><br><span class="line">dict_comprehension ::=  expression <span class="string">&quot;:&quot;</span> expression comp_for</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li><code>**</code>：映射拆包，操作数必须是映射</li>
</ul>
</blockquote>
<ul>
<li><p>字典显式产生新的字典对象</p>
</li>
<li><p>提供<code>,</code>分隔键值对序列</p>
<ul>
<li>从左至右被求值以定义字典条目</li>
<li>可多次指定相同键，最终值由最后给出键值对决定</li>
</ul>
</li>
<li><p>提供字典推导式</p>
<ul>
<li>以冒号分隔的两个表达式，后者带上标准<code>for</code>、<code>if</code>子句</li>
<li>作为结果键值对按产生顺序被加入新字典</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li>键类型需要为hashable</li>
</ul>
</blockquote>
<h3 id="Generator-Expression"><a href="#Generator-Expression" class="headerlink" title="Generator Expression"></a><em>Generator Expression</em></h3><p>生成器表达式：用圆括号括起来的紧凑形式生成器（迭代器）标注</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">generator_expression ::=  <span class="string">&quot;(&quot;</span> expression comp_for <span class="string">&quot;)&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>生成器表达式会产生新的生成器（迭代器）对象</p>
<ul>
<li>句法同推导式，但使用圆括号括起</li>
<li>圆括号在只附带一个参数（省略<code>expression</code>）的调用中
可以被省略</li>
</ul>
</li>
<li><p>生成器表达式中使用的变量在生成器对象调用<code>__next__</code>方法
时以惰性方式被求值，同普通生成器</p>
<ul>
<li>最左侧<code>for</code>子句内可迭代对象会被立即求值，则其造成的
错误会在生成器表达式<strong>被定义时被检测到</strong></li>
</ul>
</li>
</ul>
<h3 id="Yield-Expression"><a href="#Yield-Expression" class="headerlink" title="Yield Expression"></a><em>Yield Expression</em></h3><p>yield表达式：将控制权交还给调度程序</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yield_atom       ::=  <span class="string">&quot;(&quot;</span> yield_expression <span class="string">&quot;)&quot;</span></span><br><span class="line">yield_expression ::=  <span class="string">&quot;yield&quot;</span> [expression_list | <span class="string">&quot;from&quot;</span> expression]</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li><code>yield</code>：返回其后表达式求值</li>
<li>yield表达式是赋值语句右侧唯一表达式时，括号可以省略</li>
</ul>
</blockquote>
<ul>
<li><p>在定义生成器函数、异步生成器函数时才会用到，也只能在函数
定义内部使用yield表达式，将函数变为（异步）生成器函数</p>
</li>
<li><p>yield表达式会对外层作用域造成附带影响，不允许作为实现
推导式、生成器表达式隐式作用域的一部分</p>
</li>
</ul>
<blockquote>
<ul>
<li>生成器、异步生成器参见<em>cs_python/py3ref/dm_gfuncs</em></li>
</ul>
</blockquote>
<h4 id="yield-from"><a href="#yield-from" class="headerlink" title="yield from"></a><code>yield from</code></h4><p><code>yield from</code>：其后表达式视为子迭代器，将控制流委托给其</p>
<ul>
<li><p>类似<strong>管道</strong>，迭代器参数、异常都被传递给子迭代器</p>
<ul>
<li><strong>子迭代器依次迭代结果</strong>被传递给生成器方法调用者</li>
<li><code>.send</code>传递值、<code>.throw</code>生成异常被传递给子迭代器</li>
</ul>
</li>
<li><p><code>.send</code>传入值、<code>.throw</code>传入异常如果有适当方法将被传递给
下层迭代器，否则</p>
<ul>
<li><code>send</code>将<code>raise AttributeError</code>、<code>raise TypeError</code></li>
<li><code>throw</code>将立即引发传入异常</li>
</ul>
</li>
<li><p>子迭代器完成后引发的<code>StopIteration</code>实例的<code>value</code>属性将
作为yield表达式值</p>
<ul>
<li>可以在引发<code>StopIteration</code>时被显式设置#todo</li>
<li>在子迭代器是生成器时通过从子生成器返回值自动设置</li>
</ul>
</li>
<li><p>用途</p>
<ul>
<li>展开嵌套序列</li>
</ul>
</li>
</ul>
<h2 id="Primaries"><a href="#Primaries" class="headerlink" title="Primaries"></a><em>Primaries</em></h2><p>原型：代表编程语言中最紧密绑定的操作（优先级最高）</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">primary ::= atom | attributeref | subscription | slicing | call</span><br></pre></td></tr></table></figure>
<h3 id="Attributeref"><a href="#Attributeref" class="headerlink" title="Attributeref"></a><em>Attributeref</em></h3><p>属性引用：后面带有句点加名称的原型</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">attributeref ::= primary <span class="string">&quot;.&quot;</span> identifier</span><br></pre></td></tr></table></figure>
<ul>
<li>要求值为支持属性引用类型的对象（多数对象支持）</li>
<li>对象会被要求产生以指定标识符为名称的属性<ul>
<li>产生过程可以通过重载<code>__getattr__()</code>方法自定义</li>
</ul>
</li>
</ul>
<h3 id="Subscriptions"><a href="#Subscriptions" class="headerlink" title="Subscriptions"></a><em>Subscriptions</em></h3><p>抽取：在序列（字符串、元组、列表）、映射（字典）对象中选择
一项</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subscription ::= primary <span class="string">&quot;[&quot;</span> expression_list <span class="string">&quot;]&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>要求值必须为支持抽取操作的对象</p>
<ul>
<li>可以定义<code>__getitem__()</code>方法支持抽取操作</li>
</ul>
</li>
<li><p>映射：表达式列表求值须为键值</p>
<ul>
<li>抽取操作选择映射中键对应值</li>
<li>表达式列表为元组，除非其中只有一项</li>
</ul>
</li>
<li><p>序列：表达式列表求值须为整数、或切片</p>
<ul>
<li>正式句法规则没有要求实现对负标号值处理，但内置序列
<code>__getitem__()</code>方法结合序列长度解析负标号</li>
<li>重载<code>__getitem__</code>的子类需要显式添加对负标号、切片
支持</li>
</ul>
</li>
</ul>
<h3 id="Slicings"><a href="#Slicings" class="headerlink" title="Slicings"></a><em>Slicings</em></h3><p>切片：在序列对象（字符串、元组、列表）中选择某个范围内的项</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">slicing      ::=  primary <span class="string">&quot;[&quot;</span> slice_list <span class="string">&quot;]&quot;</span></span><br><span class="line">slice_list   ::=  slice_item (<span class="string">&quot;,&quot;</span> slice_item)* [<span class="string">&quot;,&quot;</span>]</span><br><span class="line">slice_item   ::=  expression | proper_slice</span><br><span class="line">proper_slice ::=  [lower_bound] <span class="string">&quot;:&quot;</span> [upper_bound] [ <span class="string">&quot;:&quot;</span> [stride] ]</span><br><span class="line">lower_bound  ::=  expression</span><br><span class="line">upper_bound  ::=  expression</span><br><span class="line">stride       ::=  expression</span><br></pre></td></tr></table></figure>
<ul>
<li><p>可以用作表达式赋值、<code>del</code>语句的目标</p>
</li>
<li><p>形似表达式列表的东西同样形似切片列表，所以任何抽取操作
都可以被解析为切片</p>
<ul>
<li>通过定义将此情况解析为抽取优先于切片以消除歧义</li>
</ul>
</li>
<li><p>原型使用<code>__getitem__</code>、根据切片列表构造的键进行索引</p>
<ul>
<li>切片列表包含逗号：键将为包含切片项转换的元组</li>
<li>否则：键为单个切片项的转换</li>
<li>切片项若为表达式：切片的转换即为切片对象</li>
</ul>
</li>
</ul>
<h3 id="Calling"><a href="#Calling" class="headerlink" title="Calling"></a><em>Calling</em></h3><p>调用：附带可能为空的一系列参数来执行可调用对象</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">call                 ::=  primary <span class="string">&quot;(&quot;</span> [argument_list [<span class="string">&quot;,&quot;</span>] | comprehension] <span class="string">&quot;)&quot;</span></span><br><span class="line">argument_list        ::=  positional_arguments [<span class="string">&quot;,&quot;</span> starred_and_keywords]</span><br><span class="line">                            [&quot;,&quot; keywords_arguments]</span><br><span class="line">                          | starred_and_keywords [&quot;,&quot; keywords_arguments]</span><br><span class="line">                          | keywords_arguments</span><br><span class="line">positional_arguments ::=  [<span class="string">&quot;*&quot;</span>] expression (<span class="string">&quot;,&quot;</span> [<span class="string">&quot;*&quot;</span>] expression)*</span><br><span class="line">starred_and_keywords ::=  (<span class="string">&quot;*&quot;</span> expression | keyword_item)</span><br><span class="line">                          (&quot;,&quot; &quot;*&quot; expression | &quot;,&quot; keyword_item)*</span><br><span class="line">keywords_arguments   ::=  (keyword_item | <span class="string">&quot;**&quot;</span> expression)</span><br><span class="line">                          (&quot;,&quot; keyword_item | &quot;,&quot; &quot;**&quot; expression)*</span><br><span class="line">keyword_item         ::=  identifier <span class="string">&quot;=&quot;</span> expression</span><br></pre></td></tr></table></figure>
<ul>
<li><p>要求值为可调用对象</p>
<ul>
<li>用户定义函数</li>
<li>内置函数</li>
<li>内置对象方法</li>
<li>类对象</li>
<li>类实例方法</li>
<li>任何具有<code>__call__()</code>方法的对象</li>
</ul>
</li>
<li><p>调用流程</p>
<ul>
<li>参数表达式在尝试调用前被求值</li>
<li>所有参数表达式被转换为参数列表</li>
<li>代码块将形参绑定到对应参数表达式值</li>
</ul>
</li>
<li><p>除非引发异常，调用总有返回值</p>
<ul>
<li>返回值可能为<code>None</code></li>
<li>返回值计算方式取决于可调用类型<ul>
<li>用户定义函数、实例方法、类实例：函数返回值</li>
<li>内置函数：依赖于编译器</li>
<li>内置对象方法：类新实例</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li>在位置参数、关键字参数后加上括号不影响语义</li>
</ul>
</blockquote>
<h4 id="关键字实参转位置实参"><a href="#关键字实参转位置实参" class="headerlink" title="关键字实参转位置实参"></a>关键字实参转位置实参</h4><p>若存在关键字实参，会通过以下操作被转换为位置参数</p>
<ul>
<li>为正式参数创建<strong>未填充空位的列表</strong></li>
<li>若有N个位置参数：将其放入前N个空位</li>
<li>对每个关键字参数<ul>
<li>使用标识符确定对应的空位：若标识符与第k个正式
参数名相同，使用第k个空位</li>
<li>若空位已被填充：则<code>raise TypeError</code></li>
<li>否则将参数值放入空位进行填充</li>
</ul>
</li>
<li>所有参数处理完毕后，未填充空位使用默认值填充</li>
<li>若仍有未填充空位，则<code>raise TypeError</code>；否则<strong>填充完毕</strong>
列表被作为调用的参数列表</li>
</ul>
<h4 id="多余实参"><a href="#多余实参" class="headerlink" title="多余实参"></a>多余实参</h4><ul>
<li><p>若有关键字参数没有与之对应的正式参数名称，将
<code>raise TypeError</code>，除非有形参使用<code>**indentifier</code>句法</p>
<ul>
<li><code>identifier</code>将被初始化新的有序映射接收任何额外关键字
参数</li>
<li>若没有多余关键字实参，则为相同类型空映射</li>
</ul>
</li>
<li><p>若位置实参数目多余位置形参数目，将<code>raise TypeError</code>，
除非有形参使用<code>*identifier</code>句法</p>
<ul>
<li><code>identifier</code>将初始化为元组接受任何额外位置参数</li>
<li>没有多余位置实参，则为空元组</li>
</ul>
</li>
</ul>
<h4 id="实参解包"><a href="#实参解包" class="headerlink" title="实参解包"></a>实参解包</h4><ul>
<li><p>若实参中出现<code>*expression</code>句法</p>
<ul>
<li><code>expression</code>求值须为<code>iterable</code></li>
<li>来自该可迭代对象的元素被当作额外位置实参</li>
<li><p><code>*expression</code>可以放在关键字实参后而没有语法错误</p>
<ul>
<li><code>expression</code>会优先被迭代，元素用于填充参数列表</li>
<li>可能和关键字参数冲突，导致关键字参数对应空位被
填充</li>
</ul>
<blockquote>
<ul>
<li>一般位置实参必须位于关键字实参前，否则有语法错误</li>
</ul>
</blockquote>
</li>
</ul>
</li>
<li><p>若实参中出现<code>**expresion</code>句法</p>
<ul>
<li><code>expression</code>求值须为<code>mapping</code></li>
<li>其内容被当作额外关键字参数<ul>
<li>若关键字已存在，将<code>raise TypeError</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><ul>
<li><p>运算符优先级：从低到高</p>
<p>|运算符|描述|
|——-|——-|
|<code>lambda</code>|lambda表达式|
|<code>if--else</code>|条件表达式|
|<code>or</code>|布尔逻辑或|
|<code>and</code>|布尔逻辑与|
|<code>not</code>|布尔逻辑非|
|<code>in</code>、<code>not in</code>、<code>is</code>、<code>is not</code>、<code>&lt;</code>、<code>&lt;=</code>、<code>&gt;</code>、<code>=&gt;</code>、<code>!=</code>、<code>==</code>|比较运算，包括成员检测、标识号检测|
|<code>|</code>|按位或|
|<code>^</code>|按位异或|
|<code>&amp;</code>|按位与|
|<code>&lt;&lt;</code>、<code>&gt;&gt;</code>|移位|
|<code>+</code>、<code>-</code>|加、减|
|<code>*</code>、<code>@</code>、<code>/</code>、<code>//</code>、<code>%</code>|乘、矩阵乘、除、整除、取余（字符串格式化）|
|<code>+x</code>、<code>-x</code>、<code>~x</code>|正、负、按位取反|
|<code>**</code>|幂次|
|<code>await</code>|await表达式|
|<code>x[index]</code>、<code>x[start:end]</code>、<code>x(arguments...)</code>|抽取、切片、调用、属性调用|
|<code>(expression...)</code>、<code>[expressions...]</code>、<code>&#123;key:value&#125;</code>、<code>&#123;expressions...&#125;</code>|绑定或元组、列表、字典、集合显示|</p>
</li>
<li><p>求值顺序：从左至右对表达式求值</p>
<ul>
<li>但赋值操作时，右侧先于左侧求值</li>
</ul>
</li>
<li><p>算术类型转换</p>
<ul>
<li>若任意参数为复数，另一参数转换为复数</li>
<li>否则，若任意参数为浮点数，另一参数为浮点数</li>
<li>否则，二者均为整数，不需要转换</li>
</ul>
</li>
</ul>
<h3 id="await"><a href="#await" class="headerlink" title="await"></a><code>await</code></h3><p><code>await</code>：挂起coroutine执行以等待awaitable对象</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">await_expr ::= <span class="string">&quot;await&quot;</span> primary</span><br></pre></td></tr></table></figure>
<ul>
<li>只能在协程函数中使用</li>
</ul>
<h3 id="幂运算符"><a href="#幂运算符" class="headerlink" title="幂运算符"></a>幂运算符</h3><p>幂运算符</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">power ::= (await_expr | primary) [<span class="string">&quot;**&quot;</span> u_expr]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>优先级高于左侧一元运算符、低于右侧一元运算符</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-<span class="number">1</span> ** <span class="number">2</span> == -<span class="number">1</span></span><br><span class="line"><span class="number">0</span> ** <span class="number">0</span> == <span class="number">1</span></span><br><span class="line">	<span class="comment"># 编程语言得普遍做法</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>语义同两个参数调用内置<code>power</code>函数</p>
<ul>
<li>左参数进行右参数所指定的幂次乘方运算</li>
<li>数值参数会转换为相同类型，返回转换后类型<ul>
<li><code>int</code>类型做负数幂次：参数转换为<code>float</code></li>
<li><code>0</code>进行负数幂次：<code>raise ZeroDivisionError</code></li>
<li>负数进行分数次幂次：返回<code>complex</code>类型</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="一元算术、位运算"><a href="#一元算术、位运算" class="headerlink" title="一元算术、位运算"></a>一元算术、位运算</h3><p>一元算术、位运算</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">u_expr ::= power | <span class="string">&quot;-&quot;</span> u_expr | <span class="string">&quot;+&quot;</span> u_expr | <span class="string">&quot;~&quot;</span> u_expr</span><br></pre></td></tr></table></figure>
<ul>
<li>一元算数、位运算具有相同优先级</li>
<li>若参数类型不正确将<code>raise TypeError</code><ul>
<li><code>+</code>：产生数值参数相同的值</li>
<li><code>-</code>：产生数值参数的负值</li>
<li><code>~</code>：只作用于整数，对整数参数按位取反，返回<code>-(x+1)</code>
（即负值使用补码存储）</li>
</ul>
</li>
</ul>
<h3 id="二元算术运算符"><a href="#二元算术运算符" class="headerlink" title="二元算术运算符"></a>二元算术运算符</h3><p>二元算术运算符</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">m_expr ::=  u_expr | m_expr <span class="string">&quot;*&quot;</span> u_expr | m_expr <span class="string">&quot;@&quot;</span> m_expr |</span><br><span class="line">            m_expr &quot;//&quot; u_expr | m_expr &quot;/&quot; u_expr |</span><br><span class="line">            m_expr &quot;%&quot; u_expr</span><br><span class="line">a_expr ::=  m_expr | a_expr <span class="string">&quot;+&quot;</span> m_expr | a_expr <span class="string">&quot;-&quot;</span> m_expr</span><br></pre></td></tr></table></figure>
<ul>
<li><p>二元算术运算符遵循传统优先级，除幂运算符外只有两个优先
级别</p>
<ul>
<li>乘法型</li>
<li>加法型</li>
</ul>
</li>
<li><p>python支持混合算术，二元运算符可以用于不同类型操作数</p>
<ul>
<li>精度较低者会被扩展为另一个操作数类型</li>
</ul>
</li>
</ul>
<h4 id="算符说明"><a href="#算符说明" class="headerlink" title="算符说明"></a>算符说明</h4><ul>
<li><p><code>@</code>：目标是用于矩阵乘法，没有内置类型实现此运算符</p>
</li>
<li><p><code>%</code>：模，输出第1个参数除以第2个参数的余数</p>
<ul>
<li>参数可以是浮点数</li>
<li>结果正负总是与第2个操作数一致、或为0</li>
<li>结果绝对值一定小于第2个操作数绝对值（数学上必然真，
但对浮点数而言由于舍入误差存在，数值上未必真）</li>
</ul>
</li>
<li><p><code>//</code>：整除，结果就是<code>floor</code>函数处理算术除法<code>/</code>的结果</p>
<ul>
<li>整除、模语义同内置函数<code>divmod(x,y) == (x//y, x%y)</code></li>
<li>若<code>x</code>接近<code>y</code>的整数倍，由于舍入误差的存在，<code>x//y</code>可能
大于<code>(x-x%y)//y</code>，此时python返回后一个结果，保证
<code>divmod(x,y)[0]*y + x % y</code>尽量接近<code>x</code></li>
</ul>
</li>
<li><p>某些运算符也作用于特定非数字类型</p>
<ul>
<li><code>*</code>：两个参数分别为整数、序列，执行<strong>序列重复</strong></li>
<li><code>%</code>：被字符串对象重载，用于执行旧式字符串格式化/插值</li>
<li><code>+</code>：两个参数为相同类型序列，执行序列拼接操作</li>
</ul>
</li>
</ul>
<h3 id="移位运算"><a href="#移位运算" class="headerlink" title="移位运算"></a>移位运算</h3><p>移位运算</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shift_expr ::= a_expr | shift_expr (<span class="string">&quot;&lt;&lt;&quot;</span> | <span class="string">&quot;&gt;&gt;&quot;</span>) a_expr</span><br></pre></td></tr></table></figure>
<ul>
<li>优先级低于算术运算</li>
<li>运算符接受整数参数<ul>
<li>将第一个参数左移、右移第二个参数指定的bit数</li>
<li>右移：<code>x &gt;&gt; n == x // power(2, n)</code></li>
<li>左移：<code>x &lt;&lt; n == x * power(2, n)</code></li>
</ul>
</li>
</ul>
<h3 id="二元位运算"><a href="#二元位运算" class="headerlink" title="二元位运算"></a>二元位运算</h3><p>二元位运算</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">and_expr ::=  shift_expr | and_expr <span class="string">&quot;&amp;&quot;</span> shift_expr</span><br><span class="line">xor_expr ::=  and_expr | xor_expr <span class="string">&quot;^&quot;</span> and_expr</span><br><span class="line">or_expr  ::=  xor_expr | or_expr <span class="string">&quot;|&quot;</span> xor_expr</span><br></pre></td></tr></table></figure>
<ul>
<li><p>三种位运算符具有不同的优先级</p>
</li>
<li><p>两个参数须为整数</p>
<ul>
<li><code>&amp;</code>：对两个参数进行按位<em>AND</em>运算</li>
<li><code>^</code>：对两个参数进行按位<em>XOR</em>运算</li>
<li><code>|</code>：对两个参数进行按位<em>OR</em>运算</li>
</ul>
</li>
</ul>
<h3 id="比较运算"><a href="#比较运算" class="headerlink" title="比较运算"></a>比较运算</h3><p>比较运算</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">comparison    ::=  or_expr (comp_operator or_expr)*</span><br><span class="line">comp_operator ::=  <span class="string">&quot;&lt;&quot;</span> | <span class="string">&quot;&gt;&quot;</span> | <span class="string">&quot;==&quot;</span> | <span class="string">&quot;&gt;=&quot;</span> | <span class="string">&quot;&lt;=&quot;</span> | <span class="string">&quot;!=&quot;</span></span><br><span class="line">                   | &quot;is&quot; [&quot;not&quot;] | [&quot;not&quot;] &quot;in&quot;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>所有比较运算优先级相同（与C不同）</p>
<ul>
<li>低于任何算术、移位、位运算</li>
</ul>
</li>
<li><p>比较运算可以任意串联<code>a  op1 b op2 c ... y opN z</code>等价于
<code>a op1 b and b op2 c and ... and y opN z</code></p>
<ul>
<li><p>只是后者中每个表达式最多只被求值一次</p>
</li>
<li><p>例：<code>a &lt; b &gt;= c</code>类似表达式会被按照传统比较法则解读</p>
<ul>
<li>等价<code>a &lt; b and b &gt;= c</code></li>
<li>仍具有短路求值特性，<code>a &lt; b == false</code>时，<code>c</code>不会
被求值</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="值比较"><a href="#值比较" class="headerlink" title="值比较"></a>值比较</h4><ul>
<li><p><code>&gt;</code>、<code>&lt;</code>、<code>==</code>、<code>!=</code>、<code>&lt;=</code>、<code>&gt;=</code>比较两个对象值</p>
<ul>
<li>不要求两个对象为相同类型</li>
</ul>
<blockquote>
<ul>
<li>比较运算符实现了<strong>特定对象值概念</strong>，可以认为是通过
 实现对象比较间接定义对象值</li>
</ul>
</blockquote>
</li>
<li><p>所有类型继承于<code>object</code>，从其继承了默认比较行为</p>
<ul>
<li><p><code>=</code>、<code>!=</code>：一致性比较，基于对象标识<code>id</code></p>
<ul>
<li>具有相同标识的实例一致性比较结果相等</li>
<li>此默认行为动机：希望对象都应该是自反射，即
<code>x is y</code>就意味着<code>x == y</code></li>
</ul>
</li>
<li><p><code>&lt;</code>、<code>&gt;</code>、<code>&lt;=</code>、<code>&gt;=</code>：没有默认值提供</p>
<ul>
<li>尝试比较<code>raise TypeError</code></li>
<li>此默认行为动机：缺少一致性比较类似固定值</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="数字类型"><a href="#数字类型" class="headerlink" title="数字类型"></a>数字类型</h5><p>数字类型：<code>int</code>、<code>float</code>、<code>complex</code>以及标准库类型
<code>fractions.Fraction</code>、<code>decimal.Decimal</code></p>
<ul>
<li><p>可进行类型内部、跨类型比较</p>
<ul>
<li>类型相关限制内按数学（算法）规则正确进行比较，且不会
有精度损失</li>
<li>复数不支持次序比较</li>
</ul>
</li>
<li><p>非数字值<code>float(&#39;NaN&#39;)</code>、<code>decimal.Decimal(&#39;NaN&#39;)</code></p>
<ul>
<li>同任何其他数字值比较均返回<code>False</code></li>
<li><strong>不等于自身</strong>，但是是同一个对象（标识相同）</li>
</ul>
<blockquote>
<ul>
<li>具体实现参见<em>cs_python/py3ref/#todo</em></li>
</ul>
</blockquote>
</li>
</ul>
<h5 id="二进制码序列"><a href="#二进制码序列" class="headerlink" title="二进制码序列"></a>二进制码序列</h5><p>二进制码序列：<code>bytes</code>、<code>bytearray</code></p>
<ul>
<li>可以进行类型内部、跨类型比较</li>
<li>使用元素数字值按字典序进行比较</li>
</ul>
<h5 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h5><p>字符串：<code>str</code></p>
<ul>
<li>使用字符的Unicode码位数字值、按字典序比较</li>
<li>字符串、二进制码序列不能直接比较</li>
</ul>
<h5 id="序列"><a href="#序列" class="headerlink" title="序列"></a>序列</h5><p>序列：<code>tuple</code>、<code>list</code>、<code>range</code></p>
<ul>
<li><p>只能进行类型内部比较</p>
<ul>
<li>跨类型：一致性比较结果为否、次序比较将
<code>raise TypeError</code></li>
<li><code>range</code>不支持次序比较</li>
</ul>
</li>
<li><p>序列元素通过相应元素进行字典序比较</p>
<ul>
<li>序列相等：相同类型、相同长度，每对相应元素必须 相等</li>
<li>对支持次序比较序列：排序同第一个不相等元素排序，若
对应元素不同，较短序列排序较小</li>
</ul>
</li>
<li><p>强制规定元素自反射性：序列元素<code>x</code>，<code>x==x</code>总为真</p>
<ul>
<li><p>即序列元素比较比较时：须首先比较元素标识，仅会对不同
元素执行<code>==</code>严格比较运算</p>
</li>
<li><p>若序列元素为自反射元素，结果与严格比较相同；若序列
元素为非自反射元素，结果与严格比较不同</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nan = <span class="built_in">float</span>(<span class="string">&quot;NaN&quot;</span>)</span><br><span class="line">(nan <span class="keyword">is</span> nan) == <span class="literal">True</span></span><br><span class="line">(nan == nan) == <span class="literal">False</span></span><br><span class="line">([nan] == [nan]) == <span class="literal">True</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h5 id="映射"><a href="#映射" class="headerlink" title="映射"></a>映射</h5><p>映射：<code>dict</code></p>
<ul>
<li>映射相等：当且进行具有相同键值对<ul>
<li>键、值一致性比较强制规定自反射性</li>
</ul>
</li>
</ul>
<h5 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h5><p>集合：<code>set</code>、<code>frozenset</code></p>
<ul>
<li><p>可进行类型内部、跨类型比较</p>
</li>
<li><p>比较运算符定义为子集、超集检测</p>
<ul>
<li>这类关系没有定义完全排序，如：<code>&#123;1,2&#125;</code>、<code>&#123;2,3&#125;</code>集合
不相等，也没有大小比较关系</li>
<li>所以，集合不应作为依赖完全排序的函数参数，如：
<code>min</code>、<code>max</code>、<code>sorted</code>，将产生未定义结果</li>
</ul>
</li>
<li><p>集合强制规定其元素自反射性</p>
</li>
</ul>
<h5 id="自定比较行为"><a href="#自定比较行为" class="headerlink" title="自定比较行为"></a>自定比较行为</h5><blockquote>
<ul>
<li>其他内置类型没有实现比较方法，继承<code>object</code>默认比较行为</li>
<li>可以通过实现<strong>富比较方法</strong>自定义类型的比较行为，最好
  遵守一些一致性规则（不强制）</li>
</ul>
</blockquote>
<ul>
<li><p>自反射：相同对象比较应该相等</p>
<ul>
<li><code>x is y</code>有<code>x == y</code></li>
</ul>
</li>
<li><p>对称性</p>
<ul>
<li><code>x == y</code>有<code>y == x</code></li>
<li><code>x != y</code>有<code>y != x</code></li>
<li><code>x &lt; y</code>有<code>y &gt; x</code></li>
<li><code>x &lt;= y</code>有<code>y &gt;= x</code></li>
</ul>
</li>
<li><p>可传递</p>
<ul>
<li><code>x &gt; y and y &gt; z</code>有<code>x &gt; z</code></li>
<li><code>x &lt; y and y &lt;= z</code>有<code>x &lt; z</code></li>
</ul>
</li>
<li><p>反向比较应该导致布尔取反</p>
<ul>
<li><code>x == y</code>有<code>not x != y</code></li>
<li><code>x &lt; y</code>有<code>not x &gt;= y</code>（对完全排序）</li>
<li><code>x &gt; y</code>有<code>not x &lt;= y</code>（对完全排序）</li>
</ul>
</li>
<li><p>相等对象应该具有相同hash值，或标记为不可hash</p>
</li>
</ul>
<blockquote>
<ul>
<li>具体实现参见<em>cs_python/py3ref/#todo</em></li>
</ul>
</blockquote>
<h4 id="成员检测"><a href="#成员检测" class="headerlink" title="成员检测"></a>成员检测</h4><p><code>in</code>、<code>not in</code>：成员检测，后者为前者取反</p>
<ul>
<li><p>对<code>list</code>、<code>tuple</code>、<code>set</code>、<code>frozenset</code>、<code>dict</code>、
<code>collections.deque</code>等<strong>内置</strong>容器类型</p>
<ul>
<li><code>x in y</code>同<code>any(x is e or x == e for e in y)</code></li>
<li>映射检测是否有给定键</li>
</ul>
</li>
<li><p>对字符串、字节串</p>
<ul>
<li>当且进当<code>x</code>为<code>y</code>其子串时<code>x in y</code>返回<code>True</code>，空字符串
总被视为其他字符串子串</li>
<li><code>x in y</code>等价于<code>y.find(x) != -1</code></li>
</ul>
</li>
<li><p>自定义类型可以自定义成员检测</p>
<ul>
<li><code>__contains__</code>方法返回值即为<code>x in y</code>返回值</li>
<li>未定义<code>__contains__</code>方法但定义<code>__iter__</code>，若迭代<code>y</code>
得到值<code>z == x</code>，则<code>x in y == True</code>，出现异常等同于
<code>in</code>引发异常</li>
</ul>
<blockquote>
<ul>
<li>具体实现参见<em>cs_python/py3ref/#todo</em></li>
</ul>
</blockquote>
</li>
</ul>
<h4 id="标识号比较"><a href="#标识号比较" class="headerlink" title="标识号比较"></a>标识号比较</h4><p><code>is</code>、<code>is not</code>：对象标识号检测，后者为前者取反</p>
<ul>
<li>当且仅当<code>x</code>、<code>y</code>为同一对象<code>x is y == True</code></li>
</ul>
<h3 id="布尔运算"><a href="#布尔运算" class="headerlink" title="布尔运算"></a>布尔运算</h3><p>布尔运算</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">or_test  ::=  and_test | or_test <span class="string">&quot;or&quot;</span> and_test</span><br><span class="line">and_test ::=  not_test | and_test <span class="string">&quot;and&quot;</span> not_test</span><br><span class="line">not_test ::=  comparison | <span class="string">&quot;not&quot;</span> not_test</span><br></pre></td></tr></table></figure>
<ul>
<li><p>执行布尔运算、表达式用于流程控制语句时，以下值被解析为
假值，其余值被解析为真值</p>
<ul>
<li><code>False</code></li>
<li><code>None</code></li>
<li>所有数值类型的数值0</li>
<li>空字符串</li>
<li>空容器</li>
</ul>
</li>
<li><p><code>and</code>、<code>or</code><strong>返回最终求值参数</strong>而不是<code>False</code>、<code>True</code></p>
<ul>
<li><p><code>x and y</code>：首先对<code>x</code>求值</p>
<ul>
<li>对<code>x</code>求值，若为假直接返回<code>x</code><strong>求值</strong></li>
<li>否则对<code>y</code><strong>求值并返回</strong></li>
</ul>
</li>
<li><p><code>x or y</code>：首先对<code>x</code>求值</p>
<ul>
<li>对<code>x</code>求值，若为真直接返回<code>x</code><strong>求值</strong></li>
<li>否则对<code>y</code><strong>求值并返回结果值</strong></li>
</ul>
</li>
</ul>
</li>
<li><p><code>not</code>必须创建新值，无论参数为和类型均范围布尔值<code>True</code>、
<code>False</code></p>
</li>
<li><p>可以通过自定义<code>__bool__</code>方法定制逻辑值</p>
<blockquote>
<ul>
<li>具体实现参见<em>cs_python/py3ref/#todo</em></li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="条件表达式"><a href="#条件表达式" class="headerlink" title="条件表达式"></a>条件表达式</h3><p>条件表达式：三元运算符</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conditional_expression ::=  or_test [<span class="string">&quot;if&quot;</span> or_test <span class="string">&quot;else&quot;</span> expression]</span><br><span class="line">expression             ::=  conditional_expression | lambda_expr</span><br><span class="line">expression_nocond      ::=  or_test | lambda_expr_nocond</span><br></pre></td></tr></table></figure>
<ul>
<li>在所有python运算中具有最低优先级</li>
<li><code>x if C else y</code><ul>
<li>首先对条件<code>C</code>求值</li>
<li>若<code>C</code>为真，<code>x</code>被求值并返回</li>
<li>否则将对<code>y</code>求值并返回</li>
</ul>
</li>
</ul>
<h3 id="lambda表达式"><a href="#lambda表达式" class="headerlink" title="lambda表达式"></a><code>lambda</code>表达式</h3><p><code>lambda</code>表达式：创建匿名函数</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lambda_expr        ::=  <span class="string">&quot;lambda&quot;</span> [parameter_list] <span class="string">&quot;:&quot;</span> expression</span><br><span class="line">lambda_expr_nocond ::=  <span class="string">&quot;lambda&quot;</span> [parameter_list] <span class="string">&quot;:&quot;</span> expression_nocond</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>lambda parameters: expression</code>返回函数对象，同</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> &lt;<span class="title">lambda</span>&gt;(<span class="params">parameters</span>):</span></span><br><span class="line">	<span class="keyword">return</span> expression</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<ul>
<li><code>lambda</code>表达式只是简单函数定义的简单写法</li>
</ul>
</blockquote>
<h3 id="表达式列表"><a href="#表达式列表" class="headerlink" title="表达式列表"></a>表达式列表</h3><p>表达式列表：除作为列表、集合显示的一部分，包含至少一个逗号
的列表表达式将生成元组</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">expression_list    ::=  expression (<span class="string">&quot;,&quot;</span> expression)* [<span class="string">&quot;,&quot;</span>]</span><br><span class="line">starred_list       ::=  starred_item (<span class="string">&quot;,&quot;</span> starred_item)* [<span class="string">&quot;,&quot;</span>]</span><br><span class="line">starred_expression ::=  expression | (starred_item <span class="string">&quot;,&quot;</span>)* [starred_item]</span><br><span class="line">starred_item       ::=  expression | <span class="string">&quot;*&quot;</span> or_expr</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>末尾逗号仅在创建单独元组时需要，在其他情况下可选</li>
</ul>
</blockquote>
<ul>
<li><p>元组长度就是列表中表达式的数量</p>
<ul>
<li>表达式将从左至右被求值</li>
</ul>
</li>
<li><p><code>*</code>表示可迭代拆包：操作数必须为<em>iterable</em>（同实参调用）</p>
<ul>
<li>可迭代对象将被拆解为迭代项序列，并被包含于新建的元组
、列表、集合中</li>
</ul>
</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>表达式</p><p><a href="https://xyy15926.github.io/Python/Py3Ref/expressions.html">https://xyy15926.github.io/Python/Py3Ref/expressions.html</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>UBeaRLy</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2019-06-06</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2019-06-06</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Python/">Python</a><a class="link-muted mr-2" rel="tag" href="/tags/Py3Ref/">Py3Ref</a></div><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_telegram"></a><a class="a2a_button_whatsapp"></a><a class="a2a_button_reddit"></a></div><script src="https://static.addtoany.com/menu/page.js" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/imgs/zfb.jpg" alt="Alipay"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="/imgs/wx.jpg" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/Python/Py3Ref/import_system.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Python包、模块</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/Python/Py3std/README.html"><span class="level-item">Python标准库</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: "0db25f9790b817adcec1c0da205f2b6c",
            repo: "xyy15926.github.io",
            owner: "xyy15926",
            clientID: "af2bd51bbe151a8f6261",
            clientSecret: "f38f610edfe7bc367d5a20d22d43b10d887199eb",
            admin: ["xyy15926"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: "last",
            
            
            enableHotKey: true,
            language: "zh-CN",
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">36</span></span></a><ul><li><a class="level is-mobile" href="/categories/Algorithm/Data-Structure/"><span class="level-start"><span class="level-item">Data Structure</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Heuristic/"><span class="level-start"><span class="level-item">Heuristic</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Issue/"><span class="level-start"><span class="level-item">Issue</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Problem/"><span class="level-start"><span class="level-item">Problem</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Algorithm/Specification/"><span class="level-start"><span class="level-item">Specification</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/C-C/"><span class="level-start"><span class="level-item">C/C++</span></span><span class="level-end"><span class="level-item tag">34</span></span></a><ul><li><a class="level is-mobile" href="/categories/C-C/Cppref/"><span class="level-start"><span class="level-item">Cppref</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/Cstd/"><span class="level-start"><span class="level-item">Cstd</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/MPI/"><span class="level-start"><span class="level-item">MPI</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/STL/"><span class="level-start"><span class="level-item">STL</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/CS/"><span class="level-start"><span class="level-item">CS</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/CS/Character/"><span class="level-start"><span class="level-item">Character</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Parallel/"><span class="level-start"><span class="level-item">Parallel</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Program-Design/"><span class="level-start"><span class="level-item">Program Design</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/CS/Storage/"><span class="level-start"><span class="level-item">Storage</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Daily-Life/"><span class="level-start"><span class="level-item">Daily Life</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Daily-Life/Maxism/"><span class="level-start"><span class="level-item">Maxism</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">27</span></span></a><ul><li><a class="level is-mobile" href="/categories/Database/Hadoop/"><span class="level-start"><span class="level-item">Hadoop</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/SQL-DB/"><span class="level-start"><span class="level-item">SQL DB</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/Spark/"><span class="level-start"><span class="level-item">Spark</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/Java/Scala/"><span class="level-start"><span class="level-item">Scala</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">42</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Bash-Programming/"><span class="level-start"><span class="level-item">Bash Programming</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Configuration/"><span class="level-start"><span class="level-item">Configuration</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/File-System/"><span class="level-start"><span class="level-item">File System</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/IPC/"><span class="level-start"><span class="level-item">IPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Process-Schedual/"><span class="level-start"><span class="level-item">Process Schedual</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Shell/"><span class="level-start"><span class="level-item">Shell</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Tool/"><span class="level-start"><span class="level-item">Tool</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Tool/Vi/"><span class="level-start"><span class="level-item">Vi</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Model/"><span class="level-start"><span class="level-item">ML Model</span></span><span class="level-end"><span class="level-item tag">21</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Model/Linear-Model/"><span class="level-start"><span class="level-item">Linear Model</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Model-Component/"><span class="level-start"><span class="level-item">Model Component</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Nolinear-Model/"><span class="level-start"><span class="level-item">Nolinear Model</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Model/Unsupervised-Model/"><span class="level-start"><span class="level-item">Unsupervised Model</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/"><span class="level-start"><span class="level-item">ML Specification</span></span><span class="level-end"><span class="level-item tag">17</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/Click-Through-Rate/"><span class="level-start"><span class="level-item">Click Through Rate</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/Click-Through-Rate/Recommandation-System/"><span class="level-start"><span class="level-item">Recommandation System</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/Computer-Vision/"><span class="level-start"><span class="level-item">Computer Vision</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Specification/FinTech/"><span class="level-start"><span class="level-item">FinTech</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Specification/FinTech/Risk-Control/"><span class="level-start"><span class="level-item">Risk Control</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Specification/Graph-Analysis/"><span class="level-start"><span class="level-item">Graph Analysis</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Specification/NLP/"><span class="level-start"><span class="level-item">NLP</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Technique/"><span class="level-start"><span class="level-item">ML Technique</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Technique/Feature-Engineering/"><span class="level-start"><span class="level-item">Feature Engineering</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Technique/Neural-Network/"><span class="level-start"><span class="level-item">Neural Network</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/ML-Theory/"><span class="level-start"><span class="level-item">ML Theory</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/ML-Theory/Loss/"><span class="level-start"><span class="level-item">Loss</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Theory/Model-Enhencement/"><span class="level-start"><span class="level-item">Model Enhencement</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ML-Theory/Optimization/"><span class="level-start"><span class="level-item">Optimization</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Algebra/"><span class="level-start"><span class="level-item">Math Algebra</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Algebra/Linear-Algebra/"><span class="level-start"><span class="level-item">Linear Algebra</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Algebra/Universal-Algebra/"><span class="level-start"><span class="level-item">Universal Algebra</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Analysis/"><span class="level-start"><span class="level-item">Math Analysis</span></span><span class="level-end"><span class="level-item tag">23</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Analysis/Fourier-Analysis/"><span class="level-start"><span class="level-item">Fourier Analysis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Functional-Analysis/"><span class="level-start"><span class="level-item">Functional Analysis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Optimization/"><span class="level-start"><span class="level-item">Optimization</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Analysis/Real-Analysis/"><span class="level-start"><span class="level-item">Real Analysis</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Math-Mixin/"><span class="level-start"><span class="level-item">Math Mixin</span></span><span class="level-end"><span class="level-item tag">18</span></span></a><ul><li><a class="level is-mobile" href="/categories/Math-Mixin/Statistics/"><span class="level-start"><span class="level-item">Statistics</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Math-Mixin/Time-Series/"><span class="level-start"><span class="level-item">Time Series</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Probability/"><span class="level-start"><span class="level-item">Probability</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">89</span></span></a><ul><li><a class="level is-mobile" href="/categories/Python/Cookbook/"><span class="level-start"><span class="level-item">Cookbook</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Jupyter/"><span class="level-start"><span class="level-item">Jupyter</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Keras/"><span class="level-start"><span class="level-item">Keras</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Matplotlib/"><span class="level-start"><span class="level-item">Matplotlib</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Numpy/"><span class="level-start"><span class="level-item">Numpy</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Pandas/"><span class="level-start"><span class="level-item">Pandas</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Py3Ref/"><span class="level-start"><span class="level-item">Py3Ref</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Py3std/"><span class="level-start"><span class="level-item">Py3std</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Pywin32/"><span class="level-start"><span class="level-item">Pywin32</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Readme/"><span class="level-start"><span class="level-item">Readme</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/TensorFlow/"><span class="level-start"><span class="level-item">TensorFlow</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/Twists/"><span class="level-start"><span class="level-item">Twists</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/RLang/"><span class="level-start"><span class="level-item">RLang</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Rust/"><span class="level-start"><span class="level-item">Rust</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Set/"><span class="level-start"><span class="level-item">Set</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/"><span class="level-start"><span class="level-item">Tool</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/Tool/Editor/"><span class="level-start"><span class="level-item">Editor</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Markup-Language/"><span class="level-start"><span class="level-item">Markup Language</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Web-Browser/"><span class="level-start"><span class="level-item">Web Browser</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Tool/Windows/"><span class="level-start"><span class="level-item">Windows</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/Web/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/NPM/"><span class="level-start"><span class="level-item">NPM</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/Proxy/"><span class="level-start"><span class="level-item">Proxy</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/Thrift/"><span class="level-start"><span class="level-item">Thrift</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><ul class="menu-list"><li><a class="level is-mobile" href="#Atoms"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">Atoms</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Indentifiers-Names"><span class="level-left"><span class="level-item">1.1.1</span><span class="level-item">Indentifiers/Names</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Private-Name-Mangling"><span class="level-left"><span class="level-item">1.1.1.1</span><span class="level-item">Private Name Mangling</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Literals"><span class="level-left"><span class="level-item">1.1.2</span><span class="level-item">Literals</span></span></a></li></ul></li></ul><li><a class="level is-mobile" href="#todo"><span class="level-left"><span class="level-item">2</span><span class="level-item">todo</span></span></a><ul class="menu-list"><ul class="menu-list"><li><a class="level is-mobile" href="#Parenthesized-Forms"><span class="level-left"><span class="level-item">2.1.1</span><span class="level-item">Parenthesized Forms</span></span></a></li><li><a class="level is-mobile" href="#List-Set-Dict-Generator-Tuple"><span class="level-left"><span class="level-item">2.1.2</span><span class="level-item">List/Set/Dict/Generator-Tuple</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#List-Displays"><span class="level-left"><span class="level-item">2.1.2.1</span><span class="level-item">List Displays</span></span></a></li><li><a class="level is-mobile" href="#Set-Displays"><span class="level-left"><span class="level-item">2.1.2.2</span><span class="level-item">Set Displays</span></span></a></li><li><a class="level is-mobile" href="#Dict-Displays"><span class="level-left"><span class="level-item">2.1.2.3</span><span class="level-item">Dict Displays</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Generator-Expression"><span class="level-left"><span class="level-item">2.1.3</span><span class="level-item">Generator Expression</span></span></a></li><li><a class="level is-mobile" href="#Yield-Expression"><span class="level-left"><span class="level-item">2.1.4</span><span class="level-item">Yield Expression</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#yield-from"><span class="level-left"><span class="level-item">2.1.4.1</span><span class="level-item">yield from</span></span></a></li></ul></li></ul><li><a class="level is-mobile" href="#Primaries"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">Primaries</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Attributeref"><span class="level-left"><span class="level-item">2.2.1</span><span class="level-item">Attributeref</span></span></a></li><li><a class="level is-mobile" href="#Subscriptions"><span class="level-left"><span class="level-item">2.2.2</span><span class="level-item">Subscriptions</span></span></a></li><li><a class="level is-mobile" href="#Slicings"><span class="level-left"><span class="level-item">2.2.3</span><span class="level-item">Slicings</span></span></a></li><li><a class="level is-mobile" href="#Calling"><span class="level-left"><span class="level-item">2.2.4</span><span class="level-item">Calling</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#关键字实参转位置实参"><span class="level-left"><span class="level-item">2.2.4.1</span><span class="level-item">关键字实参转位置实参</span></span></a></li><li><a class="level is-mobile" href="#多余实参"><span class="level-left"><span class="level-item">2.2.4.2</span><span class="level-item">多余实参</span></span></a></li><li><a class="level is-mobile" href="#实参解包"><span class="level-left"><span class="level-item">2.2.4.3</span><span class="level-item">实参解包</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#运算符"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">运算符</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#await"><span class="level-left"><span class="level-item">2.3.1</span><span class="level-item">await</span></span></a></li><li><a class="level is-mobile" href="#幂运算符"><span class="level-left"><span class="level-item">2.3.2</span><span class="level-item">幂运算符</span></span></a></li><li><a class="level is-mobile" href="#一元算术、位运算"><span class="level-left"><span class="level-item">2.3.3</span><span class="level-item">一元算术、位运算</span></span></a></li><li><a class="level is-mobile" href="#二元算术运算符"><span class="level-left"><span class="level-item">2.3.4</span><span class="level-item">二元算术运算符</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#算符说明"><span class="level-left"><span class="level-item">2.3.4.1</span><span class="level-item">算符说明</span></span></a></li></ul></li><li><a class="level is-mobile" href="#移位运算"><span class="level-left"><span class="level-item">2.3.5</span><span class="level-item">移位运算</span></span></a></li><li><a class="level is-mobile" href="#二元位运算"><span class="level-left"><span class="level-item">2.3.6</span><span class="level-item">二元位运算</span></span></a></li><li><a class="level is-mobile" href="#比较运算"><span class="level-left"><span class="level-item">2.3.7</span><span class="level-item">比较运算</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#值比较"><span class="level-left"><span class="level-item">2.3.7.1</span><span class="level-item">值比较</span></span></a></li><li><a class="level is-mobile" href="#成员检测"><span class="level-left"><span class="level-item">2.3.7.2</span><span class="level-item">成员检测</span></span></a></li><li><a class="level is-mobile" href="#标识号比较"><span class="level-left"><span class="level-item">2.3.7.3</span><span class="level-item">标识号比较</span></span></a></li></ul></li><li><a class="level is-mobile" href="#布尔运算"><span class="level-left"><span class="level-item">2.3.8</span><span class="level-item">布尔运算</span></span></a></li><li><a class="level is-mobile" href="#条件表达式"><span class="level-left"><span class="level-item">2.3.9</span><span class="level-item">条件表达式</span></span></a></li><li><a class="level is-mobile" href="#lambda表达式"><span class="level-left"><span class="level-item">2.3.10</span><span class="level-item">lambda表达式</span></span></a></li><li><a class="level is-mobile" href="#表达式列表"><span class="level-left"><span class="level-item">2.3.11</span><span class="level-item">表达式列表</span></span></a></li></ul></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://octodex.github.com/images/hula_loop_octodex03.gif" alt="UBeaRLy"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">UBeaRLy</p><p class="is-size-6 is-block">Protector of Proxy</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Earth, Solar System</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">392</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">93</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">522</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/xyy15926" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/xyy15926"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-04T15:07:54.896Z">2021-08-04</time></p><p class="title"><a href="/uncategorized/README.html"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-03T07:46:51.000Z">2021-08-03</time></p><p class="title"><a href="/Web/NPM/hexo_config.html">Hexo 建站</a></p><p class="categories"><a href="/categories/Web/">Web</a> / <a href="/categories/Web/NPM/">NPM</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-03T02:32:45.000Z">2021-08-03</time></p><p class="title"><a href="/Web/NPM/config.html">NPM 总述</a></p><p class="categories"><a href="/categories/Web/">Web</a> / <a href="/categories/Web/NPM/">NPM</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-02T08:11:11.000Z">2021-08-02</time></p><p class="title"><a href="/Python/Py3std/internet_data.html">互联网数据</a></p><p class="categories"><a href="/categories/Python/">Python</a> / <a href="/categories/Python/Py3std/">Py3std</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-29T13:55:00.000Z">2021-07-29</time></p><p class="title"><a href="/Linux/Shell/sh_apps.html">Shell 应用程序</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Shell/">Shell</a></p></div></article></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="pub-5385776267343559" data-ad-slot="6995841235" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="https://api.follow.it/subscription-form/WWxwMVBsOUtoNTdMSlJ4Z1lWVnRISERsd2t6ek9MeVpEUWs0YldlZGxUdXlKdDNmMEZVV1hWaFZFYWFSNmFKL25penZodWx3UzRiaVkxcnREWCtOYUJhZWhNbWpzaUdyc1hPangycUh5RTVjRXFnZnFGdVdSTzZvVzJBcTJHKzl8aXpDK1ROWWl4N080YkFEK3QvbEVWNEJuQjFqdWdxODZQcGNoM1NqbERXST0=/8" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="UBeaRLy" height="28"></a><p class="is-size-7"><span>&copy; 2021 UBeaRLy</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/xyy15926/proxy"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>